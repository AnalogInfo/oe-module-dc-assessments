{"version":3,"sources":["./src/app/ehr/ehr-routing.module.ts","./src/app/ehr/services/auth-guard-ehr.service.ts","./src/app/ehr/ehr-container/ehr-container.component.ts","./src/app/ehr/ehr-container/ehr-container.component.html","./src/app/ehr/ehr.module.ts"],"names":[],"mappings":"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","file":"ehr-ehr-module-es2015.js","sourcesContent":["/*\n *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>\n *   All rights reserved.\n *   For License information see LICENSE.md in the root folder of this project.\n */\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthEhrGuard } from './services/auth-guard-ehr.service';\nimport { PageNotFoundComponent } from 'app/theme/page-not-found/page-not-found.component';\nimport { AdminLoginComponent } from 'app/login/admin-login/admin-login.component';\nimport { AdminLoginFinalizeComponent } from 'app/login/admin-login-finalize/admin-login-finalize.component';\nimport { EhrContainerComponent } from './ehr-container/ehr-container.component';\n\nconst routes: Routes = [\n  { path: '',\n    // redirectTo: '/login'\n    // ,pathMatch: 'full'\n    component: EhrContainerComponent, // never used as our AuthGuardLogin will redirect based on the SMART app configuration\n    canActivate: [], // this is a dummy guard that we just use to redirect based on login state to admin or assessments\n    children: [\n      { path: 'adminLogin', component: AdminLoginComponent},\n      { path: 'adminLoginFinalize', component: AdminLoginFinalizeComponent},\n      { path: 'admin', canActivate: [AuthEhrGuard]\n              , 'loadChildren': () => import('../admin/admin.module').then(m => m.AdminModule)},\n      // { path: 'assessments', 'loadChildren': () => import('./assessments/assessments.module').then(m => m.AssessmentsModule)},\n      { path: '**', component: PageNotFoundComponent }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule\n    ,RouterModule.forChild(routes)\n  ],\n  exports: [ RouterModule ],\n  declarations: []\n})\nexport class EhrRoutingModule { }\n","/*\n *   Copyright (c) 2023 Discover and Change\n *   @author Stephen Nielson <snielson@discoverandchange.com>\n *   All rights reserved.\n *   For License information see LICENSE.md in the root folder of this project.\n */\nimport { Injectable }             from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot }    from '@angular/router';\nimport { AuthService } from 'app/login/services/auth.service';\nimport { Role } from 'app/shared/models/role';\n\n@Injectable()\nexport class AuthEhrGuard implements CanActivate {\n    constructor(private authService: AuthService, private router: Router) {}\n\n      canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        return this.authService.getCurrentUser()\n        .then(user => {\n            if (user && user.role < Role.Client) {\n                return true;\n            }\n            else {\n              this.router.navigate(['/login'], {\n                  queryParams: {\n                      return: state.url\n                      ,loginType: 1\n                  }\n              });\n              return false;\n            }\n        }).catch (error => {\n            this.router.navigate(['/login'], {\n              queryParams: {\n                  return: state.url\n                  ,loginType: 1\n              }\n          });\n\n          return false;\n        });\n      }\n\n    canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Promise<boolean> {\n        return this.canActivate(route, state);\n    }\n\n}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\n\n/*\n *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>\n *   All rights reserved.\n *   For License information see LICENSE.md in the root folder of this project.\n */\n@Component({\n  selector: 'dac-ehr-container',\n  templateUrl: './ehr-container.component.html'\n  ,host: {'class': 'd-flex px-0 col my-3'}\n})\nexport class EhrContainerComponent  implements OnInit, OnDestroy {\n  ngOnDestroy(): void {\n    throw new Error(\"Method not implemented.\");\n  }\n  ngOnInit(): void {\n    // throw new Error(\"Method not implemented.\");\n  }\n}\n","<div class=\"container-fluid\">\n  <div class=\"row no-gutters\">\n    <div class=\"col-12 col-lg-10 mx-auto px-3 card card-body\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n  <div class=\"row no-gutters\">\n    <dac-footer class=\"col-12 d-print-none\"></dac-footer>\n  </div>\n</div>\n","import { NO_ERRORS_SCHEMA, NgModule } from \"@angular/core\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { LoginModule } from \"app/login/login.module\";\nimport { SharedModule } from \"app/shared/shared.module\";\nimport { ThemeModule } from \"app/theme/theme.module\";\nimport { EhrContainerComponent } from \"./ehr-container/ehr-container.component\";\nimport { EhrRoutingModule } from \"./ehr-routing.module\";\nimport { AuthEhrGuard } from \"./services/auth-guard-ehr.service\";\n\n/*\n *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>\n *   All rights reserved.\n *   For License information see LICENSE.md in the root folder of this project.\n */\n@NgModule({\n  declarations: [\n    EhrContainerComponent\n  ],\n  imports: [\n    SharedModule.forRoot(),\n    LoginModule,\n    ThemeModule,\n    EhrRoutingModule\n  ],\n  schemas: [ NO_ERRORS_SCHEMA ],\n  providers: [\n    AuthEhrGuard\n  ],\n  bootstrap: []\n})\nexport class EhrModule { }\n"],"sourceRoot":"webpack:///"}