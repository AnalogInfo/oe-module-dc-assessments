(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "+MF4":
/*!***************************************************************!*\
  !*** ./src/app/library-assets/exercise/exercise.component.ts ***!
  \***************************************************************/
/*! exports provided: ExerciseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExerciseComponent", function() { return ExerciseComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/unique-id.service */ "rx/G");
/* harmony import */ var app_library_assets_models_library_asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/library-assets/models/library-asset */ "0B44");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "jhN1");
/* harmony import */ var app_library_assets_models_library_asset_result__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/library-assets/models/library-asset-result */ "UIUU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */









const _c0 = ["journal"];
function ExerciseComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "h4", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ExerciseComponent_div_0_Template_input_click_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.print(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.exercise == null ? null : ctx_r0.exercise.title);
} }
function ExerciseComponent_div_2_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 19, 20);
} }
function ExerciseComponent_div_2_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 21, 20);
} }
function ExerciseComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h4", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "i", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Time for Reflection");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "h5", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, ExerciseComponent_div_2_div_8_Template, 2, 0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, ExerciseComponent_div_2_div_9_Template, 2, 0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.exercise == null ? null : ctx_r1.exercise.journal);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.result);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.result);
} }
function ExerciseComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "h4", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "input", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ExerciseComponent_div_3_Template_input_click_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.submit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.exercise == null ? null : ctx_r2.exercise.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx_r2.disabled);
} }
class ExerciseComponent {
    constructor(element, idService, domSanitizer) {
        this.element = element;
        this.idService = idService;
        this.domSanitizer = domSanitizer;
        this.onSubmit = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.answerIds = [];
        this.hideHeaders = false;
        let clearText = function (evt) {
            let element = evt.target;
            element.innerText = "";
            evt.target.removeEventListener('focus', clearText);
        };
        this.boundClickHandler = clearText;
    }
    ngOnInit() {
        // we've sanitized this on the server, and we need to get the ids
        if (this.exercise && this.exercise.content) {
            this.ExerciseContent = this.domSanitizer.bypassSecurityTrustHtml(this.exercise.content);
        }
    }
    ngOnDestroy() {
        if (!this.result) {
            let elements = this.element.nativeElement.querySelectorAll('.exercise-answer');
            for (var i = 0; i < elements.length; i++) {
                elements[i].removeEventListener('focus', this.boundClickHandler);
            }
        }
    }
    ngAfterViewInit() {
        if (!this.exercise) {
            return; // no exercise... nothing to do here.
        }
        if (!this.result) {
            this.setupExerciseClickHandlers();
        }
        else {
            this.populateExerciseAnswers(this.result.answers);
            this.populateExerciseJournal(this.result.journal);
        }
    }
    hasJournal() {
        if (this.exercise.journal) {
            return true;
        }
        return false;
    }
    populateExerciseAnswers(answers) {
        if (!answers.length) {
            return;
        }
        answers.forEach(a => {
            let element = this.element.nativeElement.querySelector("#" + this.exercise.getAnswerIdPrefix() + a.id);
            if (element) {
                element.innerText = a.answer;
            }
        });
    }
    populateExerciseJournal(journal) {
        if (this.journal && journal) {
            this.journal.nativeElement.innerText = journal;
        }
    }
    setupExerciseClickHandlers() {
        let elements = this.element.nativeElement.querySelectorAll('.exercise-answer');
        for (var i = 0; i < elements.length; i++) {
            elements[i].contentEditable = true;
            elements[i].addEventListener('focus', this.boundClickHandler);
            if (elements[i].id) {
                let id = elements[i].id.replace(this.exercise.getAnswerIdPrefix(), "");
                this.answerIds.push(id);
            }
        }
    }
    print() {
        if (window && window.print) {
            window.print();
        }
    }
    /**
     * Saves off the answers and journal and sends it to the caller.
     */
    submit() {
        let answers = this.answerIds.map(i => {
            let element = this.element.nativeElement.querySelector('#' + this.exercise.getAnswerIdPrefix() + i);
            return {
                id: i,
                answer: element ? element.innerText : null
            };
        });
        let journalEntry = null;
        if (this.journal) {
            journalEntry = this.journal.nativeElement.innerText;
        }
        let result = new app_library_assets_models_library_asset_result__WEBPACK_IMPORTED_MODULE_4__["LibraryAssetResult"]();
        result.asset = this.exercise;
        result.answers = answers;
        result.journal = journalEntry;
        this.onSubmit.next(result);
    }
}
ExerciseComponent.ɵfac = function ExerciseComponent_Factory(t) { return new (t || ExerciseComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_1__["UniqueIdService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["DomSanitizer"])); };
ExerciseComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ExerciseComponent, selectors: [["dac-exercise"]], viewQuery: function ExerciseComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.journal = _t.first);
    } }, inputs: { exercise: "exercise", result: "result", disabled: "disabled", hideHeaders: "hideHeaders" }, outputs: { onSubmit: "onSubmit" }, decls: 4, vars: 4, consts: [["class", "row p-2", 4, "ngIf"], [3, "innerHTML"], ["class", "card card-cascade wider mt-4 col-md-8 journalContainer", 4, "ngIf"], ["class", "row p-2 d-print-none", 4, "ngIf"], [1, "row", "p-2"], [1, "col-md-12", "card", "card-body"], [1, "row"], [1, "col-6", "col-sm-3", "col-md-2", "order-1"], [1, "col-12", "col-sm-6", "col-md-8", "text-center", "order-3", "order-md-2"], [1, "h4-responsive"], [1, "col-6", "col-sm-3", "col-md-2", "text-right", "order-2", "order-md-3"], ["type", "button", "value", "Print", 1, "btn", "btn-secondary", "d-print-none", 3, "click"], [1, "card", "card-cascade", "wider", "mt-4", "col-md-8", "journalContainer"], [1, "view", "gradient-card-header", "secondary-gradient"], [1, "fa", "fa-pencil", "p-2"], [1, "card-body"], [1, "text-center"], ["contenteditable", "true", "class", "form-control journal", 4, "ngIf"], ["class", "form-control journal", 4, "ngIf"], ["contenteditable", "true", 1, "form-control", "journal"], ["journal", ""], [1, "form-control", "journal"], [1, "row", "p-2", "d-print-none"], [1, "col", "card", "card-body"], ["type", "button", "value", "Submit", 1, "btn", "btn-primary", 3, "disabled", "click"]], template: function ExerciseComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ExerciseComponent_div_0_Template, 9, 1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ExerciseComponent_div_2_Template, 10, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ExerciseComponent_div_3_Template, 9, 2, "div", 3);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hideHeaders);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.ExerciseContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasJournal());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hideHeaders);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS1hc3NldHMvZXhlcmNpc2UvZXhlcmNpc2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL2xpYnJhcnktYXNzZXRzL2V4ZXJjaXNlL2V4ZXJjaXNlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ExerciseComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-exercise',
                templateUrl: './exercise.component.html',
                styleUrls: ['./exercise.component.scss']
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_1__["UniqueIdService"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["DomSanitizer"] }]; }, { exercise: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], result: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], onSubmit: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], disabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["disabled"]
        }], hideHeaders: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], journal: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['journal']
        }] }); })();


/***/ }),

/***/ "+tmQ":
/*!*****************************************************************!*\
  !*** ./src/app/shared/role-selector/role-selector.component.ts ***!
  \*****************************************************************/
/*! exports provided: RoleSelectorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleSelectorComponent", function() { return RoleSelectorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_models_role__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/models/role */ "Y5fV");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class RoleSelectorComponent {
    constructor() {
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() {
        this.currentRole = this.role;
    }
    ngOnChanges(changes) {
        this.currentRole = this.role;
    }
    // TODO: stephen eventually this needs to be a checklist of roles.
    setAdmin() {
        if (this.currentRole === _shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Admin) {
            this.currentRole = _shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered;
        }
        else {
            this.currentRole = _shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Admin;
        }
        this.selected.emit(this.currentRole);
    }
    isAdmin() {
        return this.currentRole <= _shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Admin;
    }
}
RoleSelectorComponent.ɵfac = function RoleSelectorComponent_Factory(t) { return new (t || RoleSelectorComponent)(); };
RoleSelectorComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: RoleSelectorComponent, selectors: [["app-role-selector"]], inputs: { role: "role", disabled: "disabled" }, outputs: { selected: "selected" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 2, consts: [["id", "role-selector", "type", "checkbox", 1, "form-control", 3, "checked", "disabled", "click"], ["for", "role-selector"]], template: function RoleSelectorComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function RoleSelectorComponent_Template_input_click_0_listener() { return ctx.setAdmin(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "label", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Is Admin");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx.isAdmin())("disabled", ctx.disabled);
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9yb2xlLXNlbGVjdG9yL3JvbGUtc2VsZWN0b3IuY29tcG9uZW50LmNzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RoleSelectorComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-role-selector',
                templateUrl: './role-selector.component.html',
                styleUrls: ['./role-selector.component.css']
            }]
    }], function () { return []; }, { selected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], role: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], disabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "+u/X":
/*!***********************************************!*\
  !*** ./src/app/shared/models/scale-result.ts ***!
  \***********************************************/
/*! exports provided: ScaleResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleResult", function() { return ScaleResult; });
class ScaleResult {
    constructor() {
        this.score = 0;
    }
    get scale() {
        return this._scale;
    }
    set scale(v) {
        this._scale = v;
    }
    get score() {
        return this._score;
    }
    getScoreForDisplay() {
        // @see https://stackoverflow.com/a/5623195
        return this._score.toFixed(2).replace(/[.,]00$/, "");
    }
    get scorePercentage() {
        let score = 0;
        if (this.scale && this.score) {
            score = this.scale.getPercentageForScore(this.score);
        }
        return score;
    }
    set score(v) {
        this._score = v;
    }
    get range() {
        return this._range;
    }
    set range(v) {
        this._range = v;
    }
    getRangeDisplayName() {
        if (this._range) {
            return this._range.displayName;
        }
        return "";
    }
}


/***/ }),

/***/ "/5CI":
/*!**********************************************************************!*\
  !*** ./src/app/shared/services/question-answer-populator.service.ts ***!
  \**********************************************************************/
/*! exports provided: QuestionAnswerPopulator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionAnswerPopulator", function() { return QuestionAnswerPopulator; });
/* harmony import */ var _models_multiple_choice_question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/multiple-choice-question */ "OujB");
/* harmony import */ var _models_textbox_question__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/textbox-question */ "UT0e");
/* harmony import */ var _models_checklist_question__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/checklist-question */ "j8yT");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ "LvDl");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);




class QuestionAnswerPopulator {
    constructor() {
    }
    populateQuestion(question, questionSet) {
        let answer = null;
        let label = Object(lodash__WEBPACK_IMPORTED_MODULE_3__["sample"])(questionSet.labels);
        if (question instanceof _models_multiple_choice_question__WEBPACK_IMPORTED_MODULE_0__["MultipleChoiceQuestion"]) {
            answer = label.id;
        }
        if (question instanceof _models_textbox_question__WEBPACK_IMPORTED_MODULE_1__["TextboxQuestion"]) {
            answer = "Testing String";
        }
        if (question instanceof _models_checklist_question__WEBPACK_IMPORTED_MODULE_2__["ChecklistQuestion"]) {
            answer = new Map();
            answer.set(label.id, label.id);
        }
        question.setSavedAnswer(answer, questionSet.labels);
    }
}


/***/ }),

/***/ "/srF":
/*!****************************************************!*\
  !*** ./src/app/shared/models/display-condition.ts ***!
  \****************************************************/
/*! exports provided: DisplayCondition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DisplayCondition", function() { return DisplayCondition; });
class DisplayCondition {
    get displayType() {
        return this._displayType;
    }
    set displayType(v) {
        this._displayType = v;
    }
    get questionSet() {
        return this._questionSet;
    }
    set questionSet(v) {
        this._questionSet = v;
    }
    get question() {
        return this._question;
    }
    set question(v) {
        this._question = v;
    }
    get answer() {
        return this._answer;
    }
    set answer(v) {
        this._answer = v;
    }
    getDisplay(assessment) {
        if (this._displayType === 'show') {
            if (this.shouldShow(assessment)) {
                return 'show';
            }
            return 'hide';
        }
        else if (this.shouldHide(assessment)) {
            return 'hide';
        }
        return 'show';
    }
    shouldShow(assessment) {
        return this.metAnswerCondition('show', assessment);
    }
    shouldHide(assessment) {
        return this.metAnswerCondition('hide', assessment);
    }
    metAnswerCondition(type, assessment) {
        if (this._displayType !== type) {
            return false;
        }
        let qs = assessment.getQuestionSetById(this.questionSet.id);
        if (!qs) {
            return false;
        }
        let q = qs.getQuestionById(this.question.id);
        if (!q) {
            return false;
        }
        if (q.hasAnswer(this.answer)) {
            // if (q.answer && q.answer.id && q.answer.id == this.answer.id) {
            return true;
        }
        return false;
    }
}


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/snielson/projects/assessments-angular/src/main.ts */"zUnb");


/***/ }),

/***/ "04I9":
/*!*************************************************************!*\
  !*** ./src/app/assessment-charts/services/chart.service.ts ***!
  \*************************************************************/
/*! exports provided: ChartService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartService", function() { return ChartService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class ChartService {
    constructor() {
        this._chart = window['Chart'];
        if (!this._chart) {
            console.error("Cannot find reference to Chart.js library.  Check script path inclusion");
            return;
        }
        this.registerPlugins();
    }
    drawChart(targetElement, data, configOptions) {
        var element = targetElement;
        var ctx = element.getContext("2d");
        // TODO: stephen need a way of injecting this instead of grabbing a global script.
        return new this._chart(ctx, {
            type: "bar",
            data: data,
            options: configOptions
        });
    }
    // TODO: stephen need to typedef this.
    destroyChart(chart) {
        if (chart && chart.destroy) {
            // chart destroy doesn't seem to actually clear the canvas element
            if (chart.clear) {
                chart.clear();
            }
            chart.destroy();
        }
    }
    registerPlugins() {
        let Chart = this._chart;
        Chart.plugins.register({
            afterDraw: function (chartInstance) {
                if (chartInstance.config.options.showDatapoints) {
                    var helpers = Chart.helpers;
                    var ctx = chartInstance.chart.ctx;
                    var fontColor = helpers.getValueOrDefault(chartInstance.config.options.showDatapoints.fontColor, chartInstance.config.options.defaultFontColor);
                    // render the value of the chart above the bar
                    let fontSize = chartInstance.config.options.dataPointFontSize ? chartInstance.config.options.dataPointFontSize : Chart.defaults.global.defaultFontSize;
                    ctx.font = Chart.helpers.fontString(fontSize, 'bold', Chart.defaults.global.defaultFontFamily);
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'bottom';
                    ctx.fillStyle = fontColor;
                    // chartInstance.data.datasets.forEach(function (dataset) {
                    //     for (var i = 0; i < dataset.data.length; i++) {
                    //     var model = dataset._meta[Object.keys(dataset._meta)[0]].data[i]._model;
                    //     var scaleMax = dataset._meta[Object.keys(dataset._meta)[0]].data[i]._yScale.maxHeight;
                    //     var yPos = (scaleMax - model.y) / scaleMax >= 0.93 ? model.y + 20 : model.y - 5;
                    //     ctx.fillText(dataset.data[i], model.x, yPos);
                    //     }
                    // });
                }
            }
        });
    }
}
ChartService.ɵfac = function ChartService_Factory(t) { return new (t || ChartService)(); };
ChartService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ChartService, factory: ChartService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ChartService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "0B44":
/*!********************************************************!*\
  !*** ./src/app/library-assets/models/library-asset.ts ***!
  \********************************************************/
/*! exports provided: LibraryAsset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LibraryAsset", function() { return LibraryAsset; });
class LibraryAsset {
    constructor() {
        this.type = "assignment";
        this.creationDate = new Date();
        this.lastUpdateDate = new Date();
        this.tags = [];
    }
    getAnswerIdPrefix() {
        return 'answer-id-';
    }
    hasTag(tag) {
        return this.tags && this.tags.indexOf(tag) >= 0;
    }
    titleContainsString(str) {
        if (!this.title || this.title.trim() == "") {
            return false;
        }
        return this.title.toLowerCase().indexOf(str.toLowerCase()) >= 0;
    }
}


/***/ }),

/***/ "0Kit":
/*!********************************************!*\
  !*** ./src/app/login/sso/sso.component.ts ***!
  \********************************************/
/*! exports provided: SsoComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SsoComponent", function() { return SsoComponent; });
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/auth.service */ "6Hrc");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_models_role__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/models/role */ "Y5fV");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */













function SsoComponent_div_6_h2_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "h2", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](1, "app-spin-icon", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2, "Loading up your account");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
function SsoComponent_div_6_h2_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "h2", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1, " There was an error loading the application. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
function SsoComponent_div_6_h2_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "h2", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1, " Contact support for assistance. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
function SsoComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, SsoComponent_div_6_h2_1_Template, 3, 0, "h2", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, SsoComponent_div_6_h2_2_Template, 2, 0, "h2", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](3, SsoComponent_div_6_h2_3_Template, 2, 0, "h2", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx_r0.ssoFailed);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r0.ssoFailed);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r0.ssoFailed);
} }
function SsoComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "h2", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](2, " In order to use the assessment service to both take and save your assessment data, you must grant storage access. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "a", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function SsoComponent_div_7_Template_a_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](); return ctx_r5.grantStorageAccess(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4, "Grant Access");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "h2", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6, " Contact support for assistance, if you have any questions. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
class SsoComponent {
    constructor(route, dacConfig, router, authService, alertService) {
        this.route = route;
        this.dacConfig = dacConfig;
        this.router = router;
        this.authService = authService;
        this.alertService = alertService;
        this._ssoFailed = false;
        this._debugAlerts = false;
        this.log("SsoComponent");
        this._storageAccessRequired = false;
    }
    log(msg) {
        if (this._debugAlerts) {
            this.alertService.error(msg);
        }
        else {
            console.log(msg);
        }
    }
    get title() {
        return this.dacConfig.applicationTitle;
    }
    get isSeamless() {
        return this.dacConfig.seamlessMode;
    }
    get ssoFailed() {
        return this._ssoFailed;
    }
    get storageAccessRequired() {
        return this._storageAccessRequired;
    }
    ngInit() {
        this.route.queryParams.subscribe((params) => {
            this.log("Query params are subscribed inside ngInit()");
        });
        this.alertService.error("show something here");
    }
    ngAfterViewInit() {
        this.loadSSO(); // for now we just load the sso and don't deal with the storage access stuff.
    }
    grantStorageAccess() {
        // @ts-ignore
        var storageAccessGranted = document.requestStorageAccess();
        storageAccessGranted.then((isAccessGranted) => {
            if (isAccessGranted === true || isAccessGranted === undefined) {
                this._storageAccessRequired = false;
                this.loadSSO();
            }
            else {
                this.alertService.error("Storage access is required to use this service");
            }
        })
            .catch((reason) => {
            console.error(reason);
            this.alertService.error(reason);
            this.alertService.error("Storage access is required to use this service");
        });
    }
    requestStorageAccess() {
        let storageAccessGranted = Promise.resolve(true);
        if (!window.document['requestStorageAccess']) {
            console.error("requestStorageAccess() called when window.Document.requestStorageAccess does not exist");
        }
        else {
            storageAccessGranted = window.document['requestStorageAccess']();
        }
        storageAccessGranted.then((isAccessGranted) => {
            if (isAccessGranted) {
                this.loadSSO();
            }
            else {
                this.loadStorageAccessNeeded();
            }
        });
    }
    loadStorageAccessNeeded() {
        this._storageAccessRequired = true;
    }
    loadSSO() {
        this.log("SsoComponent ngAfterViewInit ");
        let time = new Date();
        this.log("Inside the ngAfterViewInt just before subscribe of query params");
        this.route.queryParams.subscribe((params) => {
            this.authService.authenticateSSO(params.RelayState)
                .then((userResp) => {
                this.log("User response is: " + JSON.stringify(userResp));
                let route = userResp.redirectUrl;
                if (userResp.issuer) {
                    this.dacConfig.setupSSOIssuerForSession(userResp.issuer);
                }
                if (!route) {
                    route = userResp.role == app_shared_models_role__WEBPACK_IMPORTED_MODULE_4__["Role"].Client ? "/assessments/dashboard/" : "/admin/dashboard/";
                }
                // so we don't just quickly flash through give a second to
                if (new Date().getTime() < (time.getTime() + 1000)) {
                    setTimeout(() => {
                        this.router.navigate([route]);
                    }, 1000);
                }
                else {
                    this.router.navigate([route]);
                }
            })
                .catch((error) => {
                let msg = error && error._message ? error._message : "There was a server error and we could not load your data";
                this.alertService.error(msg, 30000);
                this.log(error);
                // TODO: stephen if there is no error we should display something here...
                if (error.redirectURL) {
                    window.location.href = error.redirectURL;
                }
                else {
                    this._ssoFailed = true;
                }
            });
        });
    }
    ngOnInit() {
    }
    // TODO: stephen abstract this all into a footer component.
    get supportPhone() {
        return this.dacConfig.supportPhone;
    }
    get supportEmail() {
        return this.dacConfig.supportEmail;
    }
    get mailLink() {
        return "mailto:" + this.supportEmail;
    }
    get phoneLink() {
        return "tel:" + this.supportPhone;
    }
    get copyrightTitle() {
        return this.dacConfig.copyrightTitle;
    }
    get copyrightURL() {
        return this.dacConfig.copyrightURL;
    }
}
SsoComponent.ɵfac = function SsoComponent_Factory(t) { return new (t || SsoComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_3__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_services_auth_service__WEBPACK_IMPORTED_MODULE_0__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"])); };
SsoComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: SsoComponent, selectors: [["app-sso"]], decls: 8, vars: 2, consts: [[1, "view", "hm-black-light", "home-banner"], [1, "full-bg-img"], [1, "container"], [1, "d-flex", "align-items-center", "d-flex", "justify-content-center", 2, "height", "600px"], [1, "row", "mt-5"], [1, "col-md-12", "wow", "fadeIn", "mb-3"], ["class", "intro-info-content text-center", 4, "ngIf"], [1, "intro-info-content", "text-center"], ["class", "h2-responsive mb-2 wow fadeInDown text-uppercase text-light", 4, "ngIf"], [1, "h2-responsive", "mb-2", "wow", "fadeInDown", "text-uppercase", "text-light"], [1, "pl-2"], [1, "btn", "btn-lg", 3, "click"]], template: function SsoComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](6, SsoComponent_div_6_Template, 4, 3, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](7, SsoComponent_div_7_Template, 7, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx.storageAccessRequired);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.storageAccessRequired);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_7__["SpinIconComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL3Nzby9zc28uY29tcG9uZW50LmNzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](SsoComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"],
        args: [{
                selector: 'app-sso',
                templateUrl: './sso.component.html',
                styleUrls: ['./sso.component.css']
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_3__["DacConfig"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_0__["AuthService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_5__["AlertService"] }]; }, null); })();


/***/ }),

/***/ 1:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "14V2":
/*!**************************************************************************************************!*\
  !*** ./src/app/reports/client-assessment-result-view/client-assessment-result-view.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: ClientAssessmentResultViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientAssessmentResultViewComponent", function() { return ClientAssessmentResultViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/assessment.service */ "7myg");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scale-questions-list/scale-questions-list.component */ "d8w3");
/* harmony import */ var _scale_range_content_scale_range_content_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../scale-range-content/scale-range-content.component */ "xuKX");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */









function ClientAssessmentResultViewComponent_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-scale-range-content", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scaleResult", scaleResult_r1);
} }
function ClientAssessmentResultViewComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ClientAssessmentResultViewComponent_div_0_div_1_Template, 2, 1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-scale-questions-list", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.SkipContent);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", ctx_r0.result.assessment.getQuestionsForScale(scaleResult_r1.scale));
} }
class ClientAssessmentResultViewComponent {
    constructor(_assessmentService, route) {
        this._assessmentService = _assessmentService;
        this.route = route;
    }
    ngOnInit() {
        // TODO: stephen do we need the rx switchTo piece?
        this.route.params.subscribe((params) => {
            this._clientId = params['id'];
            let resultId = params['resultId'];
            this.hasLoadedResults = false;
            this._assessmentService.getAssessmentResult(this._clientId, resultId).then((result) => {
                this.hasLoadedResults = true;
                this.result = result;
                if (this.result == null || !this.result.scaleResults || this.result.scaleResults.length < 1) {
                    console.error("Could not find result");
                    // this.goBack();
                }
            })
                .catch((error) => {
                console.error(error);
                if (error && error.status === 404 || error.status === 400) {
                    // this.goBack();
                }
            });
        });
    }
    ngAfterViewInit() {
        // we need to let outside listeners like the server pdf generator know we have finished loading so we can generate the report
        console.log("adding dac-report-loaded class");
        document.body.classList.add("dac-report-loaded");
    }
}
ClientAssessmentResultViewComponent.ɵfac = function ClientAssessmentResultViewComponent_Factory(t) { return new (t || ClientAssessmentResultViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_1__["AssessmentService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"])); };
ClientAssessmentResultViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ClientAssessmentResultViewComponent, selectors: [["dac-client-assessment-result-view"]], decls: 1, vars: 1, consts: [[4, "ngFor", "ngForOf"], ["class", "row mb-0 mt-3", 4, "ngIf"], [1, "row"], [1, "col-12", "d-report-print-page", 3, "Questions"], [1, "row", "mb-0", "mt-3"], [1, "col", 3, "scaleResult"]], template: function ClientAssessmentResultViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ClientAssessmentResultViewComponent_div_0_Template, 4, 2, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.result.scaleResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_4__["ScaleQuestionsListComponent"], _scale_range_content_scale_range_content_component__WEBPACK_IMPORTED_MODULE_5__["ScaleRangeContentComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9jbGllbnQtYXNzZXNzbWVudC1yZXN1bHQtdmlldy9jbGllbnQtYXNzZXNzbWVudC1yZXN1bHQtdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBIiwiZmlsZSI6InNyYy9hcHAvcmVwb3J0cy9jbGllbnQtYXNzZXNzbWVudC1yZXN1bHQtdmlldy9jbGllbnQtYXNzZXNzbWVudC1yZXN1bHQtdmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ClientAssessmentResultViewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-client-assessment-result-view',
                templateUrl: './client-assessment-result-view.component.html',
                styleUrls: ['./client-assessment-result-view.component.scss']
            }]
    }], function () { return [{ type: app_shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_1__["AssessmentService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }]; }, null); })();


/***/ }),

/***/ "1qku":
/*!*********************************************************************!*\
  !*** ./src/app/shared/billing-details/billing-details.component.ts ***!
  \*********************************************************************/
/*! exports provided: BillingDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BillingDetailsComponent", function() { return BillingDetailsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_billing_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/billing.service */ "n9jI");
/* harmony import */ var _models_billing_details__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/billing-details */ "fkaD");
/* harmony import */ var _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/services/alert.service */ "Cmua");
/* harmony import */ var _services_dac_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/dac-config.service */ "OApS");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../spin-icon/spin-icon.component */ "bAL6");
/* harmony import */ var _billing_card_billing_card_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../billing-card/billing-card.component */ "wHro");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */












function BillingDetailsComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Loading... ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "app-spin-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BillingDetailsComponent_div_1_div_6_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "p", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "There is no card setup on file.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BillingDetailsComponent_div_1_div_6_Template_input_click_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r4.setupCard(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BillingDetailsComponent_div_1_div_7_div_5_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "dac-billing-card", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BillingDetailsComponent_div_1_div_7_div_5_div_1_Template_input_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4); return ctx_r9.setupCard(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "i", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BillingDetailsComponent_div_1_div_7_div_5_div_1_Template_i_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4); return ctx_r11.removeCard(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const card_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("card", card_r8);
} }
function BillingDetailsComponent_div_1_div_7_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BillingDetailsComponent_div_1_div_7_div_5_div_1_Template, 4, 1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r6.Billing.cards);
} }
function BillingDetailsComponent_div_1_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h6");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Billing Email On File ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BillingDetailsComponent_div_1_div_7_div_5_Template, 2, 1, "div", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r3.Billing.email);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.Billing.hasCards());
} }
function BillingDetailsComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h4");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Billing Card");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BillingDetailsComponent_div_1_div_6_Template, 5, 0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BillingDetailsComponent_div_1_div_7_Template, 6, 2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.Billing.hasCards());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.Billing.hasCards());
} }
class BillingDetailsComponent {
    constructor(billingService, alertService, dacConfig) {
        this.billingService = billingService;
        this.alertService = alertService;
        this.dacConfig = dacConfig;
        this.billingDetails = new _models_billing_details__WEBPACK_IMPORTED_MODULE_2__["BillingDetails"]();
    }
    get hasSubscription() {
        return this.billingDetails.subscriptions.length > 0;
    }
    ngOnInit() {
        this.loading = true;
        this.billingService.getBillingDetails()
            .then(details => {
            this.billingDetails = details;
            this.loading = false;
        })
            .catch((error) => {
            this.loading = false;
            console.error(error);
            this.alertService.error("Failed to retrieve billing details from server.  Check your network connection and refresh the page.");
        });
    }
    get Billing() {
        return this.billingDetails;
    }
    get supportEmail() {
        return this.dacConfig.supportEmail;
    }
    setupCard() {
        this.billingService.updateDefaultBillingCard(this.billingDetails)
            .then((updatedBillingDetails) => {
            this.billingDetails = updatedBillingDetails;
            this.alertService.success("Default billing card updated");
        })
            .catch((error) => {
            console.error(error);
            this.alertService.error("There was an error updating your default billing card.  Please try again or contact customer support");
        });
    }
    removeCard() {
        if (confirm("Are you sure you want to delete this card?")) {
            this.billingService.deleteDefaultBillingCard(this.billingDetails)
                .then((billingDetails) => {
                this.billingDetails = billingDetails;
                this.alertService.success("Deleted billing card");
            });
        }
    }
}
BillingDetailsComponent.ɵfac = function BillingDetailsComponent_Factory(t) { return new (t || BillingDetailsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_billing_service__WEBPACK_IMPORTED_MODULE_1__["BillingService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"])); };
BillingDetailsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BillingDetailsComponent, selectors: [["dac-billing-details"]], decls: 2, vars: 2, consts: [["class", "row", 4, "ngIf"], [1, "row"], [1, "col"], [1, "alert", "alert-warning"], [1, "card", "card-cascade", "wider", "col-md-10", "col-lg-8", "col-12", "ml-auto", "mr-auto"], [1, "view", "gradient-card-header", "secondary-gradient"], ["class", "card-body text-center", 4, "ngIf"], ["class", "card-body", 4, "ngIf"], [1, "card-body", "text-center"], [1, "alert", "alert-info"], [1, "text-center"], ["type", "button", "value", "Setup Payment Card", 1, "btn", "btn-secondary", 3, "click"], [1, "card-body"], ["class", "col-12", 4, "ngFor", "ngForOf"], [1, "col-12"], [3, "card"], ["type", "button", "value", "Update Card", 1, "btn", "btn-secondary", 3, "click"], ["alt", "Remove Saved Card", "title", "Remove Saved Card", 1, "btn", "btn-danger", "fa", "fa-trash", 3, "click"]], template: function BillingDetailsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BillingDetailsComponent_div_0_Template, 5, 0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BillingDetailsComponent_div_1_Template, 8, 2, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loading);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.loading);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_6__["SpinIconComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _billing_card_billing_card_component__WEBPACK_IMPORTED_MODULE_7__["BillingCardComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2JpbGxpbmctZGV0YWlscy9iaWxsaW5nLWRldGFpbHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9iaWxsaW5nLWRldGFpbHMvYmlsbGluZy1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BillingDetailsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-billing-details',
                templateUrl: './billing-details.component.html',
                styleUrls: ['./billing-details.component.scss']
            }]
    }], function () { return [{ type: _services_billing_service__WEBPACK_IMPORTED_MODULE_1__["BillingService"] }, { type: _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }, { type: _services_dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ 2:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "2SeV":
/*!****************************************************************!*\
  !*** ./src/app/shared/models/ExternalAssignedQuestionnaire.ts ***!
  \****************************************************************/
/*! exports provided: ExternalAssignedQuestionnaire */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExternalAssignedQuestionnaire", function() { return ExternalAssignedQuestionnaire; });
/* harmony import */ var _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AssignmentItem */ "z8B+");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class ExternalAssignedQuestionnaire extends _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__["AssignmentItem"] {
    constructor() {
        super();
        this.Type = "ExternalQuestionnaire";
    }
    get QuestionnaireId() {
        return this.questionnaireId;
    }
    get QuestionnaireReference() {
        return this.questionnaireReference;
    }
    set QuestionnaireReference(v) {
        this.questionnaireReference = v;
        let parts = this.questionnaireReference.split("/");
        let id = parts[parts.length - 1];
        if (id) {
            this.questionnaireId = id;
        }
        else {
            this.questionnaireId = null;
        }
    }
    get QuestionnaireResponseReference() {
        return this.questionnaireResponseReference;
    }
    set QuestionnaireResponseReference(v) {
        this.questionnaireResponseReference = v;
    }
    get Task() {
        return this.task;
    }
    set Task(v) {
        this.task = v;
    }
}


/***/ }),

/***/ "35sD":
/*!******************************************************!*\
  !*** ./src/app/companies/signup/signup.component.ts ***!
  \******************************************************/
/*! exports provided: SignupComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignupComponent", function() { return SignupComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/services/alert.service */ "Cmua");
/* harmony import */ var _login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../login/services/auth.service */ "6Hrc");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _shared_models_company__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/models/company */ "3EFq");
/* harmony import */ var _shared_services_company_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shared/services/company.service */ "Hu2X");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! app/shared/services/metrics.service */ "SPHu");
/* harmony import */ var app_login_services_amplify_auth_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/login/services/amplify-auth-service */ "BiiJ");
/* harmony import */ var app_login_models_AuthState__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/login/models/AuthState */ "3Xg2");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var app_shared_validators_password_strength_directive__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! app/shared/validators/password-strength.directive */ "g0DQ");
/* harmony import */ var app_theme_services_theme_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! app/theme/services/theme.service */ "qedY");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _pricing_table_pricing_table_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../pricing-table/pricing-table.component */ "i413");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


























function SignupComponent_form_40_div_3_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " Please provide a name for your company. Or use your own given name. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function SignupComponent_form_40_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 67);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, SignupComponent_form_40_div_3_p_1_Template, 2, 0, "p", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r6.signupForm.get("name").hasError("required"));
} }
function SignupComponent_form_40_div_5_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " Please provide a valid email for you or your company. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function SignupComponent_form_40_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 67);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, SignupComponent_form_40_div_5_p_1_Template, 2, 0, "p", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r7.signupForm.get("email").hasError("email"));
} }
function SignupComponent_form_40_div_7_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " A password is required. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function SignupComponent_form_40_div_7_p_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, " Your password is not strong enough. You must have a password that is 8 characters long, with one uppercase letter, one lowercase letter, and have one number. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function SignupComponent_form_40_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 67);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, SignupComponent_form_40_div_7_p_1_Template, 2, 0, "p", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, SignupComponent_form_40_div_7_p_2_Template, 2, 0, "p", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r8.signupForm.get("password").hasError("required"));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r8.signupForm.get("password").hasError("passwordStrength"));
} }
function SignupComponent_form_40_span_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "Get Started");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function SignupComponent_form_40_span_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "Processing");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
const _c0 = function () { return ["/baa"]; };
const _c1 = function () { return ["/terms-and-conditions"]; };
const _c2 = function () { return ["/privacy"]; };
function SignupComponent_form_40_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "form", 59);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "input", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](3, SignupComponent_form_40_div_3_Template, 2, 1, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](4, "input", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](5, SignupComponent_form_40_div_5_Template, 2, 1, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](6, "input", 62);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](7, SignupComponent_form_40_div_7_Template, 3, 2, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](8, "button", 63);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function SignupComponent_form_40_Template_button_click_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r16); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return ctx_r15.signup(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](9, SignupComponent_form_40_span_9_Template, 2, 0, "span", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](10, SignupComponent_form_40_span_10_Template, 2, 0, "span", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](11, "p", 65);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](12, "By clicking Get Started, you agree to the ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](13, "a", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](14, "Business Associate Agreement");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](15, ", ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](16, "a", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](17, "Terms of Service");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](18, ", and ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](19, "a", 66);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](20, "Privacy Policy.");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("formGroup", ctx_r0.signupForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.signupForm.get("name").invalid && (ctx_r0.signupForm.get("name").dirty || ctx_r0.signupForm.get("name").touched));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.signupForm.get("email").invalid && (ctx_r0.signupForm.get("email").dirty || ctx_r0.signupForm.get("email").touched));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.signupForm.get("password").invalid && (ctx_r0.signupForm.get("password").dirty || ctx_r0.signupForm.get("password").touched));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("disabled", ctx_r0.signupForm.invalid || ctx_r0.processingSignup);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", !ctx_r0.processingSignup);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.processingSignup);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction0"](10, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction0"](11, _c1));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction0"](12, _c2));
} }
function SignupComponent_form_41_app_spin_icon_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "app-spin-icon");
} }
function SignupComponent_form_41_Template(rf, ctx) { if (rf & 1) {
    const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "form", 68);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "p", 69);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](3, "Please enter the code you received in your email");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](4, "input", 70);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "button", 63);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function SignupComponent_form_41_Template_button_click_5_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r19); const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return ctx_r18.confirmSignup(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](6, "Confirm Email");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](7, SignupComponent_form_41_app_spin_icon_7_Template, 1, 0, "app-spin-icon", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](8, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](9, "Didn't receive a code? ");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](10, "a", 71);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function SignupComponent_form_41_Template_a_click_10_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r19); const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](); return ctx_r20.resendConfirmationCode($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](11, "Resend code");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("formGroup", ctx_r1.confirmForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("disabled", ctx_r1.confirmForm.invalid || ctx_r1.processingSignup);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r1.processingSignup);
} }
function SignupComponent_div_42_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 67);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](ctx_r2.formError);
} }
function SignupComponent_div_241_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 72);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "a", 73);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "img", 74);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function SignupComponent_div_242_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 72);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "a", 75);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "img", 76);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
function SignupComponent_div_243_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 72);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "a", 77);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](2, "img", 78);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
} }
const _c3 = function () { return ["/", "loginAdmin"]; };
class SignupComponent {
    constructor(companyService, router, formBuilder, authService, amplifyService, alertService, dacConfig, elementRef, metrics, themeService) {
        this.companyService = companyService;
        this.router = router;
        this.formBuilder = formBuilder;
        this.authService = authService;
        this.amplifyService = amplifyService;
        this.alertService = alertService;
        this.dacConfig = dacConfig;
        this.elementRef = elementRef;
        this.metrics = metrics;
        this.themeService = themeService;
        this.processingSignup = false;
        this.METRIC_CATEGORY = 'signup';
        this._company = new _shared_models_company__WEBPACK_IMPORTED_MODULE_5__["Company"]();
        this.isPerformingAction = false;
        this._authState = app_login_models_AuthState__WEBPACK_IMPORTED_MODULE_10__["AuthState"].SIGN_UP;
        this.signupForm = this.formBuilder.group({
            name: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_11__["Validators"].required],
            email: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_11__["Validators"].email],
            password: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_11__["Validators"].required, Object(app_shared_validators_password_strength_directive__WEBPACK_IMPORTED_MODULE_12__["passwordStrengthValidator"])()]] // change to match password requirements here
        });
        this.confirmForm = this.formBuilder.group({
            confirmationCode: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_11__["Validators"].required]
        });
        this._authStateSubscription = this.authService.authStateChange$().subscribe(authState => {
            this._authState = authState.state;
        });
        // this.amplifyService.setAuthState({state: 'signUp', user:null});
    }
    ngOnDestroy() {
        if (this._authStateSubscription) {
            this._authStateSubscription.unsubscribe();
        }
        this.themeService.setMainContentFluid(false);
        this.authService.resetAuthState();
    }
    ngOnInit() {
        this.themeService.setMainContentFluid(true);
        this.signupLogo = this.dacConfig.applicationLogoUrl;
        this.amplifyService.setAuthState({ state: app_login_models_AuthState__WEBPACK_IMPORTED_MODULE_10__["AuthState"].SIGN_UP, user: null });
    }
    trackSignup(action, name) {
        this.metrics.trackEvent(this.METRIC_CATEGORY, action, name);
    }
    isSignup() {
        return this._authState == app_login_models_AuthState__WEBPACK_IMPORTED_MODULE_10__["AuthState"].SIGN_UP;
    }
    isSignupConfirm() {
        return this._authState == app_login_models_AuthState__WEBPACK_IMPORTED_MODULE_10__["AuthState"].CONFIRM_SIGN_UP;
    }
    get authState() {
        return this._authState;
    }
    get Company() {
        return this._company;
    }
    handlePlan(plan) {
        // custom will go to the contact page.
        if (plan == "Therapist") {
            this.handleCTA();
        }
        return;
    }
    handleCTA() {
        let el = this.elementRef.nativeElement;
        let home = el.querySelector("#home");
        home.scrollIntoView(true);
    }
    showPartner(partner) {
        if (this.dacConfig.hasPartner(partner)) {
            return true;
        }
        return false;
    }
    confirmSignup() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.formError = "";
            this.trackSignup('confirmSignup');
            let code = this.confirmForm.get('confirmationCode').value.trim();
            this.processingSignup = true;
            this.amplifyService
                .confirmSignUp(this.Company.email, code)
                .then(() => {
                this.trackSignup('confirmSignup', 'cognito confirmed');
                this.registerNewCompany();
            })
                .catch((error) => {
                this.trackSignup('confirmSignup', 'code invalid or error');
                this.processingSignup = false;
                console.error(error);
                let msg = error.message || error || "There was an error in confirming your code.  Please try again or contact support";
                this.formError = msg;
            });
        });
    }
    resendConfirmationCode(evt) {
        this.formError = "";
        evt.preventDefault();
        evt.stopImmediatePropagation();
        this.trackSignup('resentConfirmationCode');
        this.amplifyService
            .resendSignUp(this.Company.email)
            .then(() => {
            this.trackSignup('resentConfirmationCode', 'code resent');
            this.alertService.info("Confirmation code resent. Check your email for confirmation");
        })
            .catch((error) => {
            this.trackSignup('resentConfirmationCode', 'code failed to resend');
            this.formError = "There was an error resending the confirmation code.  Please try again";
        });
        return false;
    }
    signup() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this.formError = "";
            this.trackSignup('signupClicked');
            // we are going to clear our local storage to make sure everything is reset
            try {
                sessionStorage.clear();
                localStorage.clear();
            }
            catch (error) {
                this.trackSignup('signupClicked', 'clear storage failed');
                console.error("Failed to clear local and session storage", error);
            }
            this.processingSignup = true;
            let values = this.signupForm.value;
            this.Company.name = values.name;
            this.Company.email = values.email;
            this._company.user.username = this.Company.email;
            this.amplifyService.signUp({
                // email: this.Company.email,
                username: values.email,
                password: values.password,
                attributes: {
                    //   email: this.Company.email,          // optional
                    'custom:companyName': values.name
                },
                validationData: [] //optional
            })
                .then(data => {
                this.trackSignup('signupClicked', 'cognito signup');
                // TODO: stephen do we save off the lead here...
                this.processingSignup = false;
                this.amplifyService.setAuthState({ state: app_login_models_AuthState__WEBPACK_IMPORTED_MODULE_10__["AuthState"].CONFIRM_SIGN_UP, user: { username: data.user.getUsername() } });
            })
                .catch(err => {
                if (err.code === "UsernameExistsException") {
                    this.trackSignup('signupClicked', 'duplicate email');
                    this.formError = "That email address already exists.  Please choose a different one or login";
                }
                else if (err.code == 'InvalidParameterException') {
                    this.trackSignup('signupClicked', 'invalid cognito parameter');
                    this.formError = err.message;
                }
                else {
                    this.trackSignup('signupClicked', 'system error occurred');
                    this.formError = "There was an error creating your account.  Check your information and try again or contact our support";
                }
                this.processingSignup = false;
                console.log(err);
            });
        });
    }
    registerNewCompany() {
        this.formError = "";
        let values = this.signupForm.value;
        this.trackSignup('registerNewCompany');
        // this._company.user.password = this.password;
        // TODO: need to handle any referral and other pieces of information as part of this registration
        const user = this.amplifyService.signIn(this._company.email, values.password)
            .then((user) => {
            this.trackSignup('registerNewCompany', 'cognito signIn success');
            let authToken = user.signInUserSession.accessToken.jwtToken;
            // registration will only work if there is a valid auth token here...
            this.companyService.registerNewCompany(this._company, authToken)
                .then((company) => {
                this.trackSignup('registerNewCompany', 'company registered');
                // now let's login in and authenticate here...
                this.authService.authenticateCognito(user).then(() => {
                    this.trackSignup('registerNewCompany', 'authentication complete');
                    this.signupForm.reset();
                    this.alertService.success("Registration complete. Sending you on to your dashboard.");
                    setTimeout(() => {
                        this.router.navigate(["/admin/"]);
                        this.processingSignup = false;
                    }, 3000);
                })
                    .catch(error => {
                    this.trackSignup('registerNewCompany', 'authentication failed');
                    this.processingSignup = false;
                    console.error(error);
                    this.alertService.error("Failed to log you in.  Redirecting to login page");
                    this.router.navigate(["/loginAdmin"]);
                });
            })
                .catch(error => {
                this.trackSignup('registerNewCompany', 'company registration failed');
                this.processingSignup = false;
                console.error(error); // TODO: stephen this error needs to be transmitted to the server.
                this.formError = "Failed to sign you in and complete creation of your account.  Please contact customer support for assistance.";
                this.amplifyService.signOut({ global: true }); // sign out if we failed to login.
                this.amplifyService.setAuthState({ state: app_login_models_AuthState__WEBPACK_IMPORTED_MODULE_10__["AuthState"].SIGN_UP, user: null });
            });
        })
            .catch(error => {
            this.trackSignup('registerNewCompany', 'cognito signIn failed');
            console.error(error); // TODO: stephen this error needs to be transmitted to the server.
            this.formError = "Failed to sign you in and complete creation of your account.  Please contact customer support for assistance.";
        });
    }
    getFreeTrialPeriod() {
        return this.dacConfig.freeTrialPeriod;
    }
}
SignupComponent.ɵfac = function SignupComponent_Factory(t) { return new (t || SignupComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_shared_services_company_service__WEBPACK_IMPORTED_MODULE_6__["CompanyService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](app_login_services_amplify_auth_service__WEBPACK_IMPORTED_MODULE_9__["AmplifyAuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_7__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_3__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_8__["MetricsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](app_theme_services_theme_service__WEBPACK_IMPORTED_MODULE_13__["ThemeService"])); };
SignupComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({ type: SignupComponent, selectors: [["dac-signup"]], decls: 252, vars: 12, consts: [["id", "home"], [1, "color-overlay"], [1, "container"], [1, "row"], [1, "col-md-7", "col-sm-7", "intro-section"], [1, "intro-section-header", "text-left"], [1, "feature-list-1"], [1, "icon-container", "pull-left"], [1, "fa", "fa-check"], [1, "text-left"], [1, "col-md-5", "col-sm-5"], [1, "vertical-registration-form"], [1, "colored-line"], ["class", "registration-form", "id", "register", "role", "form", 3, "formGroup", 4, "ngIf"], ["class", "registration-form", "id", "confirmRegister", "role", "form", 3, "formGroup", 4, "ngIf"], ["class", "alert alert-danger", 4, "ngIf"], [1, "text-white"], [1, "text-primary", 3, "routerLink"], ["id", "section1", 1, "section1"], [1, "col-md-6"], [1, "side-screenshot", "pull-left"], ["src", "/assets/images/screenshot-1.png", "alt", "Feature", 1, "img-fluid"], [1, "brief", "text-left"], [1, "colored-line", "pull-left"], [1, "feature-list-2"], [1, "fa", "fa-cog"], [1, "details", "pull-left"], [1, "fa", "fa-list"], ["id", "section2", 1, "section2", "bgcolor-2"], [1, "features"], [1, "col-md-4"], [1, "feature"], [1, "icon"], [1, "fa", "fa-bar-chart"], [1, "fa", "fa-map"], [1, "fa", "fa-gift"], [1, "fa", "fa-line-chart"], [1, "fa", "fa-clipboard"], [1, "fa", "fa-lock"], [3, "routerLink"], [1, "section2", "bgcolor-2", "d-block", "primary-gradient", 3, "selected"], ["id", "section3", 1, "section3"], [1, "col-md-8"], [1, "blockquote", "mt-4", "p-0"], [1, "mb-0", "pt-0"], [1, "blockquote", "p-0"], [1, "mt-0"], [1, "row", "justify-content-center"], [1, "col", "text-center"], ["src", "/assets/images/therapist-kevin-skinner.jpg", 1, "img-fluid"], ["id", "section4", 1, "section4", "bgcolor-2"], [1, "sub-heading"], [1, "badge", "badge-pill", "badge-primary"], ["id", "section7", 1, "section7"], [1, "row", "clients", "justify-content-center"], ["class", "col-5 col-md-3", 4, "ngIf"], ["id", "section8", 1, "cta-section"], ["id", "cta-4"], [1, "btn", "btn-primary", 3, "click"], ["id", "register", "role", "form", 1, "registration-form", 3, "formGroup"], ["id", "companyName", "type", "text", "name", "companyName", "placeholder", "Company Name", "formControlName", "name", 1, "form-control", "input-box"], ["id", "email", "type", "text", "name", "email", "placeholder", "Email", "formControlName", "email", 1, "form-control", "input-box"], ["id", "password", "type", "password", "name", "password", "placeholder", "Password", "formControlName", "password", 1, "form-control", "input-box"], ["type", "submit", "id", "submit", "name", "submit", 1, "btn", "btn-primary", 3, "disabled", "click"], [4, "ngIf"], [1, "small", "text-light"], ["target", "_blank", 3, "routerLink"], [1, "alert", "alert-danger"], ["id", "confirmRegister", "role", "form", 1, "registration-form", 3, "formGroup"], [1, "text-light"], ["id", "confirmationCode", "type", "text", "name", "confirmationCode", "placeholder", "Confirmation Code", "formControlName", "confirmationCode", 1, "form-control", "input-box"], ["href", "#", 3, "click"], [1, "col-5", "col-md-3"], ["href", "https://www.apsats.org/"], ["src", "/assets/images/logo-apsats.png", "alt", "APSATS Logo", 1, "img-fluid"], ["href", "https://addorecovery.com/"], ["src", "/assets/images/logo-addo.png", "alt", "Addo Recovery Logo", 1, "img-fluid"], ["href", "https://www.discoverandchange.com/"], ["src", "/assets/images/logo-discoverandchange.dark.png", "alt", "Discover and Change Logo", 1, "img-fluid"]], template: function SignupComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "h1", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](6, " Helping You ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](8, "Create");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](9, " the ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](10, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](11, "Change");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](12, " Your Clients Want ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](13, "ul", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](14, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](15, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](16, "span", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](17, "p", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](18, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](19, "Unlimited access to valid and reliable digital assessments for diagnosis and treatment planning. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](20, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](21, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](22, "span", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](23, "p", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](24, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](25, "Unlimited access to a growing library of homework exercises and articles to provide ongoing support to your clients.");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](26, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](27, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](28, "span", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](29, "p", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](30, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](31, "No commitment required -- try the service absolutely free with no credit card required.");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](32, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](33, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](34, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](35, "h3");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](36);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](37, "br");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](38, "small");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](39, "No Credit Card Required");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](40, SignupComponent_form_40_Template, 21, 13, "form", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](41, SignupComponent_form_41_Template, 12, 3, "form", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](42, SignupComponent_div_42_Template, 3, 1, "div", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](43, "p", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](44, "small");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](45, "a", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](46, "Login");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](47, " if you already have an account");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](48, "section", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](49, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](50, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](51, "div", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](52, "div", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](53, "img", 21);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](54, "div", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](55, "div", 22);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](56, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](57, "Assessments Made Easy");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](58, "div", 23);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](59, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](60, " What would it be like to ask your client to take an assessment and then be able to quickly review their results without spending time adding the scores up and then reviewing what that means for your client. The graphs enable you to identify what your client needs and focus on giving them the treatment they need. Simple and easy. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](61, "ul", 24);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](62, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](63, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](64, "span", 25);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](65, "div", 26);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](66, "h6");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](67, "Easy to Customize");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](68, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](69, " Whether your client has depression, anxiety, trauma, or addiction you can send them the assessment they need with a simple click. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](70, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](71, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](72, "span", 27);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](73, "div", 26);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](74, "h6");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](75, "Battery of Assessments");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](76, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](77, " We've put together comprehensive batteries for key assessment areas to save you time and effort. Assign the battery and your clients get all the assessments with just a single click. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](78, "section", 28);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](79, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](80, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](81, "Key Features");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](82, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](83, "div", 29);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](84, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](85, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](86, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](87, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](88, "span", 33);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](89, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](90, "Top Level Summarys");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](91, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](92, " We do the heavy lifting by providing summary graphs and reports of your clients assessment results so you can focus on what you do the best\u2014help your clients heal. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](93, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](94, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](95, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](96, "span", 34);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](97, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](98, "Comprehensive reports");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](99, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](100, " You can review a top level summary or dive in for an in-depth breakdown of your clients' answers and what they mean. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](101, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](102, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](103, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](104, "span", 35);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](105, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](106, "Mobile Friendly");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](107, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](108, " All of our assessments have been built and tested to work on android and iOS devices as well as desktop platforms. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](109, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](110, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](111, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](112, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](113, "span", 36);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](114, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](115, "Track client progress");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](116, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](117, " Measure progress over time from the first to your last session. Anytime you give a follow up assessment you will see your clients improvement. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](118, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](119, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](120, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](121, "span", 37);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](122, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](123, "Assign Homework");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](124, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](125, " Provide additional support by giving homework to your clients with our library of exercises and articles. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](126, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](127, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](128, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](129, "span", 38);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](130, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](131, "HIPAA Compliant");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](132, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](133, " We offer a ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](134, "a", 39);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](135, "BAA");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](136, " for your organization. We keep your client's PHI safe by both encryption (in transit and at rest) as well as following industry best practices. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](137, "dac-pricing-table", 40);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("selected", function SignupComponent_Template_dac_pricing_table_selected_137_listener($event) { return ctx.handlePlan($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](138, "section", 41);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](139, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](140, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](141, "div", 42);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](142, "div", 22);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](143, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](144, "Why Assessments Matter!");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](145, "div", 23);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](146, "blockquote", 43);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](147, "p", 44);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](148, "\u201CWhy didn\u2019t my other therapists ask me these questions?\u201D");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](149, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](150, "These were the first words my new client said to me when she sat down. She continued, ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](151, "blockquote", 45);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](152, "p", 44);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](153, "\u201CI have been to four other therapists and spent more than $10,000 since I discovered my partner\u2019s affair and none of my other therapists have addressed the issues this assessment did. Why don\u2019t all therapists ask these questions?\u201D ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](154, "p", 46);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](155, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](156, "I was completely caught off guard.");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](157, "p", 46);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](158, " I later learned that my client had spent years trying to figure out what was wrong with her. She had been to therapy, but none of her therapists had addressed her core trauma\u2019s. Had those therapists had access to the same assessments I did, they could have helped her earlier because they would have discovered the depth of what she had been going through. She became one of our best referral sources over the next few months as she sent members of her 12-step support group to our agency. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](159, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](160, "div", 47);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](161, "div", 48);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](162, "img", 49);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](163, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](164, "Dr. Kevin Skinner LMFT");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](165, "section", 50);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](166, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](167, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](168, "How to get started");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](169, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](170, "div", 51);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](171, "Signup now and get started in six easy steps.");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](172, "div", 29);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](173, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](174, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](175, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](176, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](177, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](178, "span", 52);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](179, "1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](180, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](181);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](182, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](183, " Get unlimited access for free during the trial period, test it yourself or with your clients, and get a feel for our system without paying anything. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](184, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](185, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](186, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](187, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](188, "span", 52);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](189, "2");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](190, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](191, "Create a client");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](192, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](193, " Add a new client, providing their contact information and email address. This information is encrypted and secure. The system will generate a unique token for them to use. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](194, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](195, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](196, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](197, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](198, "span", 52);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](199, "3");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](200, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](201, "Create an Assignment");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](202, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](203, " Pick from one of our curated batteries or pick from assessments for areas such as Adult ADHD, Anxiety, Depression, PTSD, Relationship Satisfaction , Betrayal Trauma, Adverse Childhood Experiences, Hypersexual Behavior, and much more\u2026 ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](204, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](205, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](206, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](207, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](208, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](209, "span", 52);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](210, "4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](211, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](212, "Send the invitation email to your client");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](213, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](214, " At a click of a button invite your client to get started or copy the invitation to your own email client and send it from there. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](215, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](216, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](217, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](218, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](219, "span", 52);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](220, "5");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](221, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](222, "Review Results");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](223, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](224, " You'll receive an email notification when your client's finish their results. From there you can review your clients test results and discuss the results with them. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](225, "div", 30);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](226, "div", 31);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](227, "div", 32);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](228, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](229, "span", 52);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](230, "6");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](231, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](232, "Upload Client Results");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](233, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](234, " If you choose, you can generate a PDF of your client's results to store in your EHR or just copy a shareable link that will bring you back to your client. ");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](235, "section", 53);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](236, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](237, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](238, "Our Valued Partnerships");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](239, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](240, "div", 54);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](241, SignupComponent_div_241_Template, 3, 0, "div", 55);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](242, SignupComponent_div_242_Template, 3, 0, "div", 55);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](243, SignupComponent_div_243_Template, 3, 0, "div", 55);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](244, "section", 56);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](245, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](246, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](247, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](248, "Helping You Create the Change Your Clients Want");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](249, "div", 57);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](250, "a", 58);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function SignupComponent_Template_a_click_250_listener() { return ctx.handleCTA(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](251, " Get Started");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](36);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"]("", ctx.getFreeTrialPeriod(), " Day Free Trial");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.isSignup());
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.isSignupConfirm());
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.formError);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction0"](10, _c3));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](89);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction0"](11, _c0));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](47);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"]("Create your free ", ctx.getFreeTrialPeriod(), " Day Trial Account");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](60);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.showPartner("apsats"));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.showPartner("apsats"));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.showPartner("discoverandchange"));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_14__["NgIf"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterLinkWithHref"], _pricing_table_pricing_table_component__WEBPACK_IMPORTED_MODULE_15__["PricingTableComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormControlName"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_16__["SpinIconComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBhbmllcy9zaWdudXAvc2lnbnVwLmNvbXBvbmVudC5jc3MifQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵsetClassMetadata"](SignupComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Component"],
        args: [{
                selector: 'dac-signup',
                templateUrl: './signup.component.html',
                styleUrls: ['./signup.component.css']
            }]
    }], function () { return [{ type: _shared_services_company_service__WEBPACK_IMPORTED_MODULE_6__["CompanyService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_11__["FormBuilder"] }, { type: _login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: app_login_services_amplify_auth_service__WEBPACK_IMPORTED_MODULE_9__["AmplifyAuthService"] }, { type: _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_1__["AlertService"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_7__["DacConfig"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["ElementRef"] }, { type: app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_8__["MetricsService"] }, { type: app_theme_services_theme_service__WEBPACK_IMPORTED_MODULE_13__["ThemeService"] }]; }, null); })();


/***/ }),

/***/ "3EFq":
/*!******************************************!*\
  !*** ./src/app/shared/models/company.ts ***!
  \******************************************/
/*! exports provided: Company */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Company", function() { return Company; });
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./user */ "NlNA");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class Company {
    constructor(name, email, user) {
        this.name = name;
        this.email = email ? email.toLowerCase() : "";
        if (!user) {
            this.user = new _user__WEBPACK_IMPORTED_MODULE_0__["User"]();
        }
    }
    get sharedTokens() {
        return this._sharedTokens;
    }
    get hostSiteName() {
        return this._hostSiteName;
    }
    get name() {
        return this._name;
    }
    set name(value) {
        this._name = value;
    }
    get email() {
        return this._email;
    }
    set email(value) {
        this._email = value ? value.toLowerCase() : "";
    }
    get user() {
        return this._user;
    }
    set user(value) {
        this._user = value;
    }
    get id() {
        return this._id;
    }
    set id(value) {
        this._id = value;
    }
    get clientCount() {
        return this._clientCount;
    }
    get tokenCount() {
        return this._tokenCount;
    }
    get sendAssessmentsCompleteNotifications() {
        return this._sendAssessmentsCompleteNotifications;
    }
    set sendAssessmentsCompleteNotifications(v) {
        this._sendAssessmentsCompleteNotifications = v;
    }
    get sendNotificationsToPrimaryContact() {
        return this._sendNotificationsToPrimaryContact;
    }
    set sendNotificationsToPrimaryContact(v) {
        this._sendNotificationsToPrimaryContact = v;
    }
    get disableShopRegisteredUsers() {
        return this._disableShopRegisteredUsers;
    }
    set disableShopRegisteredUsers(v) {
        this._disableShopRegisteredUsers = v;
    }
    get sendNotificationsCopyToRegularUsers() {
        return this._sendNotificationsCopyToRegularUsers;
    }
    set sendNotificationsCopyToRegularUsers(v) {
        this._sendNotificationsCopyToRegularUsers = v;
    }
}


/***/ }),

/***/ "3Xg2":
/*!*******************************************!*\
  !*** ./src/app/login/models/AuthState.ts ***!
  \*******************************************/
/*! exports provided: AuthState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthState", function() { return AuthState; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
var AuthState;
(function (AuthState) {
    AuthState["SIGN_IN"] = "signIn";
    AuthState["SIGNED_IN"] = "signedIn";
    AuthState["CONFIRM_SIGN_IN"] = "confirmSignIn";
    AuthState["FORGOT_PASSWORD"] = "forgotPassword";
    AuthState["REQUIRE_NEW_PASSWORD"] = "requireNewPassword";
    AuthState["CUSTOM_CONFIRM_SIGN_IN"] = "customConfirmSignIn";
    AuthState["SIGN_UP"] = "signUp";
    AuthState["CONFIRM_SIGN_UP"] = "confirmSignUp";
})(AuthState || (AuthState = {}));


/***/ }),

/***/ "565i":
/*!*******************************************!*\
  !*** ./src/app/shared/toast/toast-ref.ts ***!
  \*******************************************/
/*! exports provided: ToastRef */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToastRef", function() { return ToastRef; });
class ToastRef {
    constructor(overlay) {
        this.overlay = overlay;
    }
    close() {
        this.overlay.dispose();
    }
    isVisible() {
        return this.overlay && this.overlay.overlayElement;
    }
    getPosition() {
        return this.overlay.overlayElement.getBoundingClientRect();
    }
}


/***/ }),

/***/ "5IhB":
/*!**************************************************************!*\
  !*** ./src/app/reports/services/report-navigator.service.ts ***!
  \**************************************************************/
/*! exports provided: ReportNavigatorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportNavigatorService", function() { return ReportNavigatorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class ReportNavigatorService {
    constructor() {
        this.navItems = new Map();
    }
    hasNavigationItem(navId) {
        return this.navItems.has(navId);
    }
    navigate(navId) {
        let item = this.navItems.get(navId);
        if (item) {
            // TODO: stephen change out this hack to accomodate the fixed navbar at the top.
            let navBar = document.querySelector("dac-navbar nav");
            let navBarHeight = navBar ? navBar.clientHeight : 0; // if we have no navbar such as on the client we just skip.
            // adapted from https://stackoverflow.com/a/13857312
            item.scrollIntoView(true);
            var scrolledY = window.scrollY;
            if (scrolledY) {
                window.scroll(0, scrolledY - navBarHeight);
            }
            return Promise.resolve();
        }
        return Promise.reject("item not found with id " + navId);
    }
    registerItem(navId, element) {
        this.navItems.set(navId, element);
    }
    unregisterItem(navId) {
        this.navItems.delete(navId);
    }
}
ReportNavigatorService.ɵfac = function ReportNavigatorService_Factory(t) { return new (t || ReportNavigatorService)(); };
ReportNavigatorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ReportNavigatorService, factory: ReportNavigatorService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ReportNavigatorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "5Pnx":
/*!******************************************************************************!*\
  !*** ./src/app/theme/standalone-container/standalone-container.component.ts ***!
  \******************************************************************************/
/*! exports provided: StandaloneContainerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StandaloneContainerComponent", function() { return StandaloneContainerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _site_container_site_container_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../site-container/site-container.component */ "kp5b");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");





const _c0 = ["siteContainer"];
/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class StandaloneContainerComponent {
}
StandaloneContainerComponent.ɵfac = function StandaloneContainerComponent_Factory(t) { return new (t || StandaloneContainerComponent)(); };
StandaloneContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: StandaloneContainerComponent, selectors: [["dac-standalone-container"]], viewQuery: function StandaloneContainerComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.siteContainer = _t.first);
    } }, hostAttrs: [1, "col", "p-0"], decls: 5, vars: 1, consts: [[1, "row", "no-gutters"], [1, "col"], ["siteContainer", ""], [3, "fixedBottom"]], template: function StandaloneContainerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "dac-site-container", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "router-outlet");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "app-login-dialog", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("fixedBottom", false);
    } }, directives: [_site_container_site_container_component__WEBPACK_IMPORTED_MODULE_1__["SiteContainerComponent"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterOutlet"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](StandaloneContainerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-standalone-container',
                templateUrl: './standalone-container.component.html',
                host: { class: 'col p-0' }
            }]
    }], null, { siteContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["siteContainer"]
        }] }); })();


/***/ }),

/***/ "6FTH":
/*!**************************************************************************!*\
  !*** ./src/app/reports/asset-result-view/asset-result-view.component.ts ***!
  \**************************************************************************/
/*! exports provided: AssetResultViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetResultViewComponent", function() { return AssetResultViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_library_assets_services_asset_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/library-assets/services/asset.service */ "Cy3R");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../print-dialog/print-dialog.component */ "gqDk");
/* harmony import */ var app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/shared/services/modal.service */ "JK/P");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");
/* harmony import */ var _library_assets_exercise_exercise_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../library-assets/exercise/exercise.component */ "+MF4");
/* harmony import */ var _library_assets_article_article_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../library-assets/article/article.component */ "Z6BE");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


















function AssetResultViewComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssetResultViewComponent_div_2_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.goBack(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssetResultViewComponent_div_6_input_1_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssetResultViewComponent_div_6_input_1_Template_input_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r8.browserPrint(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssetResultViewComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssetResultViewComponent_div_6_input_1_Template, 1, 0, "input", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.allowPrinting);
} }
function AssetResultViewComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "p", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-spin-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " Loading Report data... ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssetResultViewComponent_dac_exercise_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "dac-exercise", 20);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("exercise", ctx_r3.result.asset)("result", ctx_r3.result)("hideHeaders", ctx_r3.disableAsset)("disabled", ctx_r3.disableAsset);
} }
function AssetResultViewComponent_dac_article_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "dac-article", 21);
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("article", ctx_r4.result.asset)("result", ctx_r4.result)("hideHeaders", ctx_r4.disableAsset)("disabled", ctx_r4.disableAsset);
} }
const _c0 = function (a0, a1) { return { "col-8": a0, "col-12 text-center": a1 }; };
class AssetResultViewComponent {
    constructor(route, assetService, alertService, dacConfig, location, modalService) {
        this.route = route;
        this.assetService = assetService;
        this.alertService = alertService;
        this.dacConfig = dacConfig;
        this.location = location;
        this.modalService = modalService;
        this.disableAsset = true;
        this.allowPrinting = false;
        this.allowPrinting = this.dacConfig.isFeatureEnabled("pdf.printing");
    }
    ngOnInit() {
        this.route.params.subscribe((params) => {
            let resultId = params['resultId'];
            this.hasLoadedResults = false;
            this.assetService.getAssetResult(resultId).then((result) => {
                this.hasLoadedResults = true;
                this.result = result;
            })
                .catch((error) => {
                console.error(error);
                if (error && error.status === 404 || error.status === 400) {
                    this.alertService.error("404 This item could not be found");
                }
                else {
                    this.alertService.error("There was a server error in loading this item.  Check your internet connection or contact support");
                }
            });
        });
    }
    ngAfterViewInit() {
        // we need to let outside listeners like the server pdf generator know we have finished loading so we can generate the report
        console.log("adding dac-report-loaded class");
        document.body.classList.add("dac-report-loaded");
    }
    goBack() {
        this.location.back();
    }
    closePrintDialog() {
        // reset it once we've closed the dialog.
        this.showPrintDialog = false;
    }
    showCommandButtons() {
        return !this.dacConfig.seamlessMode;
    }
    browserPrint() {
        if (window && window.print) {
            window.print();
        }
    }
    print() {
        this.modalService.openDialog(_print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_6__["PrintDialogComponent"], { hideNotesOption: true });
    }
    shouldDisplayExercise() {
        return this.result && this.result.asset.type == 'assignment';
    }
    shouldDisplayArticle() {
        return this.result && this.result.asset.type == 'article';
    }
}
AssetResultViewComponent.ɵfac = function AssetResultViewComponent_Factory(t) { return new (t || AssetResultViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_library_assets_services_asset_service__WEBPACK_IMPORTED_MODULE_2__["AssetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_7__["ModalService"])); };
AssetResultViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AssetResultViewComponent, selectors: [["dac-asset-result-view"]], decls: 17, vars: 12, consts: [[1, "col", "itemsContainer", "d-print-block-visible"], [1, "row", "report-controls"], ["class", "col-2", 4, "ngIf"], [3, "ngClass"], [1, "h1-responsive", "report-name", "text-center"], ["class", "col-2 ml-auto", 4, "ngIf"], [1, "row", "d-none", "d-print-block-visible"], [1, "col-12", "text-center"], ["class", "row", 4, "ngIf"], [1, "text-center", "offset-2", "col-8"], ["class", "card card-body", 3, "exercise", "result", "hideHeaders", "disabled", 4, "ngIf"], ["class", "card card-body", 3, "article", "result", "hideHeaders", "disabled", 4, "ngIf"], [1, "col-2"], ["type", "button", "value", "Back", 1, "btn", "btn-primary", 3, "click"], [1, "col-2", "ml-auto"], ["class", "btn btn-secondary", "type", "button", "value", "Download PDF", 3, "click", 4, "ngIf"], ["type", "button", "value", "Download PDF", 1, "btn", "btn-secondary", 3, "click"], [1, "row"], [1, "col"], [1, "alert", "alert-warning"], [1, "card", "card-body", 3, "exercise", "result", "hideHeaders", "disabled"], [1, "card", "card-body", 3, "article", "result", "hideHeaders", "disabled"]], template: function AssetResultViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AssetResultViewComponent_div_2_Template, 2, 0, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h1", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AssetResultViewComponent_div_6_Template, 2, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "h1", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, AssetResultViewComponent_div_11_Template, 5, 0, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "p", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "i");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, AssetResultViewComponent_dac_exercise_15_Template, 1, 4, "dac-exercise", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, AssetResultViewComponent_dac_article_16_Template, 1, 4, "dac-article", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c0, ctx.showCommandButtons(), !ctx.showCommandButtons()));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.result == null ? null : ctx.result.asset.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.result == null ? null : ctx.result.asset.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasLoadedResults);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.result == null ? null : ctx.result.asset.description);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.shouldDisplayExercise());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.shouldDisplayArticle());
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_8__["SpinIconComponent"], _library_assets_exercise_exercise_component__WEBPACK_IMPORTED_MODULE_9__["ExerciseComponent"], _library_assets_article_article_component__WEBPACK_IMPORTED_MODULE_10__["ArticleComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9hc3NldC1yZXN1bHQtdmlldy9hc3NldC1yZXN1bHQtdmlldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBIiwiZmlsZSI6InNyYy9hcHAvcmVwb3J0cy9hc3NldC1yZXN1bHQtdmlldy9hc3NldC1yZXN1bHQtdmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssetResultViewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-asset-result-view',
                templateUrl: './asset-result-view.component.html',
                styleUrls: ['./asset-result-view.component.scss']
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }, { type: app_library_assets_services_asset_service__WEBPACK_IMPORTED_MODULE_2__["AssetService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_5__["Location"] }, { type: app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_7__["ModalService"] }]; }, null); })();


/***/ }),

/***/ "6Hrc":
/*!************************************************!*\
  !*** ./src/app/login/services/auth.service.ts ***!
  \************************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/http.service */ "Tdnt");
/* harmony import */ var _shared_services_client_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/services/client.service */ "oR8h");
/* harmony import */ var _shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/services/assessment.service */ "7myg");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var app_shared_models_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/models/user */ "NlNA");
/* harmony import */ var app_shared_models_role__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/shared/models/role */ "Y5fV");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_services_subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/shared/services/subscription-hydrator.service */ "y5x3");
/* harmony import */ var _amplify_auth_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./amplify-auth-service */ "BiiJ");
/* harmony import */ var app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! app/shared/services/metrics.service */ "SPHu");
/* harmony import */ var _models_ChallengeName__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../models/ChallengeName */ "lJ2u");
/* harmony import */ var _models_AuthState__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../models/AuthState */ "3Xg2");
/* harmony import */ var app_shared_models_ErrorCodes__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! app/shared/models/ErrorCodes */ "HSqN");
/* harmony import */ var app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! app/shared/services/fhir-service */ "y+jN");
/* harmony import */ var app_shared_services_user_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! app/shared/services/user.service */ "kmKP");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




























class LoginStateNotification {
}
class AuthService {
    constructor(_dac$http, _clientService
    // TODO: stephen need to introduce a caching service that we can clear the caching service
    // when we logout to reset any current state.  For expediency we are just including this
    // service to reset, but this is bad cohesion.
    // TODO: stephen another option would be to use an event system and have all the services listen to the logout event.
    // this is more difficult to reason about though...
    , assessmentService, alertService, amplifyService, subHydrator, dacConfig, metrics, _fhirClient, userService) {
        this._dac$http = _dac$http;
        this._clientService = _clientService;
        this.assessmentService = assessmentService;
        this.alertService = alertService;
        this.amplifyService = amplifyService;
        this.subHydrator = subHydrator;
        this.dacConfig = dacConfig;
        this.metrics = metrics;
        this._fhirClient = _fhirClient;
        this.userService = userService;
        this.METRIC_CATEGORY = 'Auth';
        // setup all our variables.
        this._isSystemUser = false;
        this._isLoggedIn = false;
        this._user = null;
        // let fhirUser = this._fhirClient.getFhirUser();
        // let roleId = Role.UnAuthenticated;
        // let isLoggedIn = false;
        // let clientApiId = null;
        // let userId = null;
        // if (fhirUser) {
        //   isLoggedIn = true;
        //   let fhirUserParts = fhirUser.split("/");
        //   let fhirRole = fhirUserParts[0];
        //   if (fhirRole == 'Patient') {
        //     roleId = Role.Client;
        //     isLoggedIn = true;
        //     clientApiId = fhirUserParts[1];
        //   } else if (fhirRole == 'Practitioner' || fhirRole == 'Person') { // Person occurs if its an admin who does not have NPI
        //     roleId = Role.Registered;
        //     userId = fhirUserParts[1];
        //   }
        // }
        // TODO: stephen figure out why we can't put the sessionStorage logic in ngOnInit
        // let roleId = +sessionStorage.getItem("roleId");
        // let clientApiId = sessionStorage.getItem("clientId");
        // let userId = sessionStorage.getItem("userId");
        // let isLoggedIn = sessionStorage.getItem("isLoggedIn") === "true";
        // this.amplifyService.auth().getCurrentUser();
        // if (isLoggedIn && roleId !== Role.Client) {
        //   this._isSystemUser = true;
        //   this._isLoggedIn = true;
        //   this._user = this.recreateUserFromSession(+userId);
        //   this.configureUserAuthPool(dacConfig);
        // }
        // else if (clientApiId && isLoggedIn) {
        //   this._clientId = clientApiId;
        //   this._isLoggedIn = true;
        //   this._user = this.getClientUser(clientApiId);
        // }
        // else {
        //   this._user = this.getUnAuthenticatedUser();
        // }
        this._loginStateSubject = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](this.getCurrentLoginState());
    }
    ngOnInit() {
    }
    /**
     * Set's the current state of the login authorization for regular users
     * @param authEvent
     */
    setAuthState(authEvent) {
        // we have to deal with all kind's of amplify problems here so we are going to mask all of this.
        this.amplifyService.setAuthState(authEvent);
    }
    /**
     * Resets the auth state back to the initial state of the service.
     */
    resetAuthState() {
        this.amplifyService.resetAuthState();
    }
    /**
     * Returns an observable that lets you observe events that occur during the authorization process
     */
    authStateChange$() {
        return this.amplifyService.authStateChange$();
    }
    completeNewPassword(user, newPassword, requiredAttributes) {
        var requiredAttributes;
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                requiredAttributes = user.challengeParam.requiredAttributes;
                yield this.amplifyService.completeNewPassword(user, newPassword, requiredAttributes);
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'completeNewPassword', 'User password reset');
                this.amplifyService.setAuthState({ state: _models_AuthState__WEBPACK_IMPORTED_MODULE_14__["AuthState"].SIGN_IN, user: user });
            }
            catch (error) {
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'completeNewPassword', 'User password reset failed');
                throw error;
            }
        });
    }
    /**
     * Returns an observable that lets you observe login state (not logged in, logged in, logged out)
     */
    getLoginState() {
        return this._loginStateSubject;
    }
    getCurrentUser() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (!this._user) {
                let fhirUser = yield this._fhirClient.getFhirUser();
                let isLoggedIn = false;
                this._user = this.getUnAuthenticatedUser(); // default to unauthenticated
                if (fhirUser) {
                    isLoggedIn = true;
                    let fhirUserParts = fhirUser.split("/");
                    let fhirRole = fhirUserParts[0];
                    if (fhirRole == 'Patient') {
                        this._clientId = fhirUserParts[1];
                        this._isLoggedIn = true;
                        this._user = this.getClientUser(this._clientId);
                    }
                    else if (fhirRole == 'Practitioner' || fhirRole == 'Person') { // Person occurs if its an admin who does not have NPI
                        // TODO: @adunsulag we need to hit the SystemUser endpoint to get our custom information for now
                        this._isSystemUser = true;
                        this._user = yield this.userService.getUserById(fhirUserParts[1]);
                        ;
                    }
                }
                else {
                    this._user = this.getUnAuthenticatedUser();
                }
                // send out the updated login state since we've updated our current user
                this._loginStateSubject.next(this.getCurrentLoginState());
            }
            return this._user;
        });
    }
    logout() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let result;
            try {
                result = yield this._dac$http.post("/logout", {});
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'logout', 'server logout processed');
            }
            catch (error) {
                // if the server failed to clean up we still want to clean up our service and clear the session...
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'logout', 'server logout failed');
                console.error("System error on logging out ", error);
            }
            try {
                // since we'll be redirecting, we just want to clear the session storage.
                // TODO: stephen will this introduce bugs if the redirectUrl is within the same
                // application?
                // need to do our global logout here
                // By doing this, you are revoking all the auth tokens(id token, access token and refresh token)
                // which means the user is signed out from all the devices
                // Note: although the tokens are revoked, the AWS credentials will remain valid until they expire (which by default is 1 hour)
                // await this.amplifyService.signOut({ global: true })
                if (result && result.redirectUrl) {
                    sessionStorage.clear();
                    return { redirectUrl: result.redirectUrl };
                }
                else {
                    // clear and notify everyone we've logged out
                    this.clearSession();
                    return {};
                }
            }
            catch (error) {
                console.error(error);
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'logout', 'Cognito signout failed');
            }
        });
    }
    clearSession() {
        sessionStorage.clear();
        this._client = null;
        this._clientId = null;
        this._isLoggedIn = false;
        this._isSystemUser = false;
        this._user = this.getUnAuthenticatedUser();
        this.assessmentService.clearCache();
        this._loginStateSubject.next(this.getCurrentLoginState());
    }
    authenticateClient(clientApiId) {
        // sessionStorage.clear();
        let data = {
            clientID: clientApiId
        };
        return this._dac$http.post("/login/client", data).then((resp) => {
            this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateClient', 'Authentication succeded');
            this._clientId = clientApiId;
            this._isLoggedIn = true;
            // now populate the user here.
            this._user = this.getClientUser(clientApiId);
            this.updateSessionStorageWithUser(this._user);
            this._loginStateSubject.next(this.getCurrentLoginState());
            return clientApiId;
        })
            .catch((error) => {
            console.error(error);
            if (error.status === 404) {
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateClient', 'Invalid client token');
                throw new Error("Invalid Token: " + clientApiId);
            }
            else {
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateClient', 'Server error authenticating client');
                throw new Error("An error occurred communicating with the server.  Please try again.");
            }
        });
    }
    authenticateSSO(ssoRelayState) {
        return this._dac$http.securePost("sso", { ssoToken: ssoRelayState }, ssoRelayState)
            .then(data => {
            if (data.role == app_shared_models_role__WEBPACK_IMPORTED_MODULE_7__["Role"].Client) {
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'sso', 'authenticated single sign on for client');
                this._clientId = data.id;
            }
            else {
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'sso', 'authenticated single sign on for user');
            }
            this.processUserAuthenticationFromResp(data);
            return data;
        })
            .catch((error) => {
            console.error(error);
            let innerError = error.error || { error: "System error occurred", _code: app_shared_models_ErrorCodes__WEBPACK_IMPORTED_MODULE_15__["ErrorCode"].SYSTEM_ERROR, _message: "There was a system error and we could not load your data" };
            if (innerError.redirectUrl) {
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'sso', 'single sign on failed, redirecting to url');
                // window.location.href = error.redirectUrl;
            }
            else {
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'sso', 'single sign on failed no redirect url set');
                // TODO: stephen need to navigate to an SSO error page if we have no redirect url.
            }
            throw innerError;
        });
    }
    authenticateCognito(user) {
        // send the amazon cognito user to the server to verify the user actually is valid
        // then we can setup the client session for the user...
        if (!(user && user.signInUserSession && user.signInUserSession.accessToken && user.signInUserSession.accessToken.jwtToken)) {
            throw new Error("There was a system error.  Please try again or contact support");
            // TODO: stephen seems like we want to be notified right away if the data format is off...
        }
        let authToken = user.signInUserSession.accessToken.jwtToken;
        return this._dac$http.post("/login", { authToken: authToken })
            .then(resp => this.processUserAuthenticationFromResp(resp))
            .then(user => {
            this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateCognito', 'User authenticated with cognito JWT');
            return user;
        })
            .catch((error) => {
            if (error.status === 401) {
                throw new Error("Your username or password was invalid");
            }
            else {
                throw new Error("There was an error communicating with the server.  Please try again or contact support");
            }
        });
    }
    authenticate(username, password) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // TODO: stephen need a way of persisting the session storage
            // also need a better way of actually authenticating the clients.
            // sessionStorage.clear();
            let cognitoUser;
            if (this.dacConfig.awsCognitoConfig.enabled) {
                cognitoUser = yield this.authenticateWithAmplify(username, password);
                password = "";
                // make sure we can authenticate here
                try {
                    return yield this.authenticateCognito(cognitoUser);
                }
                catch (error) {
                    this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticate', 'Server failed to validate cognito user');
                    throw { code: "DacCognitoAuthenticateException", message: error };
                }
            }
            else {
                cognitoUser = yield this.authenticateWithServerWithUsername(username, password);
                password = "";
            }
        });
    }
    // migrateCognito(username:string) {
    //   return this._dac$http.post("/login/migrate", {username});
    // }
    authenticateWithServerWithUsername(username, password) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                let data = {
                    username: username,
                    password: password
                };
                let resp = yield this._dac$http.post("/login", data);
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateWithServerWithUsername', 'User authenticated with password');
                let user = yield this.processUserAuthenticationFromResp(resp);
                return user;
            }
            catch (error) {
                if (error.status === 401) {
                    this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateWithServerWithUsername', 'Username or password invalid');
                    throw new Error("Your username or password was invalid");
                }
                else {
                    this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateWithServerWithUsername', 'Server error on authentication');
                    throw new Error("There was an error communicating with the server.  Please try again or contact support");
                }
            }
        });
    }
    updateUserWithSubscription(subscription) {
        this._user.subscription = subscription;
        this.updateSessionStorageWithUser(this._user);
        this._loginStateSubject.next(this.getCurrentLoginState());
    }
    sendForgotPasswordCode(username) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                yield this.amplifyService.forgotPassword(username);
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'sendForgotPasswordCode', 'Forgot password code sent');
            }
            catch (error) {
                let code = error.code || "NO_CODE";
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'sendForgotPasswordCode', "Failed to send forgot password. Cognito Code: " + code);
                throw error;
            }
        });
    }
    /**
     *
     * @param username The username of the user to update
     * @param code The verification code that was sent to the user
     * @param password The new password to set for the user
     */
    updateUserForgottenPassword(username, code, password) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.amplifyService.forgotPasswordSubmit(username, code, password);
            this.metrics.trackEvent(this.METRIC_CATEGORY, 'updateUserForgottenPassword', 'User password updated');
            password = "";
            return;
        });
    }
    confirmSignIn(user, code, codeType) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            yield this.amplifyService.confirmSignIn(user, code, codeType);
            let dacUser = yield this.authenticateCognito(user); // authenticate on the server
            this.metrics.trackEvent(this.METRIC_CATEGORY, 'updateUserForgottenPassword', 'User MFA Confirmed');
            // user confirmed, we send in the DAC user this time and NOT the cognito user
            this.amplifyService.setAuthState({ user: dacUser, state: _models_AuthState__WEBPACK_IMPORTED_MODULE_14__["AuthState"].SIGNED_IN });
        });
    }
    authenticateWithAmplify(username, password) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                let cognitoUser = yield this.amplifyService.signIn(username, password);
                password = ""; // clear password from memory
                // we set our cognito states here...
                if (cognitoUser['challengeName'] === _models_ChallengeName__WEBPACK_IMPORTED_MODULE_13__["ChallengeName"].SMS_MFA ||
                    cognitoUser['challengeName'] === _models_ChallengeName__WEBPACK_IMPORTED_MODULE_13__["ChallengeName"].SOFTWARE_TOKEN_MFA) {
                    this.setAuthState({ state: _models_AuthState__WEBPACK_IMPORTED_MODULE_14__["AuthState"].CONFIRM_SIGN_IN, user: cognitoUser });
                    this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateWithAmplify', 'Cognito authentication requires account confirmation');
                    throw { code: 'DacCognitoChallengeRequired' };
                }
                else if (cognitoUser['challengeName'] === _models_ChallengeName__WEBPACK_IMPORTED_MODULE_13__["ChallengeName"].NEW_PASSWORD_REQUIRED) {
                    this.setAuthState({
                        state: _models_AuthState__WEBPACK_IMPORTED_MODULE_14__["AuthState"].REQUIRE_NEW_PASSWORD,
                        user: cognitoUser,
                    });
                    this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateWithAmplify', 'Cognito authentication requires new password');
                    throw { code: 'DacCognitoChallengeRequired' };
                }
                else if (cognitoUser['challengeName'] === _models_ChallengeName__WEBPACK_IMPORTED_MODULE_13__["ChallengeName"].CUSTOM_CHALLENGE &&
                    cognitoUser.challengeParam &&
                    cognitoUser.challengeParam.trigger === 'true') {
                    this.setAuthState({
                        state: _models_AuthState__WEBPACK_IMPORTED_MODULE_14__["AuthState"].CUSTOM_CONFIRM_SIGN_IN,
                        user: cognitoUser,
                    });
                    throw { code: 'DacCognitoChallengeRequired' };
                }
                return cognitoUser;
            }
            catch (error) {
                let cognitoCode = error.code || 'NO_CODE';
                this.metrics.trackEvent(this.METRIC_CATEGORY, 'authenticateWithAmplify', 'Cognito authentication failed Cognito Code:' + cognitoCode);
                if (cognitoCode === 'UserNotConfirmedException') {
                    // logger.debug('the user is not confirmed');
                    this.amplifyService.setAuthState({ state: _models_AuthState__WEBPACK_IMPORTED_MODULE_14__["AuthState"].CONFIRM_SIGN_UP, user: { username: username } });
                }
                else if (cognitoCode === 'PasswordResetRequiredException') {
                    // logger.debug('the user requires a new password');
                    this.amplifyService.setAuthState({ state: _models_AuthState__WEBPACK_IMPORTED_MODULE_14__["AuthState"].FORGOT_PASSWORD, user: { username: username } });
                }
                // for backwards compatibility we have this option
                // if (cognitoCode == "NotAuthorizedException") {
                //   return this.authenticateWithServerWithUsername(username,password);
                // }
                throw error;
            }
        });
    }
    processUserAuthenticationFromResp(user) {
        Object.assign(this._user, user);
        if (user.subscription) {
            this._user.subscription = this.subHydrator.fromJSONObject(user.subscription);
        }
        this._isLoggedIn = true;
        this.updateSessionStorageWithUser(this._user);
        this._loginStateSubject.next(this.getCurrentLoginState());
        return user;
    }
    updateSessionStorageWithUser(user) {
        try {
            if (user.role === app_shared_models_role__WEBPACK_IMPORTED_MODULE_7__["Role"].UnAuthenticated) {
                sessionStorage.setItem("isLoggedIn", "false");
            }
            else {
                sessionStorage.setItem("isLoggedIn", "true");
                sessionStorage.setItem("roleId", user.role.toString());
                sessionStorage.setItem("username", user.username);
                sessionStorage.setItem("capabilities", JSON.stringify(user.capabilities));
                if (user.subscription) {
                    sessionStorage.setItem("subscription", this.subHydrator.toJSON(user.subscription));
                }
                else {
                    sessionStorage.removeItem("subscription");
                }
                if (user.role !== app_shared_models_role__WEBPACK_IMPORTED_MODULE_7__["Role"].Client) {
                    sessionStorage.setItem("userId", user.id.toString());
                    sessionStorage.setItem("companyId", user.companyID.toString());
                }
                else {
                    sessionStorage.setItem("clientId", user.username);
                }
            }
        }
        catch (error) {
            console.error("SessionStorage quota exceeded or disabled", error);
        }
    }
    configureUserAuthPool(dacConfig) {
        let configData = {
            // REQUIRED only for Federated Authentication - Amazon Cognito Identity Pool ID
            // identityPoolId: dacConfig.awsCognitoConfig.userPool.userIdentityPoolId, // 'us-east-1:0c4629df-3bcc-49b5-be6e-5861d5283b56',
            // REQUIRED - Amazon Cognito Region
            region: dacConfig.awsCognitoConfig.awsCognitoRegion,
            // OPTIONAL - Amazon Cognito Federated Identity Pool Region
            // Required only if it's different from Amazon Cognito Region
            // identityPoolRegion: 'XX-XXXX-X',
            // OPTIONAL - Amazon Cognito User Pool ID
            userPoolId: dacConfig.awsCognitoConfig.userPool.userPoolsId,
            // OPTIONAL - Amazon Cognito Web Client ID (26-char alphanumeric string)
            userPoolWebClientId: dacConfig.awsCognitoConfig.userPool.webClientId,
            // OPTIONAL - Enforce user authentication prior to accessing AWS resources or not
            mandatorySignIn: false,
        };
        this._dac$http.currentStatus().subscribe((status) => {
            // if we need to authenticate..
            if (status == 401 && this._isLoggedIn && !this._inAuthentication) {
                // server has terminated the session... so we need to log ourselves out as well.
                return this.amplifyService.signOut({ global: true });
            }
        });
    }
    recreateUserFromSession(userId) {
        let user = new app_shared_models_user__WEBPACK_IMPORTED_MODULE_6__["User"]();
        user.id = +userId;
        user.role = +sessionStorage.getItem("roleId");
        user.username = sessionStorage.getItem("username");
        let companyId = sessionStorage.getItem("companyId");
        if (companyId) {
            user.companyID = +companyId;
        }
        let capString = sessionStorage.getItem("capabilities");
        if (capString) {
            let capabilities = [];
            try {
                capabilities = JSON.parse(capString);
            }
            catch (error) {
                console.error("Failed to parse capabilities string: ", error);
            }
            user.capabilities = capabilities;
        }
        let subJSONString = sessionStorage.getItem("subscription");
        if (subJSONString) {
            user.subscription = this.subHydrator.fromJSON(subJSONString);
        }
        // repopulate the information based upon what is retrieved.
        // TODO: right now only admins have access to this endpoint...
        // need to figure out why reg users can't call this.
        // this._dac$http.get("users/" + user.id).then((usr) => {
        //   user.username = usr.username;
        //   user.role = usr.role;
        //   user.companyID = usr.companyID;
        // });
        return user;
    }
    createUserFromId(userId) {
        let user = new app_shared_models_user__WEBPACK_IMPORTED_MODULE_6__["User"]();
        this._user.id = userId;
    }
    getClientUser(clientApiId) {
        let user = new app_shared_models_user__WEBPACK_IMPORTED_MODULE_6__["User"]();
        user.role = app_shared_models_role__WEBPACK_IMPORTED_MODULE_7__["Role"].Client;
        user.username = clientApiId;
        // this.getCurrentClient().then((client) => {
        //   if (client.user) { // if the client isn't assigned any Primary Care Provider.
        //     user.companyID = client.user.companyID;
        //   }
        // });
        return user;
    }
    getUnAuthenticatedUser() {
        let user = new app_shared_models_user__WEBPACK_IMPORTED_MODULE_6__["User"]();
        user.role = app_shared_models_role__WEBPACK_IMPORTED_MODULE_7__["Role"].UnAuthenticated;
        user.username = "unauthenticated";
        return user;
    }
    getCurrentLoginState() {
        let user = this._user;
        if (!user) {
            user = this.getUnAuthenticatedUser();
        }
        return {
            role: user.role,
            isLoggedIn: this._isLoggedIn,
            clientId: this._clientId,
            user: user
        };
    }
}
AuthService.ɵfac = function AuthService_Factory(t) { return new (t || AuthService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_shared_services_client_service__WEBPACK_IMPORTED_MODULE_3__["ClientService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_4__["AssessmentService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_amplify_auth_service__WEBPACK_IMPORTED_MODULE_11__["AmplifyAuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_10__["SubscriptionHydratorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_9__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_12__["MetricsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_16__["FhirService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_user_service__WEBPACK_IMPORTED_MODULE_17__["UserService"])); };
AuthService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AuthService, factory: AuthService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AuthService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"] }, { type: _shared_services_client_service__WEBPACK_IMPORTED_MODULE_3__["ClientService"] }, { type: _shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_4__["AssessmentService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_8__["AlertService"] }, { type: _amplify_auth_service__WEBPACK_IMPORTED_MODULE_11__["AmplifyAuthService"] }, { type: app_shared_services_subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_10__["SubscriptionHydratorService"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_9__["DacConfig"] }, { type: app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_12__["MetricsService"] }, { type: app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_16__["FhirService"] }, { type: app_shared_services_user_service__WEBPACK_IMPORTED_MODULE_17__["UserService"] }]; }, null); })();


/***/ }),

/***/ "6OaT":
/*!*********************************************************************!*\
  !*** ./src/app/shared/services/stripe-payment-processor.service.ts ***!
  \*********************************************************************/
/*! exports provided: StripePaymentProcessor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StripePaymentProcessor", function() { return StripePaymentProcessor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var _dac_config_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dac-config.service */ "OApS");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






class StripePaymentProcessor {
    constructor(dac$http, dacConfig) {
        this.dac$http = dac$http;
        this.dacConfig = dacConfig;
        this.CARD_LOCALE = 'auto';
    }
    createToken(amount, description) {
        let receivedToken = false;
        return new Promise((resolve, reject) => {
            var handler = window.StripeCheckout.configure({
                key: this.dacConfig.stripe_public_key,
                locale: this.CARD_LOCALE,
                token: function (token) {
                    // You can access the token ID with `token.id`.
                    // Get the token ID to your server-side code for use.
                    receivedToken = true;
                    resolve(token);
                },
                closed: function (response) {
                    console.log("response is: ", response);
                    if (!receivedToken) {
                        reject({ code: "canceled" });
                    }
                }
            });
            handler.open({
                name: this.dacConfig.stripe_charge_name,
                description: description,
                amount: amount
            });
        });
    }
    createUpdateCardToken(description, existingEmail) {
        let receivedToken = false;
        return new Promise((resolve, reject) => {
            var handler = window.StripeCheckout.configure({
                key: this.dacConfig.stripe_public_key,
                locale: this.CARD_LOCALE,
                token: function (token) {
                    // You can access the token ID with `token.id`.
                    // Get the token ID to your server-side code for use.
                    receivedToken = true;
                    resolve(token);
                },
                closed: function (response) {
                    console.log("response is: ", response);
                    if (!receivedToken) {
                        reject({ code: "canceled" });
                    }
                }
            });
            let options = {
                name: this.dacConfig.stripe_charge_name,
                description: description,
                panelLabel: "Save Payment Card",
                allowRememberMe: false
            };
            if (existingEmail) {
                options.email = existingEmail;
            }
            handler.open(options);
        });
    }
    charge(amount, description) {
        return this.createToken(amount, description).then((tokenCreateResponse) => {
            console.log("Response received: ", tokenCreateResponse);
            return tokenCreateResponse.id;
        });
    }
}
StripePaymentProcessor.ɵfac = function StripePaymentProcessor_Factory(t) { return new (t || StripePaymentProcessor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_dac_config_service__WEBPACK_IMPORTED_MODULE_2__["DacConfig"])); };
StripePaymentProcessor.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: StripePaymentProcessor, factory: StripePaymentProcessor.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](StripePaymentProcessor, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"] }, { type: _dac_config_service__WEBPACK_IMPORTED_MODULE_2__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "6lBM":
/*!******************************************************************!*\
  !*** ./src/app/login/login-finalize/login-finalize.component.ts ***!
  \******************************************************************/
/*! exports provided: LoginFinalizeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginFinalizeComponent", function() { return LoginFinalizeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/fhir-service */ "y+jN");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







function LoginFinalizeComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r0.errorMessage, "\n");
} }
function LoginFinalizeComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " Processing login.\n");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class LoginFinalizeComponent {
    constructor(fhirService, router) {
        this.fhirService = fhirService;
        this.router = router;
        console.log("inside LoginFinalizeComponent component consttructor");
    }
    get hasError() {
        return this.errorMessage != null;
    }
    get errorMessage() {
        return this._errorMessage;
    }
    ngOnInit() {
        this.fhirService.fhirClientReady()
            .then(client => {
            // if for some reason someone logged in as a patient... we are sending them on to the patient routes
            // TODO: we need a way of sending a user back to the page they were trying to access before the permission request hit them...
            this.router.navigateByUrl("/"); // go back and let the route guard send to the admin page or the regular page now that we are ready
        })
            .catch(error => {
            if (error.needsAuthentication) {
                // somehow they cancelled the navigation or need to go back.. relaunch the nnavigation window
                this.router.navigate(["login"]);
            }
            else {
                this._errorMessage = error.message;
            }
        });
    }
}
LoginFinalizeComponent.ɵfac = function LoginFinalizeComponent_Factory(t) { return new (t || LoginFinalizeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"])); };
LoginFinalizeComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoginFinalizeComponent, selectors: [["app-login-finalize"]], decls: 2, vars: 2, consts: [["class", "alert alert-error", 4, "ngIf"], ["class", "alert alert-info", 4, "ngIf"], [1, "alert", "alert-error"], [1, "alert", "alert-info"]], template: function LoginFinalizeComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, LoginFinalizeComponent_div_0_Template, 2, 1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, LoginFinalizeComponent_div_1_Template, 2, 0, "div", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasError);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasError);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginFinalizeComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-login-finalize',
                templateUrl: './login-finalize.component.html'
            }]
    }], function () { return [{ type: app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }]; }, null); })();


/***/ }),

/***/ "6xcY":
/*!***********************************************!*\
  !*** ./src/app/shared/models/question-set.ts ***!
  \***********************************************/
/*! exports provided: QuestionSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionSet", function() { return QuestionSet; });
/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utility */ "M7wF");

class QuestionSet {
    constructor() {
        this.id = null;
        this.title = "";
        this.display_order = 0;
        this.questions = [];
        this.labels = [];
        this.answer_start_value = 1;
        // options are LikertGrid, SingleSelectDropDown
        this.display_type = "MultipleChoiceGrid";
        this.display_conditions = [];
    }
    getQuestionById(id) {
        let q = this.questions.find(q => q.id == id);
        return q;
    }
    get display_conditions() {
        return this._display_conditions;
    }
    set display_conditions(v) {
        this._display_conditions = v;
    }
    get display_type() {
        return this._display_type;
    }
    set display_type(v) {
        this._display_type = v;
    }
    get id() {
        return this._id;
    }
    set id(v) {
        this._id = v;
    }
    get display_order() {
        return this._display_order;
    }
    set display_order(v) {
        this._display_order = v;
    }
    get answer_start_value() {
        return this._answer_start_value;
    }
    set answer_start_value(v) {
        this._answer_start_value = v;
    }
    get title() {
        return this._title;
    }
    set title(v) {
        this._title = v;
    }
    get questions() {
        return this._questions;
    }
    set questions(v) {
        this._questions = v;
    }
    get labels() {
        return this._labels;
    }
    set labels(v) {
        this._labels = v;
    }
    get instructions() {
        return this._instructions;
    }
    set instructions(v) {
        this._instructions = v;
    }
    addQuestion(question) {
        this.questions.push(question);
    }
    removeQuestion(question) {
        let index = this.questions.indexOf(question);
        if (index >= 0) {
            this.questions.splice(index, 1);
        }
    }
    addLabel(label) {
        this.labels.push(label);
    }
    removeLabel(label) {
        let index = this.labels.indexOf(label);
        if (index >= 0) {
            this.labels.splice(index, 1);
        }
    }
    shiftLabelUp(label) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionUp(this.labels, label);
    }
    shiftLabelDown(label) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionDown(this.labels, label);
    }
    shiftQuestionUp(question) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionUp(this.questions, question);
    }
    shiftQuestionDown(question) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionDown(this.questions, question);
    }
    removeScale(scale) {
        // get all of the scales and set them to be null
        // for those questions.
        this.questions.filter(q => q.assessment_scale.id == scale.id)
            .forEach(q => q.assessment_scale = null);
    }
    getDisplayConditions() {
        return this._display_conditions;
    }
    shouldDisplay(question_sets) {
        // cycle through any conditions based upon the question_sets and say whether the current question_set
        // should display.
        return true;
    }
}


/***/ }),

/***/ "7Zen":
/*!*********************************************************************************!*\
  !*** ./src/app/shared/assessment-group-list/assessment-group-list.component.ts ***!
  \*********************************************************************************/
/*! exports provided: AssessmentGroupListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentGroupListComponent", function() { return AssessmentGroupListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_assessment_group_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/assessment-group.service */ "mSVE");
/* harmony import */ var _shared_models_assessment_group_display__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/models/assessment-group-display */ "hUI+");
/* harmony import */ var _shared_services_assessment_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/services/assessment-token.service */ "d+6K");
/* harmony import */ var app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/login/services/auth.service */ "6Hrc");
/* harmony import */ var app_shared_models_capability__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/models/capability */ "Yc7l");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../buy-item-button/buy-item-button.component */ "v9i2");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */












function AssessmentGroupListComponent_ul_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "li", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Loading...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssessmentGroupListComponent_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "No groups available");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssessmentGroupListComponent_ul_2_li_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const group_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r5.getGroupTokensRemaining(group_r4));
} }
function AssessmentGroupListComponent_ul_2_li_1_dac_buy_item_button_3_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "dac-buy-item-button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssessmentGroupListComponent_ul_2_li_1_dac_buy_item_button_3_Template_dac_buy_item_button_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r9.triggerBuy($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const group_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", group_r4);
} }
function AssessmentGroupListComponent_ul_2_li_1_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Add ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssessmentGroupListComponent_ul_2_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssessmentGroupListComponent_ul_2_li_1_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const group_r4 = ctx.$implicit; const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r12.pickGroup(group_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AssessmentGroupListComponent_ul_2_li_1_span_2_Template, 2, 1, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, AssessmentGroupListComponent_ul_2_li_1_dac_buy_item_button_3_Template, 1, 1, "dac-buy-item-button", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, AssessmentGroupListComponent_ul_2_li_1_span_4_Template, 2, 0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const group_r4 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", group_r4.name, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.tokensEnabled && ctx_r3.hasLoadedTokens && !ctx_r3.shouldBuyTokens(group_r4));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.tokensEnabled && ctx_r3.hasLoadedTokens && ctx_r3.shouldBuyTokens(group_r4));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r3.tokensEnabled);
} }
function AssessmentGroupListComponent_ul_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssessmentGroupListComponent_ul_2_li_1_Template, 5, 4, "li", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r2.Groups);
} }
class AssessmentGroupListComponent {
    constructor(assessmentGroupService, assessmentTokenService, authService) {
        this.assessmentGroupService = assessmentGroupService;
        this.assessmentTokenService = assessmentTokenService;
        this.authService = authService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.buy = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.hasLoadedTokens = false;
        this._hasLoadedData = false;
        this.groups = [];
        this.canShop = false;
        this._userSubscription = this.authService.getLoginState().subscribe(loginState => {
            if (loginState.user) {
                this.canShop = loginState.user.hasCapability(app_shared_models_capability__WEBPACK_IMPORTED_MODULE_5__["Capability"].CAN_SHOP);
            }
            else {
                this.canShop = false;
            }
        });
    }
    get hasLoadedData() {
        return this._hasLoadedData;
    }
    ngOnInit() {
        this.assessmentGroupService.getAssessmentGroups().then((groups) => {
            // add a display property so we can expand/contract it.
            this.groups = groups.map((g) => {
                let displayGroup = new _shared_models_assessment_group_display__WEBPACK_IMPORTED_MODULE_2__["AssessmentGroupDisplay"]();
                Object.assign(displayGroup, g);
                displayGroup.Show = false;
                return displayGroup;
            });
            return groups;
        })
            .then((groups) => {
            return this.assessmentTokenService.loadAssessmentTokens().then(() => {
                this.hasLoadedTokens = true;
                this._hasLoadedData = true;
            });
        });
    }
    ngOnDestroy() {
        this._userSubscription.unsubscribe();
    }
    get tokensEnabled() {
        return this.assessmentTokenService.isTokensEnabled();
    }
    getTokensRemaining(assessment) {
        if (!assessment) {
            return 0;
        }
        return this.assessmentTokenService.getRemainingTokens(assessment);
    }
    getGroupTokensRemaining(group) {
        if (!group) {
            return 0;
        }
        return this.assessmentTokenService.getGroupRemainingTokens(group);
    }
    shouldBuyTokens(group) {
        let tokens = this.getGroupTokensRemaining(group);
        return this.canShop && tokens <= 0;
    }
    pickGroup(group) {
        this.selected.emit(group);
    }
    toggleGroup(group, event) {
        group.Show = !group.Show;
        console.log(group, group.Show);
        event.preventDefault();
        event.stopPropagation();
    }
    addAssessmentToGroup(group, assessment) {
        let dup = group.Assessments.find((a) => { return a.uid == assessment.uid; });
        if (dup) {
            alert("This assessment already has been added.");
            return;
        }
        group.Assessments.push(assessment);
        this.assessmentGroupService.addAssessmentToGroup(group, assessment).then((assessment) => {
            assessment.version = assessment.version;
            assessment.id = assessment.id;
        })
            .catch((error) => {
            console.error(error);
            // TODO: stephen need to display an error here...
            // remove it
            let index = group.Assessments.indexOf(assessment);
            if (index >= 0) {
                group.Assessments.splice(index, 1);
            }
        });
    }
    addGroup() {
        this.assessmentGroupService.createNewGroup(this.NewGroupName).then((group) => {
            let display = new _shared_models_assessment_group_display__WEBPACK_IMPORTED_MODULE_2__["AssessmentGroupDisplay"]();
            Object.assign(display, group);
            // hide all the others, and show the one we just added.
            this.groups.forEach((g) => g.Show = false);
            display.Show = true;
            display.ShowAdd = true;
            this.NewGroupName = "";
            this.groups.push(display);
        });
    }
    triggerBuy(group) {
        this.buy.emit(group);
    }
    get Groups() {
        return this.groups;
    }
}
AssessmentGroupListComponent.ɵfac = function AssessmentGroupListComponent_Factory(t) { return new (t || AssessmentGroupListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_assessment_group_service__WEBPACK_IMPORTED_MODULE_1__["AssessmentGroupService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_assessment_token_service__WEBPACK_IMPORTED_MODULE_3__["AssessmentTokenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"])); };
AssessmentGroupListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AssessmentGroupListComponent, selectors: [["dac-assessment-group-list"]], outputs: { selected: "selected", buy: "buy" }, decls: 3, vars: 3, consts: [["class", "list-group", 4, "ngIf"], [4, "ngIf"], [1, "list-group"], [1, "list-group-item", "d-flex", "justify-content-between", "align-items-center", "list-group-item-action"], [1, "badge", "badge-pill", "badge-primary", "mr-2"], [1, "fa", "fa-info"], ["class", "list-group-item d-flex justify-content-between align-items-center list-group-item-action", 3, "click", 4, "ngFor", "ngForOf"], [1, "list-group-item", "d-flex", "justify-content-between", "align-items-center", "list-group-item-action", 3, "click"], ["class", "badge badge-primary badge-pill", "alt", "Tokens Remaining", "title", "Tokens Remaining", 4, "ngIf"], [3, "item", "click", 4, "ngIf"], ["class", "badge badge-primary badge-pill btn btn-sm btn-primary", "alt", "Add As Assignment", "title", "Add As Assignment", 4, "ngIf"], ["alt", "Tokens Remaining", "title", "Tokens Remaining", 1, "badge", "badge-primary", "badge-pill"], [3, "item", "click"], ["alt", "Add As Assignment", "title", "Add As Assignment", 1, "badge", "badge-primary", "badge-pill", "btn", "btn-sm", "btn-primary"]], template: function AssessmentGroupListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AssessmentGroupListComponent_ul_0_Template, 6, 0, "ul", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssessmentGroupListComponent_p_1_Template, 2, 0, "p", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AssessmentGroupListComponent_ul_2_Template, 2, 1, "ul", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasLoadedData);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoadedData && ctx.Groups.length <= 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoadedData);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_7__["BuyItemButtonComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9hc3Nlc3NtZW50LWdyb3VwLWxpc3QvYXNzZXNzbWVudC1ncm91cC1saXN0LmNvbXBvbmVudC5jc3MifQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssessmentGroupListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-assessment-group-list',
                templateUrl: './assessment-group-list.component.html',
                styleUrls: ['./assessment-group-list.component.css']
            }]
    }], function () { return [{ type: _services_assessment_group_service__WEBPACK_IMPORTED_MODULE_1__["AssessmentGroupService"] }, { type: _shared_services_assessment_token_service__WEBPACK_IMPORTED_MODULE_3__["AssessmentTokenService"] }, { type: app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] }]; }, { selected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], buy: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "7gIF":
/*!******************************************************************************************!*\
  !*** ./src/app/assessment-charts/summary-scales-chart/summary-scales-chart.component.ts ***!
  \******************************************************************************************/
/*! exports provided: SummaryScalesChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SummaryScalesChartComponent", function() { return SummaryScalesChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_chart_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/chart.service */ "04I9");
/* harmony import */ var app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/assessment-charts/services/scale-result-color.service */ "s1ev");
/* harmony import */ var app_assessment_charts_base_chart_base_chart_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/assessment-charts/base-chart/base-chart.component */ "muz2");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








function SummaryScalesChartComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 1);
} }
class SummaryScalesChartComponent extends app_assessment_charts_base_chart_base_chart_component__WEBPACK_IMPORTED_MODULE_3__["BaseChartComponent"] {
    constructor(element, chartService, scaleResultColorService) {
        super(element, chartService);
        this.element = element;
        this.chartService = chartService;
        this.scaleResultColorService = scaleResultColorService;
        this.MAX_SCALE_NAME_LENGTH = 75;
        this.reverseDirection = false;
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    ngOnDestroy() {
        super.ngOnDestroy();
    }
    ngOnInit() {
        super.ngOnInit();
    }
    getAdjustedFontSize(fontSize) {
        let adjustment = fontSize / 14.4;
        let vpFontSize = this.getFontSizeForCurrentViewport();
        return fontSize * adjustment;
    }
    getFontSizeForCurrentViewport() {
        let fontSize = 14.4;
        let mediumDevice = window.matchMedia('(max-width: 768px)');
        let smallDevice = window.matchMedia('(max-width: 450px');
        if (mediumDevice) {
            fontSize = 12.0;
        }
        else if (smallDevice) {
            fontSize = 10.0;
        }
        return fontSize;
    }
    setupChartConfiguration() {
        let fontSize = this.getFontSizeForCurrentViewport();
        let configuration = super.setupChartConfiguration();
        configuration.legend = {
            display: false
        };
        configuration.tooltips = {
            enabled: false
        };
        /*
        title: {
            display: false
            ,text: "some title goes here"
          }
          */
        // configuration.title = {
        //   display: true
        //   ,position: 'top'
        //   ,text: 'Severity: Slightly Elevated'
        //   ,fontSize: this.getAdjustedFontSize(18)
        // };
        let xAxes = configuration.scales.xAxes[0];
        xAxes.id = 'first-x-axis';
        xAxes.ticks = {
            beginAtZero: true,
            autoSkip: false
        };
        xAxes.gridLines = {
            offsetGridLines: true
        };
        xAxes.offset = true;
        configuration.scales.xAxes.push({
            id: 'second-x-axis',
            display: false
        });
        // configuration.scales.xAxes[0].display = false;
        // these should all be the same length so grab the first one.
        let yMax = this.scaleResults[0].scale.ranges.length;
        let yAxes = configuration.scales.yAxes[0];
        yAxes.id = 'first-y-axis';
        yAxes.type = 'linear';
        yAxes.ticks = {
            stepSize: 1,
            callback: (value, index, values) => {
                let scaleRangeNames = this.getChartRangeNames();
                // if (value == 0 || !scaleRangeNames.hasOwnProperty(value-1)) {
                //   return " ";
                // }
                // else {
                return scaleRangeNames[value - 1];
                // }
            },
            beginAtZero: true,
            max: yMax,
            fontSize: fontSize
        };
        configuration.defaultFontSize = fontSize;
        // yAxes.padding = 0;
        // yAxes.fontSize = 10;
        yAxes.position = 'left';
        if (this.scaleResults.length < 3) {
            configuration.scales.xAxes[0].barPercentage = 0.50;
            configuration.scales.xAxes[0].maxBarThickness = 50;
        }
        else if (this.scaleResults.length < 5) {
            configuration.scales.xAxes[0].maxBarThickness = 50;
        }
        configuration.elements = {
            point: {
                radius: 0 // should hide the points from displaying...
                ,
                hoverRadius: 0
            }
        };
        configuration.scales.xAxes[0].display = this.showNames === true;
        configuration.layout.padding = {
            right: 10,
            top: 10,
            bottom: 10
        };
        return configuration;
    }
    getLabelData() {
        return this._labelData;
    }
    getDatasets() {
        return this._barData;
    }
    getLabelsForScales(results) {
        let labels = this.scaleResults.map(sr => sr.scale.name.substring(0, Math.min(sr.scale.name.length, this.MAX_SCALE_NAME_LENGTH)));
        // let labels =  this.scaleResults.map(sr => sr.scale.name);
        if (this.chartScaleNames) {
            if (this.chartScaleNames.length != results.length) {
                console.error("chart scale names", this.chartScaleNames, " do not match number of scales ", results);
            }
            else {
                labels = this.chartScaleNames;
            }
        }
        // make sure we have two empty labels at the beginning and end of the graph
        // we do this because of the grid offset setting, otherwise the bar graphs would have
        // a bar at the front and end that are cut in half making the graph pretty ugly.
        // labels.unshift("");
        // labels.push("");
        return labels;
    }
    getChartRangeNames() {
        let scaleRangeNames = this.chartRangeNames;
        if (!scaleRangeNames || scaleRangeNames.length == 0) {
            scaleRangeNames = this.scaleResults[0].scale.ranges.map(r => {
                let name = r.displayName || "";
                if (this.showRangeScore !== false) {
                    name += " (" + r.rangeEnd + ")";
                }
                else {
                    console.log("showRangeScore was false for ", this.scaleResults[0]);
                }
                return name;
            });
        }
        else if (scaleRangeNames.length != this.scaleResults[0].scale.ranges.length) {
            console.error("Scale range names does not match count of scale ranges");
        }
        else {
            scaleRangeNames = scaleRangeNames.map((v, i) => {
                let range = this.scaleResults[0].scale.ranges[i];
                return v + " (" + range.rangeEnd + ")";
            });
        }
        return scaleRangeNames;
    }
    setupChartData() {
        let barColor = "#007FFF";
        let hoverBackgroundColor = "rgba(92,141,181, .75)";
        let borderColor;
        if (this.scaleResults) {
            let dataSets = [];
            let barGraphData = []; // to offset the bar graph by one
            // ranges where we don't have scales have to have a score range of 0...
            // need to make this just work... assume there are 5 scales...
            // scalePerc = (score > range ? rangeEnd % : score % of range)
            // 1 scale -> (score % of range), 0, 0, 0, 0
            // 2 scale -> scalePerc, 0, 0, 0, scalePerc
            // 3 scale -> scalePerc, 0, scalePerc, 0, scalePerc
            // 4 scale -> scalePerc, scalePerc, 0, scalePerc, scalePerc
            // 5 scale -> scalePerc, scalePerc, scalePerc, scalePerc, scalePerc
            // this.scaleResults.map(sr => sr.scale.ranges)
            // .reduce((prev, next) => prev = prev.concat(next), [])
            // .forEach(r => console.log(r.name, "(",r.rangeStart, "-",r.rangeEnd, ")"));
            this.scaleResults.forEach(sr => {
                // TODO: stephen later we want to generate an aproximate range modifier here...
                let index = sr.scale.ranges.indexOf(sr.range);
                // TODO: stephen much of this code is leftover from various graphing mechanisms we had before as each of the scales
                // is on an ordinal value, but we represent the percentage through decimal numbers here.
                let scorePercent = sr.range.getPercentageForRange(sr.score) / 100; // from 0 -> 1 this will increase the graph percent that way.
                if (scorePercent <= 0) {
                    // we need to show something on the graph so let's do a .10 percent increment here so we can see some kind of bar here.
                    scorePercent += .10;
                }
                // let index = sr.scale.ranges.indexOf(sr.range) + .5;
                barGraphData.push(index + scorePercent);
            });
            // barGraphData.push(0);  // to provide the padding offset at the end.
            dataSets.push({
                label: "data",
                backgroundColor: barColor,
                borderColor: "rgba(0, 0, 0, 1)",
                borderWidth: 1,
                yAxisID: 'first-y-axis',
                data: barGraphData
            });
            let scaleRangeNames = this.getChartRangeNames();
            let scaleRanges = this.scaleResults[0].scale.ranges;
            let colors = this.scaleResultColorService.getBackgroundColors(scaleRangeNames.length);
            if (this.reverseDirection) {
                colors.reverse();
            }
            colors.forEach((colorChart, index) => {
                dataSets.push({
                    label: scaleRangeNames[index],
                    data: Array(this.scaleResults.length + 1).fill(index + 1),
                    backgroundColor: colorChart.color,
                    borderColor: colorChart.color
                    // ,borderWidth: 0
                    ,
                    pointRadius: 0,
                    type: 'line',
                    xAxisID: 'second-x-axis',
                    yAxisID: 'first-y-axis'
                });
            });
            this._barData = dataSets;
            this._labelData = this.getLabelsForScales(this.scaleResults);
        }
        else {
            this._barData = { datasets: [], label: [] };
        }
    }
    get hasResults() {
        return this.scaleResults != null && this.scaleResults.length;
    }
}
SummaryScalesChartComponent.ɵfac = function SummaryScalesChartComponent_Factory(t) { return new (t || SummaryScalesChartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_chart_service__WEBPACK_IMPORTED_MODULE_1__["ChartService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_2__["ScaleResultColorService"])); };
SummaryScalesChartComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SummaryScalesChartComponent, selectors: [["app-summary-scales-chart"]], inputs: { scaleResults: "scaleResults", showNames: "showNames", showRangeScore: "showRangeScore", chartScaleNames: "chartScaleNames", chartRangeNames: "chartRangeNames", reverseDirection: "reverseDirection" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 1, vars: 1, consts: [["class", "scale-chart-container d-flex h-100", 4, "ngIf"], [1, "scale-chart-container", "d-flex", "h-100"]], template: function SummaryScalesChartComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SummaryScalesChartComponent_div_0_Template, 1, 0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Fzc2Vzc21lbnQtY2hhcnRzL3N1bW1hcnktc2NhbGVzLWNoYXJ0L3N1bW1hcnktc2NhbGVzLWNoYXJ0LmNvbXBvbmVudC5jc3MifQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SummaryScalesChartComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-summary-scales-chart',
                templateUrl: './summary-scales-chart.component.html',
                styleUrls: ['./summary-scales-chart.component.css']
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _services_chart_service__WEBPACK_IMPORTED_MODULE_1__["ChartService"] }, { type: app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_2__["ScaleResultColorService"] }]; }, { scaleResults: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["scaleResults"]
        }], showNames: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["showNames"]
        }], showRangeScore: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["showRangeScore"]
        }], chartScaleNames: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["chartScaleNames"]
        }], chartRangeNames: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["chartRangeNames"]
        }], reverseDirection: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["reverseDirection"]
        }] }); })();


/***/ }),

/***/ "7myg":
/*!*******************************************************!*\
  !*** ./src/app/shared/services/assessment.service.ts ***!
  \*******************************************************/
/*! exports provided: AssessmentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentService", function() { return AssessmentService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _pako_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pako.service */ "vPvb");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var _dac_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dac-config.service */ "OApS");
/* harmony import */ var _unique_id_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./unique-id.service */ "rx/G");
/* harmony import */ var _assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./assessment-result-hydrator.service */ "iFyB");
/* harmony import */ var _assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./assessment-hydrator.service */ "RKwW");
/* harmony import */ var _assessment_compressor_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./assessment-compressor.service */ "oN+P");
/* harmony import */ var _fhir_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./fhir-service */ "y+jN");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


















class AssessmentService {
    constructor(
    // TODO: stephen replace $http here with our dac$http
    _dac$http, _pako, _resultHydrator, _hydrator, _compressor, _uuid, dacConfig, fhirService) {
        this._dac$http = _dac$http;
        this._pako = _pako;
        this._resultHydrator = _resultHydrator;
        this._hydrator = _hydrator;
        this._compressor = _compressor;
        this._uuid = _uuid;
        this.dacConfig = dacConfig;
        this.fhirService = fhirService;
        this.EXTENSION_NAME = "openemr-dac-assessment";
        this.API_URL = this.dacConfig.api_url;
        this._results = new Map();
        this._assessments = new Map();
        this._pendingResults = new Map();
    }
    // TODO: stephen need to handle the caching results.
    clearCache() {
        this._results = new Map();
        this._assessments = new Map();
        this._pendingResults = new Map();
    }
    get clientId() {
        return this._clientId;
    }
    set clientId(v) {
        this._clientId = v;
    }
    get clientCustomField1() {
        return this._clientCustomField1;
    }
    set clientCustomField1(v) {
        this._clientCustomField1 = v;
    }
    get uid() {
        return this._assessmentUid;
    }
    set uid(v) {
        this._assessmentUid = v;
    }
    get forceTestRetake() {
        return this._forceTestRetake;
    }
    set forceTestRetake(v) {
        this._forceTestRetake = v;
    }
    newId() {
        return this._uuid.generate();
    }
    createAssessmentFromJSON(data) {
        return this._hydrator.hydrate(data);
    }
    createAssessmentResultFromJSON(data) {
        return this._resultHydrator.hydrate(data);
    }
    hasClientTakenAssessment() {
        return new Promise((resolve, reject) => {
            if (this.forceTestRetake) {
                resolve([]);
            }
            this.getLatestClientAssessmentResult(this.clientId, this._assessmentUid)
                .then((result) => {
                resolve(result.id);
            }, (error) => {
                if (error && error.status === 404) {
                    resolve([]);
                }
                else {
                    console.error("could not retrieve assessment results", error);
                    reject("could not retrieve assessment results");
                }
            });
        });
    }
    getAssessmentForAssignment(assignment) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (assignment.Uid && this._assessments[assignment.Uid]) {
                // we want to present a copy of the assessment here..
                return this.getAssessmentCopy(this._assessments[assignment.Uid]);
            }
            var requestData = {
                clientID: this.clientId,
                assignmentItemID: assignment.Id
            };
            // we go off the unique id of the assessment from the assignment and grab it from our unique extension
            // we do this in order to simplify the scope requirements on the patient client side
            let client = yield this.fhirService.getFhirClient();
            return client.request("Questionnaire?_id=" + assignment.AssessmentUuid + "&questionnaire-code=" + this.EXTENSION_NAME, { flat: true })
                // .then
                // TODO: stephen is this going to cause problems here??
                // return this._dac$http.get<Assessment>("assessments/" + assignment.Uid, requestData)
                .then((json) => {
                let item = Array.isArray(json) && json.length ? json[0] : {};
                if (item.extension && Array.isArray(item.extension) && item.extension.length) {
                    let extension = item.extension.find(e => e.url == "https://www.discoverandchange.com/fhir/" + this.EXTENSION_NAME);
                    if (extension && extension.valueString) {
                        var assessment = this.createAssessmentFromJSON(JSON.parse(extension.valueString));
                        assessment.id = item.id;
                        assessment.version = item.meta && item.meta.versionId ? item.meta.versionId : 1;
                        this._assessments[assignment.Uid] = assessment;
                        return this.getAssessmentCopy(assessment);
                    }
                }
                throw new Error("Failed to find dac-assessment extension");
            });
        });
    }
    getAssessmentCopy(assessment) {
        // we are going to create a JSON version of this, and then hydrate the version.
        let compressedAssessment = this._compressor.compress(assessment);
        return this._hydrator.hydrate(compressedAssessment);
    }
    getAssessmentVersion(uid, version) {
        var requestData = {
            clientID: this.clientId,
            version: version
        };
        return this._dac$http.get("assessments/" + uid, requestData)
            .then((json) => {
            var assessment = this.createAssessmentFromJSON(json);
            return assessment;
        }, (error) => {
            console.error(error);
            throw Error("could not retrieve assessment");
        });
    }
    getAssessment(uid) {
        var that = this;
        if (this._assessments[uid]) {
            return Promise.resolve(this._assessments[uid]);
        }
        var requestData = {
            clientID: this.clientId
        };
        return this._dac$http.get("assessments/" + uid, requestData)
            .then((json) => {
            var assessment = that.createAssessmentFromJSON(json);
            this._assessments[uid] = assessment;
            return assessment;
        }, (error) => {
            console.error(error);
            throw Error("could not retrieve assessment");
        });
    }
    getAssessmentList() {
        return this._dac$http.get("assessments")
            .then(data => {
            if (data) {
                let assessments = data.map(i => this.createAssessmentFromJSON(i))
                    .filter(a => this.dacConfig.isAssessmentEnabled(a.uid));
                return assessments;
            }
            throw new Error("No assessment data was returned");
        });
    }
    // TODO: stephen this compressed post is a leaky abstraction and doesn't work like the others
    // we need to fix it.
    createAssessment(assessment) {
        let compressedAssessment = this._compressor.compress(assessment);
        return this._dac$http.compressedPost("assessments", compressedAssessment)
            .catch((error) => {
            console.error(error);
            throw error.response;
        });
    }
    saveAssessment(assessment) {
        let compressedAssessment = this._compressor.compress(assessment);
        return this._dac$http.compressedPost("assessments/" + assessment.uid, compressedAssessment)
            .then((result) => {
            return result;
        })
            .catch((error) => {
            console.error(error);
            throw error.response;
        });
    }
    saveAssessmentResult(result) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            var that = this;
            if (!result.id) {
                result.id = this.newId();
            }
            let resultToSave = this.getAssessmentResultForSave(result);
            let currentUser = yield this.fhirService.getFhirUser();
            let client = yield this.fhirService.getFhirClient();
            var saveData = {
                id: result.id,
                client_id: this.clientId,
                data: resultToSave,
                assessment: {
                    id: result.assessment.id,
                    uid: result.assessment.uid,
                    version: result.assessment.version
                },
                client_custom_field_1: this.clientCustomField1
            };
            let answers = resultToSave._answers.map(a => {
                let answer = { valueString: a._answer };
                if (typeof a._answer !== 'string') {
                    answer.valueString = JSON.stringify(a._answer);
                }
                return { linkId: a._question_id, answer: [answer] };
            });
            let questionnaireResponse = {
                resourceType: 'QuestionnaireResponse',
                questionnaire: '/Questionnaire/' + result.assessment.id,
                status: 'completed',
                author: {
                    reference: currentUser
                },
                source: {
                    reference: currentUser
                },
                item: answers,
                extension: [
                    {
                        url: "https://www.discoverandchange.com/fhir/" + this.EXTENSION_NAME + "-response",
                        valueString: JSON.stringify(saveData)
                    }
                ]
            };
            return client.create(questionnaireResponse, {})
                .then(createdResource => {
                result.id = createdResource.id;
                this._results[result.id] = result;
                this.forceTestRetake = false;
                return result;
            })
                .catch(error => {
                console.error("save failed", error);
                throw new Error("Save results failed");
            });
        });
    }
    getAssessmentResultForSave(result) {
        let transformed = {
            _id: result.id,
            _assignmentItemId: result.assignmentItemId,
            _assessment: {
                _id: result.assessment.id,
                _uid: result.assessment.uid,
                _version: result.assessment.version
            },
            _scaleResults: [],
            _answers: [],
            _flaggedQuestions: result.flaggedQuestions.map(q => q.id)
        };
        let scaleResults = result.scaleResults.map(sr => {
            if (!(sr.scale && sr.range)) {
                console.error("ScaleResult missing scale or range.  Check assessment data.  Object: ", sr);
            }
            return {
                _scaleId: sr.scale ? sr.scale.id : null,
                _score: sr.score,
                _rangeId: sr.range ? sr.range.id : null
            };
        });
        transformed._scaleResults = scaleResults;
        let questionSets = result.assessment.getQuestionSetsForDisplay();
        questionSets.forEach(qs => qs.questions.forEach(q => {
            transformed._answers.push({ _question_id: q.id, _answer: q.answerForSave, _score: q.getComputedScore() });
        }));
        return transformed;
    }
    // private resolvePendingResults(resultID, serverResponse) {
    // 	let data = serverResponse.json() as any;
    // 	var result:AssessmentResult = this.createAssessmentResultFromJSON(data);
    // 	// get it from the assessment if we didn't get one in our bound parameters
    // 	// this only happens when a client first comes to an assessment and we don't know
    // 	// their top result.
    // 	if (!resultID) {
    // 		resultID = result.id;
    // 	}
    // 	this._results[resultID] = result;
    // 	if (!this._pendingResults[resultID]) {
    // 		return;
    // 	}
    // 	this._pendingResults[resultID].forEach((defer) => defer.resolve(result));
    // 	delete this._pendingResults[resultID];
    // }
    addPendingDefer(defer, resultID) {
        if (!this._pendingResults[resultID]) {
            this._pendingResults[resultID] = [];
        }
        this._pendingResults[resultID].push(defer);
    }
    getLatestClientAssessmentResult(clientId, assessmentUID) {
        var requestData = {
            clientID: clientId,
            assessmentUID: assessmentUID,
            resultID: null
        };
        return new Promise((resolve, reject) => {
            this._dac$http.get("assessment-results", requestData)
                .then((data) => {
                var result = this.createAssessmentResultFromJSON(data);
                this._results[result.id] = result;
                resolve(result);
                return result;
            }, (error) => {
                reject(error);
                return error;
            });
        });
    }
    getAssessmentResultWithLatestAssessment(clientId, resultID) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            var requestData = {
                clientID: clientId,
                resultID: resultID
            };
            try {
                let resultData = yield this._dac$http.get("assessment-results", requestData);
                let resultDataAssessment = resultData._assessment || { _uid: "" };
                let uid = resultDataAssessment._uid || "";
                var assessmentVersionData = {
                    clientID: clientId
                };
                let assessmentData = yield this._dac$http.get("assessments/" + uid, requestData);
                resultData._assessment = assessmentData;
                return this._resultHydrator.hydrate(resultData);
            }
            catch (error) {
                console.error(error);
                throw error;
            }
        });
    }
    getAssessmentResultList(clientId, resultIds) {
        let requestData = {
            clientID: clientId,
            "resultIds[]": resultIds // need to handle php cases when working with arrays
        };
        return this._dac$http.get("assessment-results", requestData)
            .then((data) => {
            let results = [];
            if (data && data.length) {
                results = data.map(r => this.createAssessmentResultFromJSON(r));
            }
            return results;
        });
    }
    getAssessmentResult(clientId, resultID) {
        var requestData = {
            clientID: clientId,
        };
        if (resultID) {
            requestData.resultID = resultID;
        }
        else {
            requestData.assessmentUID = this.uid;
        }
        console.log("attempting to grab results");
        return this._dac$http.get("assessment-results", requestData)
            .then((data) => {
            var result = this.createAssessmentResultFromJSON(data);
            return result;
        });
        // 	let promise = new Promise((resolve, reject) => {
        // 		this._dac$http.get("assessments/results.json", requestData)
        // 		.then((serverResponse) => {
        // 			let data = serverResponse.json() as any;
        // 				var result:AssessmentResult = this.createAssessmentResultFromJSON(data);
        // 				// get it from the assessment if we didn't get one in our bound parameters
        // 				// this only happens when a client first comes to an assessment and we don't know
        // 				// their top result.
        // 				if (!resultID) {
        // 					resultID = result.id;
        // 				}
        // 		}, (error) => {
        // 			reject(error);
        // 			return error;
        // 		});
        // 		console.log("promise is: ", promise);
        // 		if (resultID && this._results[resultID]) {
        // 			resolve(this._results[resultID]);
        // 		}
        // 		else if (resultID && this._pendingResults[resultID]) {
        // 			this.addPendingDefer(promise, resultID);
        // 		}
        // 		else {
        // 			var requestData = {
        // 				clientID: clientId
        // 				,assessmentUID: this.uid
        // 				,resultID: null
        // 			};
        // 			let errorCallback = (error) => {
        // 				reject(error);
        // 				return error;
        // 			};
        // 			if (resultID) {
        // 				requestData.resultID = resultID;
        // 				this.addPendingDefer(promise, resultID);
        // 			}
        // 			this._dac$http.get("assessments/results.json", requestData)
        // 					.then(this.resolvePendingResults.bind(this, resultID), errorCallback);
        // 		}
        // 	});
        // 	return promise;
        // }
        // clearResultCache() {
        // // does nothing as we have no caching layer at this point
        // // TODO: stephen look at removing this function.
    }
}
AssessmentService.ɵfac = function AssessmentService_Factory(t) { return new (t || AssessmentService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_3__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_pako_service__WEBPACK_IMPORTED_MODULE_2__["Pako"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_6__["AssessmentResultHydrator"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_7__["AssessmentHydrator"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_assessment_compressor_service__WEBPACK_IMPORTED_MODULE_8__["AssessmentCompressorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_unique_id_service__WEBPACK_IMPORTED_MODULE_5__["UniqueIdService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_fhir_service__WEBPACK_IMPORTED_MODULE_9__["FhirService"])); };
AssessmentService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AssessmentService, factory: AssessmentService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AssessmentService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_3__["HTTPService"] }, { type: _pako_service__WEBPACK_IMPORTED_MODULE_2__["Pako"] }, { type: _assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_6__["AssessmentResultHydrator"] }, { type: _assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_7__["AssessmentHydrator"] }, { type: _assessment_compressor_service__WEBPACK_IMPORTED_MODULE_8__["AssessmentCompressorService"] }, { type: _unique_id_service__WEBPACK_IMPORTED_MODULE_5__["UniqueIdService"] }, { type: _dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"] }, { type: _fhir_service__WEBPACK_IMPORTED_MODULE_9__["FhirService"] }]; }, null); })();


/***/ }),

/***/ "8T2e":
/*!************************************************************************************!*\
  !*** ./src/app/assessment-charts/legend-color-icon/legend-color-icon.component.ts ***!
  \************************************************************************************/
/*! exports provided: LegendColorIconComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LegendColorIconComponent", function() { return LegendColorIconComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


const _c0 = ["canvas"];
const _c1 = ["img"];
class LegendColorIconComponent {
    constructor() { }
    ngOnInit() {
    }
    ngAfterViewInit() {
        // change the view, render the canvas
        let element = this.colorContainer.nativeElement;
        let context = element.getContext("2d");
        context.fillStyle = this.color;
        context.fillRect(0, 0, element.width, element.height);
        let imgSrc = element.toDataURL("image/png");
        this.imgContainer.nativeElement.src = imgSrc;
        // now hide our current element
        element.className = "hidden";
    }
}
LegendColorIconComponent.ɵfac = function LegendColorIconComponent_Factory(t) { return new (t || LegendColorIconComponent)(); };
LegendColorIconComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LegendColorIconComponent, selectors: [["legend-color-icon"]], viewQuery: function LegendColorIconComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.colorContainer = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.imgContainer = _t.first);
    } }, inputs: { color: "color" }, decls: 4, vars: 0, consts: [["canvas", ""], ["img", ""]], template: function LegendColorIconComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "canvas", null, 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "img", null, 1);
    } }, styles: ["canvas[_ngcontent-%COMP%] {\n    width: 100%;\n    height: 100%;\n}\nimg[_ngcontent-%COMP%] {\n    \n    max-width: inherit;\n    min-width: 20px;\n    height: 100%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXNzZXNzbWVudC1jaGFydHMvbGVnZW5kLWNvbG9yLWljb24vbGVnZW5kLWNvbG9yLWljb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSwyRkFBMkY7SUFDM0Ysa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixZQUFZO0FBQ2hCIiwiZmlsZSI6InNyYy9hcHAvYXNzZXNzbWVudC1jaGFydHMvbGVnZW5kLWNvbG9yLWljb24vbGVnZW5kLWNvbG9yLWljb24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbImNhbnZhcyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xufVxuaW1nIHtcbiAgICAvKiogVE9ETzogc3RlcGhlbiBmaWd1cmUgb3V0IHdoeSB3ZSBoYXZlIHRvIHJlc2V0IHRoZSBtYXgtd2lkdGggdG8gZ2V0IHRoaXMgdG8gYXBwZWFyLi4uICoqL1xuICAgIG1heC13aWR0aDogaW5oZXJpdDtcbiAgICBtaW4td2lkdGg6IDIwcHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LegendColorIconComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'legend-color-icon',
                templateUrl: './legend-color-icon.component.html',
                styleUrls: ['./legend-color-icon.component.css']
            }]
    }], function () { return []; }, { color: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], colorContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["canvas"]
        }], imgContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["img"]
        }] }); })();


/***/ }),

/***/ "8nxG":
/*!*************************************************************!*\
  !*** ./src/app/shared/services/question-factory.service.ts ***!
  \*************************************************************/
/*! exports provided: QuestionFactoryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionFactoryService", function() { return QuestionFactoryService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_checklist_question__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/checklist-question */ "j8yT");
/* harmony import */ var _models_multiple_choice_question__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/multiple-choice-question */ "OujB");
/* harmony import */ var _models_textbox_question__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/textbox-question */ "UT0e");
/* harmony import */ var _models_question_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/question-type */ "F+TI");
/* harmony import */ var _models_single_choice_question__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/single-choice-question */ "z+Bw");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







class QuestionFactoryService {
    constructor() { }
    createQuestionForType(type) {
        if (type == _models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].Textbox) {
            return new _models_textbox_question__WEBPACK_IMPORTED_MODULE_3__["TextboxQuestion"]();
        }
        else if (type == _models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].Checklist) {
            return new _models_checklist_question__WEBPACK_IMPORTED_MODULE_1__["ChecklistQuestion"]();
        }
        else if (type == _models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].SingleChoice) {
            return new _models_single_choice_question__WEBPACK_IMPORTED_MODULE_5__["SingleChoiceQuestion"]();
        }
        return new _models_multiple_choice_question__WEBPACK_IMPORTED_MODULE_2__["MultipleChoiceQuestion"]();
    }
    createDefaultEmptyQuestion() {
        // create an empty multiple choice question.
        return this.createQuestionForType(_models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].MultipleChoice);
    }
}
QuestionFactoryService.ɵfac = function QuestionFactoryService_Factory(t) { return new (t || QuestionFactoryService)(); };
QuestionFactoryService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: QuestionFactoryService, factory: QuestionFactoryService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuestionFactoryService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "8zWb":
/*!**************************************************************!*\
  !*** ./src/app/login/login-header/login-header.component.ts ***!
  \**************************************************************/
/*! exports provided: LoginHeaderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginHeaderComponent", function() { return LoginHeaderComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



const _c0 = function () { return ["/"]; };
const _c1 = function () { return ["/login"]; };
const _c2 = function () { return ["/loginAdmin"]; };
class LoginHeaderComponent {
    constructor() { }
    ngOnInit() {
    }
}
LoginHeaderComponent.ɵfac = function LoginHeaderComponent_Factory(t) { return new (t || LoginHeaderComponent)(); };
LoginHeaderComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoginHeaderComponent, selectors: [["app-login-header"]], decls: 25, vars: 6, consts: [["id", "home", 1, "header"], ["id", "main-nav", "role", "banner", 1, "navbar", "navbar-inverse", "bs-docs-nav"], [1, "container"], [1, "navbar-header", "responsive-logo"], ["type", "button", "data-toggle", "collapse", "data-target", ".bs-navbar-collapse", 1, "navbar-toggle", "collapsed"], [1, "sr-only"], [1, "icon-bar"], ["href", "/", 1, "navbar-brand"], ["src", "/assets/images/logo-addo.png", "alt", "Addo Recovery in partnership with Discover and Change."], ["role", "navigation", "id", "site-navigation", 1, "navbar-collapse", "bs-navbar-collapse", "collapse", 2, "height", "0px"], ["href", "#content", 1, "screen-reader-text", "skip-link"], ["id", "menu-menu-1", 1, "nav", "navbar-nav", "navbar-right", "responsive-nav", "main-nav-list"], ["id", "menu-item-32", 1, "menu-item", "menu-item-type-custom", "menu-item-object-custom", "current-menu-item", "current_page_item", "menu-item-home", "menu-item-32"], [3, "routerLink"], ["id", "menu-item-618", 1, "menu-item", "menu-item-type-post_type", "menu-item-object-page", "menu-item-has-children", "menu-item-618"], ["id", "menu-item-619", 1, "menu-item", "menu-item-type-post_type", "menu-item-object-page", "menu-item-has-children", "menu-item-619"]], template: function LoginHeaderComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "header", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "span", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "Toggle navigation");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "span", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "span", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "span", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "a", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "img", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "nav", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "a", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "Skip to content");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "ul", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "li", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "a", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, "Home");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "li", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "a", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21, "My Account");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "li", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "a", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24, "Admin");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](17);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](3, _c0));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](4, _c1));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](5, _c2));
    } }, directives: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterLinkWithHref"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLWhlYWRlci9sb2dpbi1oZWFkZXIuY29tcG9uZW50LmNzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginHeaderComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-login-header',
                templateUrl: './login-header.component.html',
                styleUrls: ['./login-header.component.css']
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "9G+S":
/*!*****************************************************!*\
  !*** ./src/app/shared/models/question-set-label.ts ***!
  \*****************************************************/
/*! exports provided: QuestionSetLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionSetLabel", function() { return QuestionSetLabel; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class QuestionSetLabel {
    constructor() {
        this.id = null;
        this.display_order = 0;
        this.label = "";
    }
    get id() {
        return this._id;
    }
    set id(id) {
        this._id = id;
    }
    get skipScoring() {
        return this._skipScoring;
    }
    set skipScoring(id) {
        this._skipScoring = id;
    }
    get display_order() {
        return this._display_order;
    }
    set display_order(order) {
        this._display_order = order;
    }
    get label() {
        return this._label;
    }
    set label(lbl) {
        this._label = lbl;
    }
}


/***/ }),

/***/ "9qJt":
/*!******************************************************************************!*\
  !*** ./src/app/shared/services/pagination-results-loader-factory.service.ts ***!
  \******************************************************************************/
/*! exports provided: PaginatedResultsLoaderFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaginatedResultsLoaderFactory", function() { return PaginatedResultsLoaderFactory; });
/* harmony import */ var _models_paginated_results_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/paginated-results-loader */ "nY/D");

class PaginatedResultsLoaderFactory {
    constructor() { }
    getResultsLoader(queryFunction) {
        let loader = new _models_paginated_results_loader__WEBPACK_IMPORTED_MODULE_0__["PaginatedResultsLoader"](queryFunction);
        return loader;
    }
}


/***/ }),

/***/ "A0yc":
/*!*********************************************************************************************!*\
  !*** ./src/app/reports/report-items/client-scale-results/client-scale-results.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: ClientScaleResultsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientScaleResultsComponent", function() { return ClientScaleResultsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/reports/report-items/therapist-scale-results/therapist-scale-results.component */ "YEXO");
/* harmony import */ var app_reports_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/reports/services/report-navigator.service */ "5IhB");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../assessment-charts/summary-scales-chart/summary-scales-chart.component */ "7gIF");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");
/* harmony import */ var _scale_sub_list_scale_sub_list_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../scale-sub-list/scale-sub-list.component */ "E8QE");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */









function ClientScaleResultsComponent_div_5_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "video", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", scaleResult_r1.range.mediaURL, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
const _c0 = function (a0) { return [a0]; };
function ClientScaleResultsComponent_div_5_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "app-summary-scales-chart", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("showNames", false)("scaleResults", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, scaleResult_r1))("showRangeScore", ctx_r5.ShowRangeScore)("reverseDirection", ctx_r5.shouldReverseScaleGraph(scaleResult_r1));
} }
function ClientScaleResultsComponent_div_5_div_9_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r11.getContent(scaleResult_r1), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function ClientScaleResultsComponent_div_5_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ClientScaleResultsComponent_div_5_div_9_div_1_Template, 2, 1, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r6.hasContent(scaleResult_r1));
} }
function ClientScaleResultsComponent_div_5_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-scale-questions-list", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("QuestionActions", ctx_r7.getActionByScale(scaleResult_r1.scale))("Questions", ctx_r7.getQuestionsForScaleResult(scaleResult_r1));
} }
function ClientScaleResultsComponent_div_5_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "dac-scale-sub-list", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("SubScales", ctx_r8.getSubScales(scaleResult_r1));
} }
const _c1 = function (a0, a1) { return { "force-page-break": a0, "mb-3": a1 }; };
function ClientScaleResultsComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ClientScaleResultsComponent_div_5_div_7_Template, 3, 1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, ClientScaleResultsComponent_div_5_div_8_Template, 3, 6, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, ClientScaleResultsComponent_div_5_div_9_Template, 2, 1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, ClientScaleResultsComponent_div_5_div_10_Template, 2, 2, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, ClientScaleResultsComponent_div_5_div_11_Template, 2, 1, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = ctx.$implicit;
    const index_r2 = ctx.index;
    const last_r3 = ctx.last;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx_r0.getScaleResultNavigatorId(scaleResult_r1))("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](10, _c1, ctx_r0.shouldPrintBreak(index_r2), !last_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate3"]("", scaleResult_r1.scale == null ? null : scaleResult_r1.scale.name, " (Scored ", scaleResult_r1.score, " / ", scaleResult_r1.scale.getMaxScore(), ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", scaleResult_r1.range == null ? null : scaleResult_r1.range.hasMedia());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.SkipGraph);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.SkipContent);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.shouldShowQuestionList(scaleResult_r1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.shouldShowSubScalesList(scaleResult_r1));
} }
class ClientScaleResultsComponent extends app_reports_report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_1__["TherapistScaleResultsComponent"] {
    constructor(navigator, el) {
        super(navigator, el);
    }
    ngOnInit() {
        super.ngOnInit();
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    ngOnDestroy() {
        super.ngOnDestroy();
    }
    hasContent(scaleResult) {
        if (scaleResult && scaleResult.range) {
            return scaleResult.range.clientContent || scaleResult.range.therapistContent;
        }
        return false;
    }
    getContent(scaleResult) {
        if (scaleResult && scaleResult.range) {
            if (scaleResult.range.clientContent) {
                return scaleResult.range.clientContent;
            }
            else {
                return scaleResult.range.therapistContent;
            }
        }
        return "";
    }
}
ClientScaleResultsComponent.ɵfac = function ClientScaleResultsComponent_Factory(t) { return new (t || ClientScaleResultsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_reports_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_2__["ReportNavigatorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
ClientScaleResultsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ClientScaleResultsComponent, selectors: [["dac-client-scale-results"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 6, vars: 2, consts: [[1, "card", "card-cascade", "d-print-block-visible"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], ["class", "report-print-page mb-3 row", 3, "id", "ngClass", 4, "ngFor", "ngForOf"], [1, "report-print-page", "mb-3", "row", 3, "id", "ngClass"], [1, "col"], [1, "card", "card-cascade"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "card-body", "pt-1", "pt-md-3"], ["class", "row justify-content-center", 4, "ngIf"], ["class", "row mb-0 mt-3", 4, "ngIf"], ["class", "row", 4, "ngIf"], [1, "row", "justify-content-center"], [1, "col-8", "ml-auto", "mr-auto"], ["controls", "", 1, "embed-responsive", 3, "src"], [1, "card", "card-body", "row", "pt-1", "pt-md-3", 3, "showNames", "scaleResults", "showRangeScore", "reverseDirection"], [1, "row", "mb-0", "mt-3"], ["class", "p-2", 4, "ngIf"], [1, "p-2"], [3, "innerHTML"], [1, "row"], [1, "col-12", "d-report-print-page", 3, "QuestionActions", "Questions"], [1, "col-12", "d-report-print-page", 3, "SubScales"]], template: function ClientScaleResultsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, ClientScaleResultsComponent_div_5_Template, 12, 13, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getTitle());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.ScaleResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_4__["SummaryScalesChartComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_5__["ScaleQuestionsListComponent"], _scale_sub_list_scale_sub_list_component__WEBPACK_IMPORTED_MODULE_6__["ScaleSubListComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtaXRlbXMvY2xpZW50LXNjYWxlLXJlc3VsdHMvY2xpZW50LXNjYWxlLXJlc3VsdHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHMvcmVwb3J0LWl0ZW1zL2NsaWVudC1zY2FsZS1yZXN1bHRzL2NsaWVudC1zY2FsZS1yZXN1bHRzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ClientScaleResultsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-client-scale-results',
                templateUrl: './client-scale-results.component.html',
                styleUrls: ['./client-scale-results.component.scss']
            }]
    }], function () { return [{ type: app_reports_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_2__["ReportNavigatorService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, null); })();


/***/ }),

/***/ "AU1M":
/*!**************************************************************!*\
  !*** ./src/app/reports/pcl-summary/pcl-summary.component.ts ***!
  \**************************************************************/
/*! exports provided: PclSummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PclSummaryComponent", function() { return PclSummaryComponent; });
/* harmony import */ var _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/report-navigator.service */ "5IhB");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/models/scale-result */ "+u/X");
/* harmony import */ var app_shared_models_assessment_result__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/models/assessment-result */ "TNk8");
/* harmony import */ var app_reports_services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/reports/services/pcl-grader.service */ "R9Rc");
/* harmony import */ var _assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../assessment-charts/summary-scales-chart/summary-scales-chart.component */ "7gIF");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _pcl_criteria_icon_pcl_criteria_icon_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../pcl-criteria-icon/pcl-criteria-icon.component */ "rl58");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */











function PclSummaryComponent_div_3_i_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "i", 9);
} }
function PclSummaryComponent_div_3_i_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "i", 10);
} }
const _c0 = function (a0) { return { "checked": a0 }; };
const _c1 = function (a0, a1) { return { "color-red": a0, "color-green": a1 }; };
function PclSummaryComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function PclSummaryComponent_div_3_Template_div_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r5); const criteria_r1 = ctx.$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r4.goToScaleResult(criteria_r1.scaleResult); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "pcl-criteria-icon", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "h4", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, PclSummaryComponent_div_3_i_4_Template, 1, 0, "i", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "h4", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](6, PclSummaryComponent_div_3_i_6_Template, 1, 0, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const criteria_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](7, _c0, criteria_r1.hasPTSD));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("criteria", criteria_r1.name)("checked", criteria_r1.hasPTSD);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](9, _c1, criteria_r1.hasPTSD, !criteria_r1.hasPTSD));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !criteria_r1.hasPTSD);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](12, _c1, criteria_r1.hasPTSD, !criteria_r1.hasPTSD));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", criteria_r1.hasPTSD);
} }
const _c2 = function (a0) { return [a0]; };
class PclSummaryComponent {
    constructor(navigator, pclGrader) {
        this.navigator = navigator;
        this.pclGrader = pclGrader;
        this._criteria = [];
    }
    ngOnInit() {
        if (this.assessmentResult) {
            this._criteria = this.pclGrader.getPCLCriteriaFromAssessmentResult(this.assessmentResult);
        }
    }
    get Criteria() {
        return this._criteria;
    }
    goToScaleResult(scaleResult) {
        if (this.navigator.hasNavigationItem(scaleResult.scale.id)) {
            this.navigator.navigate(scaleResult.scale.id);
        }
    }
}
PclSummaryComponent.ɵfac = function PclSummaryComponent_Factory(t) { return new (t || PclSummaryComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__["ReportNavigatorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](app_reports_services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_4__["PclGraderService"])); };
PclSummaryComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: PclSummaryComponent, selectors: [["app-pcl-summary"]], inputs: { summaryScaleResult: "summaryScaleResult", assessmentResult: "assessmentResult" }, decls: 4, vars: 5, consts: [[1, "row"], [1, "col", 3, "showNames", "scaleResults"], ["class", "col text-center criteriaContainer mt-1", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], [1, "col", "text-center", "criteriaContainer", "mt-1", 3, "ngClass", "click"], [3, "criteria", "checked"], [1, "text-center"], [1, "h4-responsive", "mb-0", 3, "ngClass"], ["class", "fa fa-check-circle", 4, "ngIf"], ["class", "fa fa-remove", 4, "ngIf"], [1, "fa", "fa-check-circle"], [1, "fa", "fa-remove"]], template: function PclSummaryComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "app-summary-scales-chart", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, PclSummaryComponent_div_3_Template, 7, 15, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("showNames", false)("scaleResults", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](3, _c2, ctx.summaryScaleResult));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.Criteria);
    } }, directives: [_assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_5__["SummaryScalesChartComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"], _pcl_criteria_icon_pcl_criteria_icon_component__WEBPACK_IMPORTED_MODULE_7__["PclCriteriaIconComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](PclSummaryComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'app-pcl-summary',
                templateUrl: './pcl-summary.component.html'
            }]
    }], function () { return [{ type: _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__["ReportNavigatorService"] }, { type: app_reports_services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_4__["PclGraderService"] }]; }, { summaryScaleResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], assessmentResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }] }); })();


/***/ }),

/***/ "AUW9":
/*!****************************************************!*\
  !*** ./src/app/shared/models/question-set-type.ts ***!
  \****************************************************/
/*! exports provided: QuestionSetType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionSetType", function() { return QuestionSetType; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
var QuestionSetType;
(function (QuestionSetType) {
    QuestionSetType["QUESTION_LIST"] = "QuestionList";
    QuestionSetType["MULTIPLE_CHOICE_GRID"] = "MultipleChoiceGrid";
    QuestionSetType["SINGLE_SELECT_DROPDOWN"] = "SingleSelectDropdown";
})(QuestionSetType || (QuestionSetType = {}));


/***/ }),

/***/ "Aus/":
/*!***********************************************!*\
  !*** ./src/app/shared/toast/toast.service.ts ***!
  \***********************************************/
/*! exports provided: ToastService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToastService", function() { return ToastService; });
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/cdk/overlay */ "rDax");
/* harmony import */ var _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/portal */ "+rOU");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _toast_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toast-config */ "U6Kg");
/* harmony import */ var _toast_ref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toast-ref */ "565i");
/* harmony import */ var _toast_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./toast.component */ "XMJk");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








// a lot of this was adapted from this medium post https://medium.com/angular-in-depth/creating-a-toast-service-with-angular-cdk-a0d35fd8cc12
class ToastService {
    constructor(overlay, parentInjector) {
        this.overlay = overlay;
        this.parentInjector = parentInjector;
        // don't need to deal with any injections here.
        this.toastConfig = _toast_config__WEBPACK_IMPORTED_MODULE_3__["defaultToastConfig"];
    }
    error(message, title, options) {
        return this.showToastForType('danger', message, title, options);
    }
    info(message, title, options) {
        return this.showToastForType('info', message, title, options);
    }
    success(message, title, options) {
        return this.showToastForType('success', message, title, options);
    }
    warning(message, title, options) {
        return this.showToastForType('warning', message, title, options);
    }
    showToast(data) {
        const positionStrategy = this.getPositionStrategy();
        const overlayRef = this.overlay.create({ positionStrategy });
        // const overlayRef = this.overlay.create();
        const toastRef = new _toast_ref__WEBPACK_IMPORTED_MODULE_4__["ToastRef"](overlayRef);
        this.lastToast = toastRef;
        const injector = this.getInjector(data, toastRef, this.parentInjector);
        const toastPortal = new _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_1__["ComponentPortal"](_toast_component__WEBPACK_IMPORTED_MODULE_5__["ToastComponent"], null, injector);
        overlayRef.attach(toastPortal);
        return toastRef;
    }
    getInjector(data, toastRef, parentInjector) {
        const tokens = new WeakMap();
        tokens.set(_toast_config__WEBPACK_IMPORTED_MODULE_3__["ToastData"], data);
        tokens.set(_toast_ref__WEBPACK_IMPORTED_MODULE_4__["ToastRef"], toastRef);
        return new _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_1__["PortalInjector"](parentInjector, tokens);
    }
    getPositionStrategy() {
        const lastToastIsVisible = this.lastToast && this.lastToast.isVisible();
        let strategy = this.overlay.position()
            .global()
            .right(this.toastConfig.position.right + 'px');
        if (lastToastIsVisible) {
            let position = this.lastToast.getPosition();
            return strategy.top((position.top - position.height) + 'px');
        }
        else {
            return strategy.bottom(this.toastConfig.position.bottom + 'px');
        }
    }
    showToastForType(type, message, title, options) {
        let toastData = {
            type: type,
            text: message,
            timeToDisplay: options ? options.timeToDisplay : undefined
        };
        return this.showToast(toastData);
    }
}
ToastService.ɵfac = function ToastService_Factory(t) { return new (t || ToastService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_0__["Overlay"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injector"])); };
ToastService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: ToastService, factory: ToastService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](ToastService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"],
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_0__["Overlay"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injector"] }]; }, null); })();


/***/ }),

/***/ "AytR":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
const environment = {
    production: false,
    applicationLogo: "assets/images/logo-discoverandchange.dark.png",
    applicationLogoTitle: "Discover and Change",
    applicationTitle: "Assessment Intake System",
    token: "TestRandomAPIKey",
    stripePublicKey: "pk_live_50TpAx8uK3zkIXK1SPsiSHTP",
    freeTrialPeriod: 30,
    stripeChargeName: "Demo Discover and Change",
    features: {
        // can you add a client.
        "client.add": true
        // can you add/edit see the list of assessments on the assessment admin page.
        ,
        "assessments.manage": true
        // does the navigation link to the assessments admin show up
        ,
        "admin.assessments.navigation": true
        // the link back to addo's home page.
        ,
        "addo.dashboard.admin": true
        // can batteries be added, displayed, managed, etc.
        ,
        "assessments.battery.manage": true
        // does the client edit assessment email template display
        ,
        "assessments.manage.emailtemplate": true,
        "wordpress.auth.check": false,
        "admin.shop": false,
        "admin.myaccount": false,
        "menu.contact": false,
        "menu.companies": false,
        "menu.system-overview": false,
        "menu.users": false,
        "assessments.tokens.enabled": false,
        "assessments.reports.manage": true,
        "assessments.reports.saveresult": false,
        "pdf.printing": false,
        "debug": false,
        "footer.large": false,
        "footer.copyright": true
    }
    // ,apiURL: "../api/v1/"
    ,
    apiURL: 'https://localhost:9300/apis/default/'
    // ,apiURL: "https://localhost:9300/interface/modules/custom_modules/oe-module-dc-assessments/public/api/v1/"
    // ,apiURL: "https://api-aws-test.discoverandchange.com/api/v1/"
    //,apiURL: "https://api.discoverandchange.test:8000/api/v1/"
    // ,apiURL: "https://assessment-api-beta.discoverandchange.com/api/v1/"
    ,
    supportEmail: "info@discoverandchange.com",
    supportPhone: "(385) 233-9626",
    skinClasses: ['dc-blue-skin'],
    navBarClass: 'navbar-light'
    // use the report header relative link as the base href will fix this.
    ,
    reportHeaderImgURL: "assets/images/report-header1.png",
    partners: [],
    disabledAssessments: [],
    copyrightURL: "https://www.discoverandchange.com/",
    copyrightTitle: "Discover and Change, Inc",
    awsCognitoConfig: {
        enabled: false,
        awsCognitoRegion: 'us-east-1',
        userPool: {
            userPoolsId: "us-east-1_wZbWCIog6",
            webClientId: "137s98m2bl96pf4ibbha49qsd4"
        }
    },
    smartConfig: {
        client_id: 'PJBgflXxxoFRX13gAndq7l5QC-724-s6I8SMCUE6eDo',
        scopes: 'launch user/Patient.read user/Task.read user/Questionnaire.read user/QuestionnaireResponse.read user/QuestionnaireResponse.write api:port api:oemr openid profile offline_access patient/patient.read user/reports.read patient/clients.read user/clients.read user/assignment-groups.write user/assignments.write user/assignments.write user/assessment-groups.read patient/assessment-groups.read user/assessment-groups.write user/assessments.write user/assessment-groups.write user/assessment-reports.read user/assessment-reports.write user/assessment-reports.read user/assessment-reports.write user/assessment-results.read user/assessment-results.write patient/assessment-results.write user/tags.read patient/tags.read user/message-templates.read user/assessment-users.read user/assessment-users.read user/library-assets.read user/library-assets.read patient/library-assets.read user/library-assets.write user/library-asset-results.write patient/library-asset-results.write user/library-asset-results.read user/assessments.read patient/assessments.read user/assessments.write patient/assessments.write user/assessments.read patient/assessments.read user/assessments.write user/announcements.read user/messages.write fhirUser',
        clientScopes: 'fhirUser api:port api:oemr openid launch patient/Patient.read patient/Task.read patient/Task.write patient/Questionnaire.read patient/QuestionnaireResponse.read patient/QuestionnaireResponse.write',
        fhirUrl: 'https://localhost:9300/apis/default/fhir',
        redirectUrl: 'http://localhost:4200/',
        smartStyleUrl: 'https://localhost:9300/oauth2/default/smart/smart-style'
    }
};


/***/ }),

/***/ "BLWB":
/*!***************************************!*\
  !*** ./src/app/theme/theme.module.ts ***!
  \***************************************/
/*! exports provided: ThemeModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeModule", function() { return ThemeModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _login_login_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../login/login.module */ "X3zk");
/* harmony import */ var _login_page_login_page_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./login-page/login-page.component */ "eCmV");
/* harmony import */ var _admin_login_page_admin_login_page_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./admin-login-page/admin-login-page.component */ "iWIr");
/* harmony import */ var _theme_routing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-routing.module */ "Cj8Q");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shared/shared.module */ "PCNd");
/* harmony import */ var _page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./page-not-found/page-not-found.component */ "wXBi");
/* harmony import */ var _sso_page_sso_page_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sso-page/sso-page.component */ "Tomc");
/* harmony import */ var _footer_footer_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./footer/footer.component */ "NYhC");
/* harmony import */ var _site_container_site_container_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./site-container/site-container.component */ "kp5b");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/sidenav */ "XhcP");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/expansion */ "7EHt");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/list */ "MutI");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/toolbar */ "/t3+");
/* harmony import */ var _admin_login_finalize_page_admin_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./admin-login-finalize-page/admin-login-finalize-page.component */ "e30I");
/* harmony import */ var _login_finalize_page_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./login-finalize-page/login-finalize-page.component */ "opvK");
/* harmony import */ var _standalone_container_standalone_container_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./standalone-container/standalone-container.component */ "5Pnx");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



















class ThemeModule {
}
ThemeModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ThemeModule });
ThemeModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ThemeModule_Factory(t) { return new (t || ThemeModule)(); }, providers: [], imports: [[
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]
            // ,SidenavModule
            // ,NavbarModule
            // ,AccordionModule
            // ,MDBBootstrapModulesPro
            ,
            _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__["MatToolbarModule"],
            _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_11__["MatSidenavModule"],
            _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__["MatExpansionModule"],
            _angular_material_list__WEBPACK_IMPORTED_MODULE_13__["MatListModule"],
            _login_login_module__WEBPACK_IMPORTED_MODULE_2__["LoginModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"],
            _theme_routing_module__WEBPACK_IMPORTED_MODULE_5__["ThemeRoutingModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ThemeModule, { declarations: [_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_7__["PageNotFoundComponent"], _login_page_login_page_component__WEBPACK_IMPORTED_MODULE_3__["LoginPageComponent"], _login_finalize_page_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_16__["LoginFinalizePageComponent"],
        _admin_login_page_admin_login_page_component__WEBPACK_IMPORTED_MODULE_4__["AdminLoginPageComponent"], _admin_login_finalize_page_admin_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_15__["AdminLoginFinalizePageComponent"], _sso_page_sso_page_component__WEBPACK_IMPORTED_MODULE_8__["SsoPageComponent"],
        _footer_footer_component__WEBPACK_IMPORTED_MODULE_9__["FooterComponent"], _site_container_site_container_component__WEBPACK_IMPORTED_MODULE_10__["SiteContainerComponent"], _standalone_container_standalone_container_component__WEBPACK_IMPORTED_MODULE_17__["StandaloneContainerComponent"]], imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]
        // ,SidenavModule
        // ,NavbarModule
        // ,AccordionModule
        // ,MDBBootstrapModulesPro
        ,
        _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__["MatToolbarModule"],
        _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_11__["MatSidenavModule"],
        _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__["MatExpansionModule"],
        _angular_material_list__WEBPACK_IMPORTED_MODULE_13__["MatListModule"],
        _login_login_module__WEBPACK_IMPORTED_MODULE_2__["LoginModule"],
        _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"],
        _theme_routing_module__WEBPACK_IMPORTED_MODULE_5__["ThemeRoutingModule"]], exports: [_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_7__["PageNotFoundComponent"], _footer_footer_component__WEBPACK_IMPORTED_MODULE_9__["FooterComponent"], _site_container_site_container_component__WEBPACK_IMPORTED_MODULE_10__["SiteContainerComponent"], _standalone_container_standalone_container_component__WEBPACK_IMPORTED_MODULE_17__["StandaloneContainerComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ThemeModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]
                    // ,SidenavModule
                    // ,NavbarModule
                    // ,AccordionModule
                    // ,MDBBootstrapModulesPro
                    ,
                    _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_14__["MatToolbarModule"],
                    _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_11__["MatSidenavModule"],
                    _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__["MatExpansionModule"],
                    _angular_material_list__WEBPACK_IMPORTED_MODULE_13__["MatListModule"],
                    _login_login_module__WEBPACK_IMPORTED_MODULE_2__["LoginModule"],
                    _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"],
                    _theme_routing_module__WEBPACK_IMPORTED_MODULE_5__["ThemeRoutingModule"]
                ],
                declarations: [_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_7__["PageNotFoundComponent"], _login_page_login_page_component__WEBPACK_IMPORTED_MODULE_3__["LoginPageComponent"], _login_finalize_page_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_16__["LoginFinalizePageComponent"],
                    _admin_login_page_admin_login_page_component__WEBPACK_IMPORTED_MODULE_4__["AdminLoginPageComponent"], _admin_login_finalize_page_admin_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_15__["AdminLoginFinalizePageComponent"], _sso_page_sso_page_component__WEBPACK_IMPORTED_MODULE_8__["SsoPageComponent"],
                    _footer_footer_component__WEBPACK_IMPORTED_MODULE_9__["FooterComponent"], _site_container_site_container_component__WEBPACK_IMPORTED_MODULE_10__["SiteContainerComponent"], _standalone_container_standalone_container_component__WEBPACK_IMPORTED_MODULE_17__["StandaloneContainerComponent"]
                ],
                exports: [_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_7__["PageNotFoundComponent"], _footer_footer_component__WEBPACK_IMPORTED_MODULE_9__["FooterComponent"], _site_container_site_container_component__WEBPACK_IMPORTED_MODULE_10__["SiteContainerComponent"], _standalone_container_standalone_container_component__WEBPACK_IMPORTED_MODULE_17__["StandaloneContainerComponent"]],
                schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NO_ERRORS_SCHEMA"]],
                providers: []
            }]
    }], null, null); })();


/***/ }),

/***/ "BP+R":
/*!*************************************************************!*\
  !*** ./src/app/shared/services/fhir-smart-style.service.ts ***!
  \*************************************************************/
/*! exports provided: FhirSmartStyleService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FhirSmartStyleService", function() { return FhirSmartStyleService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _dac_config_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dac-config.service */ "OApS");





/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class FhirSmartStyleService {
    constructor(dacConfig) {
        this.dacConfig = dacConfig;
    }
    loadSmartStyles() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.dacConfig.smartConfigStyleUrl) {
                try {
                    let response = yield fetch(this.dacConfig.smartConfigStyleUrl);
                    let jsonStyles = yield response.json();
                    if (jsonStyles) {
                        this.smartStyles = jsonStyles;
                        this.dacConfig.applicationLogoUrl = jsonStyles.logo_primary;
                        this.dacConfig.smartStyles = jsonStyles;
                    }
                }
                catch (error) {
                    console.error(error);
                }
            }
        });
    }
}
FhirSmartStyleService.ɵfac = function FhirSmartStyleService_Factory(t) { return new (t || FhirSmartStyleService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_dac_config_service__WEBPACK_IMPORTED_MODULE_2__["DacConfig"])); };
FhirSmartStyleService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: FhirSmartStyleService, factory: FhirSmartStyleService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FhirSmartStyleService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _dac_config_service__WEBPACK_IMPORTED_MODULE_2__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "BiiJ":
/*!********************************************************!*\
  !*** ./src/app/login/services/amplify-auth-service.ts ***!
  \********************************************************/
/*! exports provided: AmplifyAuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AmplifyAuthService", function() { return AmplifyAuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @aws-amplify/auth */ "AO/9");
/* harmony import */ var _models_AuthState__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/AuthState */ "3Xg2");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





class AmplifyAuthService {
    constructor() {
        this.INITIAL_STATE = _models_AuthState__WEBPACK_IMPORTED_MODULE_4__["AuthState"].SIGN_IN;
        this._stateChange = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"]({
            state: this.INITIAL_STATE,
            user: null
        });
    }
    setAuthState(change) {
        this.currentState = change.state;
        this.currentUser = change.user;
        this._stateChange.next({ state: this.currentState, user: this.currentUser });
    }
    /**
     * Resets the auth state back to the initial state of the service.
     */
    resetAuthState() {
        this.setAuthState({ state: this.INITIAL_STATE, user: null });
    }
    authStateChange$() {
        return this._stateChange;
    }
    resendSignUp(email) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].resendSignUp(email);
        });
    }
    signUp(user) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].signUp(user);
        });
    }
    confirmSignUp(email, code) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].confirmSignUp(email, code);
        });
    }
    confirmSignIn(user, mfaCode, mfaType) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // we only support SMS_MFA for now
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].confirmSignIn(user, mfaCode, mfaType);
        });
    }
    forgotPassword(username) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].forgotPassword(username);
        });
    }
    forgotPasswordSubmit(username, forgotPasswordCode, newPassword) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].forgotPasswordSubmit(username, forgotPasswordCode, newPassword);
        });
    }
    completeNewPassword(user, newPassword, requiredAttributes) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].completeNewPassword(user, newPassword, requiredAttributes);
        });
    }
    signIn(username, password) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].signIn(username, password);
        });
    }
    signOut(settings) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let result = yield _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__["Auth"].signOut(settings);
            this.setAuthState({ state: this.INITIAL_STATE });
            return result;
        });
    }
}
AmplifyAuthService.ɵfac = function AmplifyAuthService_Factory(t) { return new (t || AmplifyAuthService)(); };
AmplifyAuthService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AmplifyAuthService, factory: AmplifyAuthService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AmplifyAuthService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "CLK7":
/*!******************************************************!*\
  !*** ./src/app/shared/models/subscription-status.ts ***!
  \******************************************************/
/*! exports provided: SubscriptionStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriptionStatus", function() { return SubscriptionStatus; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
var SubscriptionStatus;
(function (SubscriptionStatus) {
    SubscriptionStatus["ACTIVE"] = "active";
    SubscriptionStatus["PAST_DUE"] = "past_due";
    SubscriptionStatus["UNPAID"] = "unpaid";
    SubscriptionStatus["CANCELED"] = "canceled";
    SubscriptionStatus["CANCEL_PROCESSING"] = "cancel-processing";
    SubscriptionStatus["TERMINATED"] = "terminated";
    SubscriptionStatus["TRIAL"] = "trialing";
    SubscriptionStatus["TRIAL_PERIOD_ENDED"] = "trial-ended";
})(SubscriptionStatus || (SubscriptionStatus = {}));
;


/***/ }),

/***/ "Cj8Q":
/*!***********************************************!*\
  !*** ./src/app/theme/theme-routing.module.ts ***!
  \***********************************************/
/*! exports provided: ThemeRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeRoutingModule", function() { return ThemeRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





const routes = [
// { path: 'login', component: LoginPageComponent },
// { path: 'loginFinalize', component: LoginFinalizePageComponent },
// { path: 'loginAdmin', component: AdminLoginPageComponent },
// { path: 'loginAdminFinalize', component: AdminLoginFinalizePageComponent },
// { path: 'sso', component: SsoPageComponent },
// { path: 'logout', redirectTo: '/', pathMatch: 'full' },
];
class ThemeRoutingModule {
}
ThemeRoutingModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ThemeRoutingModule });
ThemeRoutingModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ThemeRoutingModule_Factory(t) { return new (t || ThemeRoutingModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)
        ], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ThemeRoutingModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ThemeRoutingModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)
                ],
                exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
                declarations: []
            }]
    }], null, null); })();


/***/ }),

/***/ "Cmua":
/*!**************************************************!*\
  !*** ./src/app/shared/services/alert.service.ts ***!
  \**************************************************/
/*! exports provided: AlertService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertService", function() { return AlertService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _toast_toast_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../toast/toast-config */ "U6Kg");
/* harmony import */ var _toast_toast_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../toast/toast.service */ "Aus/");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





class AlertService {
    constructor(toastService) {
        this.toastService = toastService;
        this.toasts = [];
    }
    error(message, timeToDisplay) {
        let title = '';
        this.closeAllToasts();
        let toast = this.toastService.error(message, title, this.getToastConfig(timeToDisplay));
        return this.addToastToList(toast);
    }
    info(message, timeToDisplay) {
        let title = '';
        this.closeAllToasts();
        let toast = this.toastService.info(message, title, this.getToastConfig(timeToDisplay));
        return this.addToastToList(toast);
    }
    clearAlert(alertId) {
        if (this.toasts[alertId]) {
            if (this.toasts[alertId].isVisible()) {
                this.toasts[alertId].close();
            }
            // clear out if the toasts are not clear
            this.toasts[alertId] = null;
        }
        this.clearToasts(); // clear out any toasts that no longer are visible.
    }
    success(message, timeToDisplay) {
        let title = '';
        this.closeAllToasts();
        let toast = this.toastService.success(message, title, this.getToastConfig(timeToDisplay));
        return this.addToastToList(toast);
    }
    getAlertCount() {
        return this.toasts.filter(t => t !== null).length;
    }
    closeAllToasts() {
        this.toasts.forEach((t, index) => {
            if (t) {
                this.toasts[index].close();
                this.toasts[index] = null; // clear up the toasts memory
            }
        });
        this.toasts = [];
    }
    getToastConfig(timeToDisplay) {
        // copy over the properties
        let options = Object.assign({}, _toast_toast_config__WEBPACK_IMPORTED_MODULE_1__["defaultToastConfig"]);
        options.animation = Object.assign({}, _toast_toast_config__WEBPACK_IMPORTED_MODULE_1__["defaultToastConfig"].animation);
        options.position = Object.assign({}, _toast_toast_config__WEBPACK_IMPORTED_MODULE_1__["defaultToastConfig"].position);
        // options.positionClass = 'toast-bottom-right';
        if (timeToDisplay) {
            options.timeToDisplay = timeToDisplay;
        }
        return options;
    }
    addToastToList(toast) {
        // if we have no active alerts we will reset our list so we can start
        // from zero here and conserve memory
        if (this.getAlertCount() <= 0) {
            this.toasts = [];
        }
        this.toasts.push(toast);
        this.clearToasts();
        return this.toasts.length - 1; // get our index id
    }
    clearToasts() {
        this.toasts.forEach((t, index) => {
            if (t && !t.isVisible) {
                this.toasts[index] = null; // clear up the toasts memory
            }
        });
    }
}
AlertService.ɵfac = function AlertService_Factory(t) { return new (t || AlertService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_toast_toast_service__WEBPACK_IMPORTED_MODULE_2__["ToastService"])); };
AlertService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AlertService, factory: AlertService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AlertService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: _toast_toast_service__WEBPACK_IMPORTED_MODULE_2__["ToastService"] }]; }, null); })();


/***/ }),

/***/ "Cy3R":
/*!**********************************************************!*\
  !*** ./src/app/library-assets/services/asset.service.ts ***!
  \**********************************************************/
/*! exports provided: AssetService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetService", function() { return AssetService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/http.service */ "Tdnt");
/* harmony import */ var _models_library_asset__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/library-asset */ "0B44");
/* harmony import */ var _models_library_asset_result__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/library-asset-result */ "UIUU");
/* harmony import */ var app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/services/fhir-service */ "y+jN");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */










class AssetService {
    constructor(_dac$http, fhirService, dacConfig) {
        this._dac$http = _dac$http;
        this.fhirService = fhirService;
        this.dacConfig = dacConfig;
        this.EXTENSION_NAME = 'openemr-dac-library-asset';
    }
    getAsset(assetUuid) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            return client.request("Questionnaire?_id=" + assetUuid + "&questionnaire-code=" + this.EXTENSION_NAME, { flat: true })
                .then((json) => {
                let item = Array.isArray(json) && json.length ? json[0] : {};
                return this.hydrateLibraryAssetFromQuestionnaireItem(item);
            });
        });
    }
    hydrateLibraryAssetFromQuestionnaireItem(item) {
        if (item.extension && Array.isArray(item.extension) && item.extension.length) {
            let extension = item.extension.find(e => e.url == "https://www.discoverandchange.com/fhir/" + this.EXTENSION_NAME);
            if (extension && extension.valueString) {
                let result = JSON.parse(extension.valueString);
                let asset = new _models_library_asset__WEBPACK_IMPORTED_MODULE_3__["LibraryAsset"]();
                Object.assign(asset, result);
                return asset;
            }
        }
        throw new Error("Failed to find " + this.EXTENSION_NAME + " extension");
    }
    saveAsset(asset) {
        return this._dac$http.post("library-assets", asset).then(result => {
            let savedResult = new _models_library_asset__WEBPACK_IMPORTED_MODULE_3__["LibraryAsset"]();
            Object.assign(savedResult, result);
            return result;
        });
    }
    getAssetResult(resultId) {
        return this._dac$http.get("library-asset-results/" + resultId).then(jsonResult => {
            let serverResult = new _models_library_asset_result__WEBPACK_IMPORTED_MODULE_4__["LibraryAssetResult"]();
            let serverAsset = new _models_library_asset__WEBPACK_IMPORTED_MODULE_3__["LibraryAsset"]();
            Object.assign(serverResult, jsonResult);
            if (jsonResult.asset) {
                Object.assign(serverAsset, jsonResult.asset);
                serverResult.asset = serverAsset;
            }
            return serverResult;
        });
    }
    saveAssetResult(result) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // let's limit the info that is sent up
            let client = yield this.fhirService.getFhirClient();
            let currentUser = yield this.fhirService.getFhirUser();
            let resultToSave = Object.assign(new _models_library_asset_result__WEBPACK_IMPORTED_MODULE_4__["LibraryAssetResult"](), result);
            let asset = new _models_library_asset__WEBPACK_IMPORTED_MODULE_3__["LibraryAsset"]();
            asset.id = result.asset.id;
            resultToSave.asset = asset;
            // TODO: @adunsulag need the canonical url for this resource
            let questionnaireResponse = {
                resourceType: 'QuestionnaireResponse',
                questionnaire: '/Questionnaire/' + result.asset.uuid,
                status: 'completed',
                author: {
                    reference: currentUser
                },
                source: {
                    reference: currentUser
                },
                item: result.answers.map(a => { return { linkId: a.id, answer: { valueString: a.answer } }; }),
                extension: [
                    {
                        url: "https://www.discoverandchange.com/fhir/" + this.EXTENSION_NAME + "-response",
                        valueString: JSON.stringify(resultToSave)
                    }
                ]
            };
            return client.create(questionnaireResponse, {})
                .then(createdResource => {
                resultToSave.id = createdResource.id;
                return resultToSave;
            });
        });
    }
    getAssets() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this._assets) {
                return Promise.resolve(this._assets);
            }
            let client = yield this.fhirService.getFhirClient();
            return client.request("Questionnaire?questionnaire-code=" + this.EXTENSION_NAME, { flat: true })
                .then(result => {
                let items = Array.isArray(result) && result.length ? result : [];
                return items.map(i => {
                    return this.hydrateLibraryAssetFromQuestionnaireItem(i);
                });
            });
        });
    }
    searchAssets(searchString, selectedTag, assetType) {
        return this.getAssets().then(assets => {
            assets = assets || [];
            if (assetType && assetType != 'All') {
                assets = assets.filter(a => a.type == assetType);
            }
            if (selectedTag && selectedTag != 'All') {
                assets = assets.filter(a => a.hasTag(selectedTag));
            }
            if (searchString && searchString.trim() != "") {
                assets = assets.filter(a => a.titleContainsString(searchString.trim()));
            }
            return assets;
        });
    }
    getTags() {
        if (this._tags) {
            return Promise.resolve(this._tags);
        }
        return this._dac$http.get("tags").then(results => {
            this._tags = results;
            return results;
        });
    }
    getAssetsByType(type) {
        return this.getAssets().then(assets => {
            return assets.filter(a => a.type == type);
        });
    }
}
AssetService.ɵfac = function AssetService_Factory(t) { return new (t || AssetService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_5__["FhirService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_6__["DacConfig"])); };
AssetService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AssetService, factory: AssetService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AssetService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"] }, { type: app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_5__["FhirService"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_6__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "D8FE":
/*!**************************************************************!*\
  !*** ./src/app/reports/models/base-report-item-component.ts ***!
  \**************************************************************/
/*! exports provided: BaseReportItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseReportItemComponent", function() { return BaseReportItemComponent; });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");



class BaseReportItemComponent {
    constructor() {
        this._loadSubject = new rxjs__WEBPACK_IMPORTED_MODULE_0__["BehaviorSubject"](false);
    }
    notifyItemLoad() {
        this._loadSubject.next(true);
        this._loadSubject.complete();
    }
    notifyItemLoadFailed() {
        this._loadSubject.next(false);
        this._loadSubject.complete();
    }
    ngAfterViewInit() {
        // console.log("ngAfterViewInit called with ", this);
        this.notifyItemLoad();
    }
    itemLoaded() {
        return this._loadSubject.asObservable();
    }
    getHTMLClassNames() {
        return [];
    }
}
BaseReportItemComponent.ɵfac = function BaseReportItemComponent_Factory(t) { return new (t || BaseReportItemComponent)(); };
BaseReportItemComponent.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({ type: BaseReportItemComponent });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](BaseReportItemComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "Dhxs":
/*!**********************************************************!*\
  !*** ./src/app/shared/services/questionnaire.service.ts ***!
  \**********************************************************/
/*! exports provided: QuestionnaireService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionnaireService", function() { return QuestionnaireService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _fhir_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fhir-service */ "y+jN");
/* harmony import */ var _models_assessment_result__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/assessment-result */ "TNk8");
/* harmony import */ var _models_assessment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/assessment */ "WWiz");
/* harmony import */ var _models_assessment_result_answer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/assessment-result-answer */ "PHxZ");
/* harmony import */ var _models_question_set__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/question-set */ "6xcY");
/* harmony import */ var _models_textbox_question__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../models/textbox-question */ "UT0e");










class QuestionnaireService {
    constructor(fhirService) {
        this.fhirService = fhirService;
        this.questionnairesByUrl = {};
        this.debug = true;
        this.questionnairesByUrl = {};
    }
    getQuestionnaires() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            let url = "Questionnaire";
            if (this.debug) {
                url += "?XDEBUG_SESSION=PHPSTORM";
            }
            return client.request(url, { flat: true })
                .then(qs => {
                qs.map(q => this.questionnairesByUrl[q.url] = q);
                return qs;
            });
        });
    }
    getQuestionnaireForUrl(url) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.questionnairesByUrl[url]) {
                return Promise.resolve(this.questionnairesByUrl[url]);
            }
            let client = yield this.fhirService.getFhirClient();
            let questionnaire = yield client.request(url);
            if (questionnaire) {
                this.questionnairesByUrl[url] = questionnaire;
            }
            return questionnaire;
        });
    }
    getQuestionnaire(id) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            let url = "Questionnaire/" + id;
            if (this.debug) {
                url += "?XDEBUG_SESSION=PHPSTORM";
            }
            let questionnaire = yield client.request(url);
            // we want to cache this in case we are fetching it again... we have no way of knowing
            // beforehand that the unique id matches a unique url we have already cached which is
            // why we don't check the cache beforehand.
            if (questionnaire) {
                this.questionnairesByUrl[questionnaire.url] = questionnaire;
            }
            return questionnaire;
        });
    }
    saveResponse(questionnaireResponse) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            let url = "QuestionnaireResponse";
            if (this.debug) {
                url += "?XDEBUG_SESSION=PHPSTORM";
            }
            /** @ts-ignore */
            return client.create(questionnaireResponse, {});
        });
    }
    getQuestionnairesByTitle(titles) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let questionnaireTitles = Object.values(this.questionnairesByUrl).map((q) => q.title)
                .reduce((a, b) => { a[b] = b; return a; }, {});
            let questionnairesToFetch = titles.filter(n => questionnaireTitles[n] === undefined);
            let client = yield this.fhirService.getFhirClient();
            let url = "Questionnaire?title=" + questionnairesToFetch.map(n => encodeURIComponent(n)).join(",");
            if (this.debug) {
                url += "&XDEBUG_SESSION=PHPSTORM";
            }
            /** @ts-ignore */
            return client.request(url, { flat: true })
                .then(qs => {
                qs.map(q => this.questionnairesByUrl[q.url] = q);
                return qs;
            });
        });
    }
    getPreviousQuestionnaireResponsesAsAssessmentResults(patientId, questionnaireIds, maxDate, limit = 0) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            limit = Math.max(limit, 0); // 0 is unlimited
            // date
            //       + (maxDate.getFullYear() + "-" + maxDate.getMonth().toFixed(2) + "-" + maxDate.getDate().toFixed(2)
            let url = "QuestionnaireResponse?questionnaire=" + questionnaireIds.join(",") + "&authored=lt" + maxDate.toISOString()
                + "&patient=" + patientId;
            if (this.debug) {
                url += "&XDEBUG_SESSION=PHPSTORM";
            }
            let responses = yield client.request(url, { flat: true });
            if (responses && Array.isArray(responses)) {
                if (limit > 0 && responses.length > limit) {
                    responses = responses.slice(0, limit);
                }
                return yield Promise.all(responses.map(r => this.convertResponseToAssessmentResult(r)));
            }
            return [];
        });
    }
    getQuestionnaireResponseAsAssessmentResult(responseId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let response = yield this.getQuestionnaireResponse(responseId);
            return this.convertResponseToAssessmentResult(response);
        });
    }
    convertResponseToAssessmentResult(response) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let result = new _models_assessment_result__WEBPACK_IMPORTED_MODULE_3__["AssessmentResult"]();
            if (response.questionnaire) {
                let questionnaire = yield this.getQuestionnaireForUrl(response.questionnaire);
                if (!questionnaire) {
                    console.error("Failed to find questionnaire for response with url ", response.questionnaire);
                }
                else {
                    result.assessment = this.convertQuestionnaireToBasicAssessment(questionnaire);
                }
            }
            if (response.authored) {
                result.dateCompleted = new Date(response.authored);
            }
            let answers = [];
            this.addAnswersToArray(response.item, answers, 0);
            result.answers = answers;
            let questions = result.assessment.getQuestionsListById();
            answers.forEach(a => questions[a.question_id].setSavedAnswer(a.answer, []));
            return result;
        });
    }
    convertQuestionnaireToBasicAssessment(questionnaire) {
        let assessment = new _models_assessment__WEBPACK_IMPORTED_MODULE_4__["Assessment"]();
        assessment.id = questionnaire.id;
        assessment.uid = questionnaire.title || "";
        assessment.name = questionnaire.title || "";
        assessment['questionnaire'] = questionnaire;
        let rootGroup = new _models_question_set__WEBPACK_IMPORTED_MODULE_6__["QuestionSet"]();
        if (questionnaire.item) {
            if (questionnaire.item && Array.isArray(questionnaire.item)) {
                questionnaire.item.map(i => this.hydrateQuestions(assessment, rootGroup, i));
            }
        }
        // either everything is in a sub-group or there are no questions so skip it.
        if (rootGroup.questions.length > 0) {
            assessment.addQuestionSet(rootGroup);
        }
        return assessment;
    }
    hydrateQuestions(assessment, currentGroup, questionItem) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (questionItem.type == 'group') {
                let newGroup = new _models_question_set__WEBPACK_IMPORTED_MODULE_6__["QuestionSet"]();
                newGroup.instructions = currentGroup.title;
                if (questionItem.item && Array.isArray(questionItem.item)) {
                    questionItem.item.map(i => this.hydrateQuestions(assessment, newGroup, i));
                }
                assessment.addQuestionSet(newGroup);
            }
            else {
                let question = new _models_textbox_question__WEBPACK_IMPORTED_MODULE_7__["TextboxQuestion"]();
                question.prompt = questionItem.text;
                question.id = questionItem.linkId;
                currentGroup.addQuestion(question);
            }
        });
    }
    getQuestionnaireResponse(responseId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            let url = "QuestionnaireResponse/" + responseId + "?";
            if (this.debug) {
                url += "XDEBUG_SESSION=PHPSTORM&";
            }
            return yield client.request(url);
        });
    }
    getQuestionnaireResponsesAsAssessmentResults(qrItems) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            let url = "QuestionnaireResponse?";
            if (this.debug) {
                url += "XDEBUG_SESSION=PHPSTORM&";
            }
            // TODO: @adunsulag at some point we'd like to get back to having typesafety here.
            // hashmap the ids with the items
            let map = {};
            qrItems.forEach(qr => {
                if (qr.Type == "ExternalQuestionnaire" || qr.Type == "Questionnaire") {
                    map[qr.ResultId] = qr;
                }
            });
            let qrIds = Object.keys(map);
            if (!qrIds.length) {
                return Promise.resolve([]); // nothing to return here as we have no valid items to return results for.
            }
            url += "_id=" + qrIds.join(",");
            let responses = yield client.request(url);
            // only return responses we actually have a questionnaire id to
            return responses.filter(r => map[r.id] && map[r.id].QuestionnaireId)
                .map(r => this.convertResponseToAssessmentResultForQuestionnaire(r, map[r.id]));
        });
    }
    convertResponseToAssessmentResultForQuestionnaire(r, item) {
        let result = new _models_assessment_result__WEBPACK_IMPORTED_MODULE_3__["AssessmentResult"]();
        result.assessment = new _models_assessment__WEBPACK_IMPORTED_MODULE_4__["Assessment"]();
        result.assessment.id = item.QuestionnaireId;
        result.assessment.name = item.Name;
        let answers = [];
        this.addAnswersToArray(r.item, answers, 0);
        result.answers = answers;
        return result;
    }
    addAnswersToArray(items, answers, depthCount) {
        if (depthCount > 50) {
            throw new Error("Maximum recursion depth reached.  Likely inifinite loop");
        }
        if (items && items.length) {
            items.forEach(i => {
                // if there is no answer... either they left it blank or its a grouping question.
                if (i.answer) {
                    let answer = new _models_assessment_result_answer__WEBPACK_IMPORTED_MODULE_5__["AssessmentResultAnswer"]();
                    answer.question_id = i.linkId;
                    let answerValues = [];
                    i.answer.forEach(a => {
                        if (a.valueCoding) {
                            answerValues.push(a.valueCoding.display);
                        }
                        else if (a.hasOwnProperty('valueDecimal')) {
                            answerValues.push(a.valueDecimal || 0); // if we don't have a value we are going to set it as 0.
                        }
                        else {
                            let properties = Object.getOwnPropertyNames(a);
                            properties.forEach(p => answerValues.push(a[p]));
                        }
                    });
                    if (answerValues.length == 1) {
                        answer.answer = answerValues[0];
                    }
                    else {
                        answer.answer = answerValues;
                    }
                    answers.push(answer);
                }
                if (i.item) { // this is plural even though the naming suggests a single.
                    this.addAnswersToArray(i.item, answers, depthCount + 1);
                }
            });
        }
    }
}
QuestionnaireService.ɵfac = function QuestionnaireService_Factory(t) { return new (t || QuestionnaireService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"])); };
QuestionnaireService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: QuestionnaireService, factory: QuestionnaireService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](QuestionnaireService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"] }]; }, null); })();


/***/ }),

/***/ "E27K":
/*!**************************************************!*\
  !*** ./src/app/reports/models/print-settings.ts ***!
  \**************************************************/
/*! exports provided: PrintSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrintSettings", function() { return PrintSettings; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class PrintSettings {
    constructor() {
        this.showTherapistNotes = false;
    }
    get showTherapistNotes() {
        return this._showTherapistNotes;
    }
    set showTherapistNotes(value) {
        this._showTherapistNotes = value;
    }
}


/***/ }),

/***/ "E8QE":
/*!********************************************************************!*\
  !*** ./src/app/reports/scale-sub-list/scale-sub-list.component.ts ***!
  \********************************************************************/
/*! exports provided: ScaleSubListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleSubListComponent", function() { return ScaleSubListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/copy-clipboard.service */ "V0KM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





function ScaleSubListComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", scaleResult_r1.scale.name, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", scaleResult_r1.scale.descriptionClient, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", scaleResult_r1.score, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", scaleResult_r1.range.name, " ");
} }
class ScaleSubListComponent {
    constructor(copyClipboardService) {
        this.copyClipboardService = copyClipboardService;
        this.SubScales = [];
    }
    ngOnInit() {
    }
    copyTable() {
        let copyTable = [];
        copyTable.push(["Sub Scale", "Description", "Raw Score", "Range"]);
        if (this.SubScales.length) {
            this.SubScales.forEach(sr => {
                let row = [];
                row.push(sr.scale.name ? '"' + sr.scale.name + '"' : '');
                row.push(sr.scale.descriptionClient ? '"' + sr.scale.descriptionClient + '"' : '');
                row.push(sr.score);
                row.push(sr.range.name ? '"' + sr.range.name + '"' : '');
                copyTable.push(row);
            });
        }
        this.copyClipboardService.copyTableToText(copyTable);
    }
}
ScaleSubListComponent.ɵfac = function ScaleSubListComponent_Factory(t) { return new (t || ScaleSubListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_1__["CopyClipboardService"])); };
ScaleSubListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleSubListComponent, selectors: [["dac-scale-sub-list"]], inputs: { SubScales: "SubScales" }, decls: 12, vars: 1, consts: [[1, "table", "table-striped", "col"], [1, "table-header", "row", "secondary-color", "text-white", "mt-3"], [1, "cell-data", "col-3"], ["title", "Copy Table", "alt", "Copy Table", 1, "fa", "fa-clipboard", "float-right", 3, "click"], ["class", "row", 4, "ngFor", "ngForOf"], [1, "row"], [1, "cell-data", "col-3", "text-small"]], template: function ScaleSubListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Sub Scale");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Description");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Raw Score");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Range ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleSubListComponent_Template_i_click_10_listener() { return ctx.copyTable(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, ScaleSubListComponent_div_11_Template, 9, 4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.SubScales);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9zY2FsZS1zdWItbGlzdC9zY2FsZS1zdWItbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBIiwiZmlsZSI6InNyYy9hcHAvcmVwb3J0cy9zY2FsZS1zdWItbGlzdC9zY2FsZS1zdWItbGlzdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleSubListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-scale-sub-list',
                templateUrl: './scale-sub-list.component.html',
                styleUrls: ['./scale-sub-list.component.scss']
            }]
    }], function () { return [{ type: app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_1__["CopyClipboardService"] }]; }, { SubScales: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["SubScales"]
        }] }); })();


/***/ }),

/***/ "Evwa":
/*!**************************************!*\
  !*** ./src/app/tab/tab.component.ts ***!
  \**************************************/
/*! exports provided: TabComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TabComponent", function() { return TabComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_tabs_tabs_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/tabs/tabs.component */ "a46E");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





function TabComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c0 = ["*"];
class TabComponent {
    constructor(tabs) {
        this.tabs = tabs;
        this.isActive = false;
        if (this.tabs) {
            this.tabs.addTab(this);
        }
    }
    ngOnInit() {
    }
}
TabComponent.ɵfac = function TabComponent_Factory(t) { return new (t || TabComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_tabs_tabs_component__WEBPACK_IMPORTED_MODULE_1__["TabsComponent"])); };
TabComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TabComponent, selectors: [["dac-tab"]], inputs: { heading: "heading", routerLink: "routerLink" }, ngContentSelectors: _c0, decls: 1, vars: 1, consts: [["class", "tab-content card card-cascade col-12", 4, "ngIf"], [1, "tab-content", "card", "card-cascade", "col-12"], [1, "row"], [1, "col"]], template: function TabComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, TabComponent_div_0_Template, 4, 0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isActive);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], styles: ["[_nghost-%COMP%] {\n  display: block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiL3RhYi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FBS0E7RUFDRSxjQUFBO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC90YWIvdGFiLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbn1cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TabComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-tab',
                templateUrl: './tab.component.html',
                styleUrls: ['./tab.component.scss']
            }]
    }], function () { return [{ type: app_tabs_tabs_component__WEBPACK_IMPORTED_MODULE_1__["TabsComponent"] }]; }, { heading: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], routerLink: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "F+TI":
/*!************************************************!*\
  !*** ./src/app/shared/models/question-type.ts ***!
  \************************************************/
/*! exports provided: QuestionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionType", function() { return QuestionType; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
var QuestionType;
(function (QuestionType) {
    QuestionType[QuestionType["Checklist"] = 0] = "Checklist";
    QuestionType[QuestionType["MultipleChoice"] = 1] = "MultipleChoice";
    QuestionType[QuestionType["Textbox"] = 2] = "Textbox";
    QuestionType[QuestionType["SingleChoice"] = 3] = "SingleChoice";
})(QuestionType || (QuestionType = {}));


/***/ }),

/***/ "FJz6":
/*!**********************************************!*\
  !*** ./src/app/shared/models/DacModalRef.ts ***!
  \**********************************************/
/*! exports provided: DacModalRef */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DacModalRef", function() { return DacModalRef; });
/**
 * Wrapper class that proxies calls to MatDialogRef so we can swap out the Material CDK
 * components if needed in the future.
 *
 * Represents a modal reference in the system.
 */
class DacModalRef {
    constructor(dialogRef) {
        this.dialogRef = dialogRef;
    }
    /**
       * Close the dialog.
       * @param dialogResult Optional result to return to the dialog opener.
       */
    close(dialogResult) {
        return this.dialogRef.close(dialogResult);
    }
    /**
     * Gets an observable that is notified when the dialog is finished opening.
     */
    afterOpened() {
        return this.dialogRef.afterOpened();
    }
    /**
     * Gets an observable that is notified when the dialog is finished closing.
     */
    afterClosed() {
        return this.dialogRef.afterClosed();
    }
    /**
     * Gets an observable that is notified when the dialog has started closing.
     */
    beforeClosed() {
        return this.dialogRef.beforeClosed();
    }
    /**
     * Gets an observable that emits when the overlay's backdrop has been clicked.
     */
    backdropClick() {
        return this.dialogRef.backdropClick();
    }
    /**
     * Gets an observable that emits when keydown events are targeted on the overlay.
     */
    keydownEvents() {
        return this.dialogRef.keydownEvents();
    }
    /**
     * Updates the dialog's position.
     * @param position New dialog position.
     */
    updatePosition(position) {
        this.dialogRef.updatePosition(position);
        return this;
    }
    /**
     * Updates the dialog's width and height.
     * @param width New width of the dialog.
     * @param height New height of the dialog.
     */
    updateSize(width, height) {
        this.dialogRef.updateSize(width, height);
        return this;
    }
    /** Add a CSS class or an array of classes to the overlay pane. */
    addPanelClass(classes) {
        this.dialogRef.addPanelClass(classes);
        return this;
    }
    /** Remove a CSS class or an array of classes from the overlay pane. */
    removePanelClass(classes) {
        this.dialogRef.removePanelClass(classes);
        return this;
    }
    /** Gets the current state of the dialog's lifecycle. */
    getState() {
        // TODO: stephen it seems like we are wrapping around everything... should we wrap around
        // the MatDialogState?  Pretty simple primitive it seems to refactor if needed...
        return this.dialogRef.getState();
    }
}


/***/ }),

/***/ "FVTP":
/*!***********************************************************************!*\
  !*** ./src/app/library-assets/asset-picker/asset-picker.component.ts ***!
  \***********************************************************************/
/*! exports provided: AssetPickerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetPickerComponent", function() { return AssetPickerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_library_assets_services_asset_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/library-assets/services/asset.service */ "Cy3R");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "tyNb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







function AssetPickerComponent_p_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Loading...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssetPickerComponent_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Failed to load homework assignments. Check your connection or contact support.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssetPickerComponent_div_2_option_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tag_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", tag_r5.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](tag_r5.label);
} }
const _c0 = function (a3) { return ["/admin", "library", "articles", a3]; };
function AssetPickerComponent_div_2_ul_4_li_1_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "em", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "- Article");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const asset_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, asset_r7.id));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", asset_r7.title, " ");
} }
const _c1 = function (a3) { return ["/admin", "library", "exercises", a3]; };
function AssetPickerComponent_div_2_ul_4_li_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "em", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "- Exercise");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const asset_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c1, asset_r7.id));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", asset_r7.title, " ");
} }
function AssetPickerComponent_div_2_ul_4_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssetPickerComponent_div_2_ul_4_li_1_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const asset_r7 = ctx.$implicit; const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r12.pick(asset_r7); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssetPickerComponent_div_2_ul_4_li_1_span_1_Template, 6, 4, "span", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AssetPickerComponent_div_2_ul_4_li_1_span_2_Template, 6, 4, "span", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Add ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const asset_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", asset_r7.type == "article");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", asset_r7.type == "assignment");
} }
function AssetPickerComponent_div_2_ul_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssetPickerComponent_div_2_ul_4_li_1_Template, 5, 2, "li", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r4.Assets);
} }
function AssetPickerComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("keyup", function AssetPickerComponent_div_2_Template_input_keyup_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r14.searchTitle($event.target.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "select", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function AssetPickerComponent_div_2_Template_select_change_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r16.searchTag($event.target.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, AssetPickerComponent_div_2_option_3_Template, 2, 2, "option", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, AssetPickerComponent_div_2_ul_4_Template, 2, 1, "ul", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r2.tags);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.hasLoaded);
} }
class AssetPickerComponent {
    constructor(assetService) {
        this.assetService = assetService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() {
        this.hasLoaded = false;
        this.loadFailed = false;
        let loaders = [];
        this.tags = [{ label: "Filter by tag...", value: "" }, { label: "All", value: "All" }];
        Promise.all([this.assetService.getAssets(), this.assetService.getTags()])
            .then((results) => {
            let [assets, tags] = results;
            this.hasLoaded = true;
            this._assets = assets;
            tags.forEach(t => this.tags.push({ label: t, value: t }));
        })
            .catch(error => {
            this.loadFailed = true;
            this.hasLoaded = true;
            console.error(error);
        });
    }
    get Assets() {
        return this._assets;
    }
    searchTitle(title) {
        this.assetSearch = title.trim();
        this.runSearch();
    }
    searchTag(tag) {
        if (!tag) {
            this.selectedTag = null;
        }
        else {
            this.selectedTag = tag;
        }
        // we seem to be having a timing issue here on select boxes.
        setTimeout(() => {
            this.runSearch();
        }, 100);
    }
    searchType(type) {
        this.assetType = type;
        // we seem to be having a timing issue here on select boxes.
        setTimeout(() => {
            this.runSearch();
        }, 100); // there is a major timing i
        // this.runSearch();
    }
    runSearch() {
        this.assetService.searchAssets(this.assetSearch, this.selectedTag, this.assetType)
            .then(assets => {
            this._assets = [];
            assets.forEach(a => {
                this._assets.push(a);
            });
            // this._assets = assets;
        });
    }
    getRouterLink(asset) {
        if (asset.type == 'article') {
            return ['/admin/library/articles/' + asset.id];
        }
        else {
            return ['/admin/library/exercises/' + asset.id];
        }
    }
    pick(asset) {
        console.log("selecting ", asset);
        this.selected.emit(asset);
    }
}
AssetPickerComponent.ɵfac = function AssetPickerComponent_Factory(t) { return new (t || AssetPickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_library_assets_services_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"])); };
AssetPickerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AssetPickerComponent, selectors: [["dac-asset-picker"]], outputs: { selected: "selected" }, decls: 3, vars: 3, consts: [["class", "alert alert-warning", 4, "ngIf"], [4, "ngIf"], [1, "alert", "alert-warning"], ["placeholder", "Filter by name...", 1, "form-control", 3, "keyup"], [1, "browser-default", "form-control", 3, "change"], [3, "value", 4, "ngFor", "ngForOf"], ["class", "list-group", 4, "ngIf"], [3, "value"], [1, "list-group"], ["class", "list-group-item d-flex justify-content-between align-items-center list-group-item-action", 3, "click", 4, "ngFor", "ngForOf"], [1, "list-group-item", "d-flex", "justify-content-between", "align-items-center", "list-group-item-action", 3, "click"], ["alt", "Assign Homework", "title", "Assign Homework", 1, "badge", "badge-primary", "badge-pill", "btn", "btn-sm", "btn-primary"], [1, "badge", "badge-pill", "badge-primary", "mr-2", 3, "routerLink"], [1, "fa", "fa-info"], [1, "small"]], template: function AssetPickerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AssetPickerComponent_p_0_Template, 2, 0, "p", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssetPickerComponent_p_1_Template, 2, 0, "p", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AssetPickerComponent_div_2_Template, 5, 2, "div", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoaded && ctx.loadFailed);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoaded && !ctx.loadFailed);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵangular_packages_forms_forms_x"], _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterLinkWithHref"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS1hc3NldHMvYXNzZXQtcGlja2VyL2Fzc2V0LXBpY2tlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBIiwiZmlsZSI6InNyYy9hcHAvbGlicmFyeS1hc3NldHMvYXNzZXQtcGlja2VyL2Fzc2V0LXBpY2tlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssetPickerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-asset-picker',
                templateUrl: './asset-picker.component.html',
                styleUrls: ['./asset-picker.component.scss']
            }]
    }], function () { return [{ type: app_library_assets_services_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"] }]; }, { selected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "Fe25":
/*!***********************************************!*\
  !*** ./src/app/shared/card/card.component.ts ***!
  \***********************************************/
/*! exports provided: CardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CardComponent", function() { return CardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



const _c0 = function (a0) { return [a0]; };
function CardComponent_i_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 5);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, "fa-" + ctx_r0.icon));
} }
const _c1 = ["*"];
class CardComponent {
    constructor() {
        this.color = "primary";
    }
    ngOnInit() {
    }
}
CardComponent.ɵfac = function CardComponent_Factory(t) { return new (t || CardComponent)(); };
CardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CardComponent, selectors: [["dac-card"]], inputs: { icon: "icon", title: "title", color: "color" }, ngContentSelectors: _c1, decls: 7, vars: 5, consts: [[1, "card", "card-cascade", "wider"], [1, "view", "view-cascade", "gradient-card-header", 3, "ngClass"], [1, "card-header-title"], ["class", "fa", 3, "ngClass", 4, "ngIf"], [1, "card-body", "text-center"], [1, "fa", 3, "ngClass"]], template: function CardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h2", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, CardComponent_i_3_Template, 1, 3, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c0, ctx.color + "-gradient"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.title, "");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NhcmQvY2FyZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL2NhcmQvY2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-card',
                templateUrl: './card.component.html',
                styleUrls: ['./card.component.scss']
            }]
    }], function () { return []; }, { icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], title: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], color: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "GREk":
/*!*******************************************************************!*\
  !*** ./src/app/shared/copy-clipboard/copy-clipboard.component.ts ***!
  \*******************************************************************/
/*! exports provided: CopyClipboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopyClipboardComponent", function() { return CopyClipboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/copy-clipboard.service */ "V0KM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





class CopyClipboardComponent {
    constructor(copyClipboardService) {
        this.copyClipboardService = copyClipboardService;
    }
    ngOnInit() {
        if (!this.iconClass) {
            this.iconClass = "fa-clipboard";
        }
    }
    ngOnChanges(changes) {
        if (!this.iconClass) {
            this.iconClass = "fa-clipboard";
        }
    }
    copyContent() {
        this.copyClipboardService.copyText(this.content);
    }
}
CopyClipboardComponent.ɵfac = function CopyClipboardComponent_Factory(t) { return new (t || CopyClipboardComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_1__["CopyClipboardService"])); };
CopyClipboardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CopyClipboardComponent, selectors: [["dac-copy-clipboard"]], inputs: { content: "content", iconClass: "iconClass" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[1, "fa", 3, "ngClass", "click"]], template: function CopyClipboardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CopyClipboardComponent_Template_i_click_0_listener() { return ctx.copyContent(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.iconClass);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"]], styles: ["[_ngcontent-%COMP%]:root {\n  display: inline;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvcHktY2xpcGJvYXJkL2NvcHktY2xpcGJvYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUE7QUFLQTtFQUNJLGVBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb3B5LWNsaXBib2FyZC9jb3B5LWNsaXBib2FyZC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbjpyb290IHtcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG59XG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CopyClipboardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-copy-clipboard',
                templateUrl: './copy-clipboard.component.html',
                styleUrls: ['./copy-clipboard.component.scss']
            }]
    }], function () { return [{ type: _services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_1__["CopyClipboardService"] }]; }, { content: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], iconClass: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "GTRT":
/*!*************************************************************************!*\
  !*** ./src/app/shared/assessment-picker/assessment-picker.component.ts ***!
  \*************************************************************************/
/*! exports provided: AssessmentPickerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentPickerComponent", function() { return AssessmentPickerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_assessment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/assessment */ "WWiz");
/* harmony import */ var _services_assessment_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/assessment.service */ "7myg");
/* harmony import */ var _services_assessment_token_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/assessment-token.service */ "d+6K");
/* harmony import */ var app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/login/services/auth.service */ "6Hrc");
/* harmony import */ var _models_capability__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/capability */ "Yc7l");
/* harmony import */ var _services_questionnaire_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/questionnaire.service */ "Dhxs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../buy-item-button/buy-item-button.component */ "v9i2");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */















function AssessmentPickerComponent_ul_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "li", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "i", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Loading...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssessmentPickerComponent_ul_1_li_1_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Loading...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssessmentPickerComponent_ul_1_li_1_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const assessment_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r6.getRemainingTokens(assessment_r4));
} }
function AssessmentPickerComponent_ul_1_li_1_dac_buy_item_button_7_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "dac-buy-item-button", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssessmentPickerComponent_ul_1_li_1_dac_buy_item_button_7_Template_dac_buy_item_button_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r10.triggerBuy($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const assessment_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", assessment_r4);
} }
function AssessmentPickerComponent_ul_1_li_1_span_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Add ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c0 = function (a4) { return ["/std", "admin", "assessment", "manage", a4, "view", "details"]; };
function AssessmentPickerComponent_ul_1_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssessmentPickerComponent_ul_1_li_1_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); const assessment_r4 = ctx.$implicit; const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r13.pickAssessment(assessment_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "i", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, AssessmentPickerComponent_ul_1_li_1_span_5_Template, 2, 0, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AssessmentPickerComponent_ul_1_li_1_span_6_Template, 2, 1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, AssessmentPickerComponent_ul_1_li_1_dac_buy_item_button_7_Template, 1, 1, "dac-buy-item-button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, AssessmentPickerComponent_ul_1_li_1_span_8_Template, 2, 0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const assessment_r4 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c0, assessment_r4.uid));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](assessment_r4.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.hasLoaded);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.hasLoaded && ctx_r2.tokensEnabled && !ctx_r2.shouldBuyTokens(assessment_r4));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.hasLoaded && ctx_r2.tokensEnabled && ctx_r2.shouldBuyTokens(assessment_r4));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.tokensEnabled);
} }
function AssessmentPickerComponent_ul_1_li_2_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Loading...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AssessmentPickerComponent_ul_1_li_2_Template(rf, ctx) { if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssessmentPickerComponent_ul_1_li_2_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r18); const questionnaire_r15 = ctx.$implicit; const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r17.pickQuestionnaire(questionnaire_r15); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, AssessmentPickerComponent_ul_1_li_2_span_3_Template, 2, 0, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Add ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const questionnaire_r15 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](questionnaire_r15.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r3.hasLoaded);
} }
function AssessmentPickerComponent_ul_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssessmentPickerComponent_ul_1_li_1_Template, 9, 8, "li", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, AssessmentPickerComponent_ul_1_li_2_Template, 6, 2, "li", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.assessments);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.questionnaires);
} }
// import { Questionnaire } from 'fhir/r4';
class AssessmentPickerComponent {
    constructor(assessmentService, assessmentTokenService, authService, questionnaireService) {
        this.assessmentService = assessmentService;
        this.assessmentTokenService = assessmentTokenService;
        this.authService = authService;
        this.questionnaireService = questionnaireService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.questionnaireSelected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.buy = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._loadedTokens = false;
        this._hasLoadedAssessments = false;
    }
    get tokensEnabled() {
        return this.assessmentTokenService.isTokensEnabled();
    }
    get hasLoadedAssessments() {
        return this._hasLoadedAssessments;
    }
    ngOnInit() {
        this.authService.getCurrentUser().then(currentUser => {
            this._canBuy = currentUser.hasCapability(_models_capability__WEBPACK_IMPORTED_MODULE_5__["Capability"].CAN_SHOP);
            let queries = [];
            // queries.push(this.assessmentService.getAssessmentList());
            queries.push(this.questionnaireService.getQuestionnaires());
            queries.push(this.assessmentTokenService.loadAssessmentTokens());
            Promise.all(queries)
                .then(result => {
                if (result[0] && result[0].length) {
                    let data = result[0];
                    this._assessments = [];
                    this._questionnaires = [];
                    data.forEach(q => {
                        if (!(q.code || Array.isArray(q.code))) {
                            return;
                        }
                        if (q.code.indexOf('openemr-dac-assessment') >= 0) {
                            let assessment = new _models_assessment__WEBPACK_IMPORTED_MODULE_1__["Assessment"]();
                            assessment.uid = q.name;
                            assessment.name = q.title;
                            this._assessments.push(assessment);
                        }
                        else if (q.code.indexOf('openemr-dac-library') < 0) {
                            this._questionnaires.push(q);
                        }
                    });
                }
                // this._assessments = result[0];
                this._hasLoadedAssessments = true;
                this._loadedTokens = true;
                // this._questionnaires = result[1];
            });
        })
            .catch(error => {
            // TODO: stephen do we need to do something with the current user here?
            console.error(error);
        });
    }
    getRemainingTokens(assessment) {
        if (!this._loadedTokens) {
            return 0;
        }
        return this.assessmentTokenService.getRemainingTokens(assessment);
    }
    shouldBuyTokens(assessment) {
        if (!this._loadedTokens) {
            return false;
        }
        return this._canBuy && this.assessmentTokenService.getRemainingTokens(assessment) <= 0;
    }
    get hasLoaded() {
        return this._loadedTokens && this._hasLoadedAssessments;
    }
    pickAssessment(assessment) {
        console.log("selecting ", assessment);
        this.selected.emit(assessment);
    }
    pickQuestionnaire(questionnaire) {
        console.log("selecting ", questionnaire);
        this.questionnaireSelected.emit(questionnaire);
    }
    get assessments() {
        return this._assessments;
    }
    get questionnaires() {
        return this._questionnaires;
    }
    get search() {
        return this._search;
    }
    set search(v) {
        this._search = v;
    }
    doSearch() {
        alert("not implemented yet");
    }
    resetSearch() {
        alert("not implemented yet");
    }
    enterKeySearch(event) {
        alert("not implemented yet");
    }
    triggerBuy(item) {
        this.buy.emit(item);
    }
}
AssessmentPickerComponent.ɵfac = function AssessmentPickerComponent_Factory(t) { return new (t || AssessmentPickerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_assessment_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_assessment_token_service__WEBPACK_IMPORTED_MODULE_3__["AssessmentTokenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_6__["QuestionnaireService"])); };
AssessmentPickerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AssessmentPickerComponent, selectors: [["dac-assessment-picker"]], outputs: { selected: "selected", questionnaireSelected: "questionnaireSelected", buy: "buy" }, decls: 2, vars: 2, consts: [["class", "list-group", 4, "ngIf"], [1, "list-group"], [1, "list-group-item", "d-flex", "justify-content-between", "align-items-center", "list-group-item-action"], [1, "badge", "badge-pill", "badge-primary", "mr-2"], [1, "fa", "fa-info"], ["class", "list-group-item d-flex justify-content-between align-items-center list-group-item-action", 3, "click", 4, "ngFor", "ngForOf"], [1, "list-group-item", "d-flex", "justify-content-between", "align-items-center", "list-group-item-action", 3, "click"], [1, "badge", "badge-pill", "badge-primary", "mr-2", 3, "routerLink"], ["class", "badge badge-primary badge-pill", 4, "ngIf"], ["class", "badge badge-primary badge-pill", "alt", "Tokens Remaining", "title", "Tokens Remaining", 4, "ngIf"], [3, "item", "click", 4, "ngIf"], ["class", "badge badge-primary badge-pill btn btn-sm btn-primary", "alt", "Pick Assessment", "title", "Assign Assessment", 4, "ngIf"], [1, "badge", "badge-primary", "badge-pill"], ["alt", "Tokens Remaining", "title", "Tokens Remaining", 1, "badge", "badge-primary", "badge-pill"], [3, "item", "click"], ["alt", "Pick Assessment", "title", "Assign Assessment", 1, "badge", "badge-primary", "badge-pill", "btn", "btn-sm", "btn-primary"]], template: function AssessmentPickerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, AssessmentPickerComponent_ul_0_Template, 6, 0, "ul", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AssessmentPickerComponent_ul_1_Template, 3, 2, "ul", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasLoadedAssessments);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoadedAssessments);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _angular_router__WEBPACK_IMPORTED_MODULE_8__["RouterLinkWithHref"], _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_9__["BuyItemButtonComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9hc3Nlc3NtZW50LXBpY2tlci9hc3Nlc3NtZW50LXBpY2tlci5jb21wb25lbnQuY3NzIn0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssessmentPickerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-assessment-picker',
                templateUrl: './assessment-picker.component.html',
                styleUrls: ['./assessment-picker.component.css']
            }]
    }], function () { return [{ type: _services_assessment_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentService"] }, { type: _services_assessment_token_service__WEBPACK_IMPORTED_MODULE_3__["AssessmentTokenService"] }, { type: app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] }, { type: _services_questionnaire_service__WEBPACK_IMPORTED_MODULE_6__["QuestionnaireService"] }]; }, { selected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], questionnaireSelected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], buy: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "GlpM":
/*!*****************************************************!*\
  !*** ./src/app/shared/services/shopping.service.ts ***!
  \*****************************************************/
/*! exports provided: ShoppingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShoppingService", function() { return ShoppingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _admin_models_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../admin/models/item */ "jU8f");
/* harmony import */ var _stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stripe-payment-processor.service */ "6OaT");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var _assessment_token_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./assessment-token.service */ "d+6K");
/* harmony import */ var _order_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./order.service */ "NuUg");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */














class ShoppingService {
    constructor(stripe, tokenService, http, orderService, dacConfig) {
        this.stripe = stripe;
        this.tokenService = tokenService;
        this.http = http;
        this.orderService = orderService;
        this.dacConfig = dacConfig;
        this._cartItems = [];
        this._shopItems = [];
        this._singleItemCheckout = false;
        this._checkoutStatus = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"]("PRE_ORDER");
    }
    get hasItems() {
        return this._cartItems && this._cartItems.length;
    }
    hydrateItem(i) {
        if (!i) {
            return new _admin_models_item__WEBPACK_IMPORTED_MODULE_1__["Item"]();
        }
        var subItems = [];
        if (i.subItems) {
            subItems = i.subItems.map((subItem) => this.hydrateItem(subItem))
                .filter(i => !i.assessment_uid || this.dacConfig.isAssessmentEnabled(i.assessment_uid));
        }
        let item = Object.assign(new _admin_models_item__WEBPACK_IMPORTED_MODULE_1__["Item"](), i);
        item.subItems = subItems;
        return item;
    }
    getItemForAssessment(item) {
        return this.getAvailableItems().then(items => {
            return items.find(i => i.assessment_uid == item.uid);
        });
    }
    getItemForAssessmentGroup(item) {
        return this.getAvailableItems().then(items => {
            // can we really key off the name?? That seems risky...
            return items.find(i => i.name == item.name && i.assessment_uid == null); // I don't think these are the same...?
        });
    }
    startSingleCheckoutOrder(checkoutReturnUrl) {
        this._singleItemCheckout = true;
        this._singleItemCheckoutReturnUrl = checkoutReturnUrl;
    }
    isSingleCheckoutOrder() {
        return this._singleItemCheckout;
    }
    endSingleItemCheckout() {
        this._singleItemCheckout = false;
        this._singleItemCheckoutReturnUrl = null;
        // if there is anything in the cart we want to empty it.
        this.emptyCart();
        this._checkoutStatus.next("ORDER_CANCELLED");
    }
    getSingleItemCheckoutReturnUrl() {
        return this._singleItemCheckoutReturnUrl;
    }
    getAvailableItems() {
        return this.http.get("/items/").then((responseItems) => {
            console.log(responseItems);
            return responseItems.map((i) => this.hydrateItem(i)).filter(i => !i.assessment_uid || this.dacConfig.isAssessmentEnabled(i.assessment_uid));
        });
    }
    addItemToCart(item) {
        // even though this is synchronous it could become async so we are going to promisify it.
        return new Promise((resolve, reject) => {
            let existingItem = this._cartItems.find((i) => i.id === item.id);
            if (existingItem) {
                existingItem.quantity += item.quantity;
            }
            else {
                // push a copy.
                this._cartItems.push(Object.assign(new _admin_models_item__WEBPACK_IMPORTED_MODULE_1__["Item"](), item));
            }
            resolve();
        });
    }
    removeItemFromCart(item) {
        return new Promise((resolve, reject) => {
            this._cartItems = this._cartItems.filter((i) => i.id !== item.id);
            resolve();
        });
    }
    get cartItems() {
        return this._cartItems;
    }
    get cartTotal() {
        // let sum = 0.0;
        let sum = this._cartItems.reduce((a, b) => a + b.totalPrice, 0);
        return +(sum).toFixed(2); // make sure we round correctly same as on server.
    }
    getCheckoutStatus() {
        return this._checkoutStatus;
    }
    checkout(useSavedCard) {
        let items = this._cartItems.map((i) => { return { "id": i.id, "quantity": i.quantity }; });
        this._checkoutStatus.next("ORDER_START");
        // we can't just send a raw array or else the token doesn't pass through.
        return this.http.post("/orders/", { items: items }).then((order) => {
            console.log("order created", order);
            // return order;
            if (order.total <= 0) {
                return this.handleFreeOrder(order);
            }
            else {
                return this.handlePaidOrder(order, useSavedCard);
            }
        });
    }
    handleFreeOrder(order) {
        let data = {
            pmtProcessorToken: "FREE"
            // pmtProcessorToken: "blah"
            ,
            orderId: order.id
        };
        return this.purchaseTokens(data);
    }
    handlePaidOrder(order, useSavedCard) {
        let amount = order.total * 100;
        this._checkoutStatus.next("PAYMENT_PREPARE");
        let stripeCharge;
        if (useSavedCard) {
            stripeCharge = Promise.resolve({ orderId: order.id, useSavedCard: useSavedCard });
        }
        else {
            stripeCharge = this.stripe.charge(amount, "Assessments")
                .then((token) => {
                let data = {
                    pmtProcessorToken: token
                    // pmtProcessorToken: "blah"
                    ,
                    orderId: order.id,
                    useSavedCard: useSavedCard
                };
                return data;
            });
        }
        return stripeCharge.then((chargeData) => {
            this._checkoutStatus.next("ORDER_FINALIZE");
            return this.purchaseTokens(chargeData);
        });
    }
    emptyCart() {
        this._cartItems = [];
    }
    purchaseTokens(data) {
        return this.http.post("tokens/purchase", data).then((purchaseResult) => {
            this._checkoutStatus.next("ORDER_COMPLETE");
            this.orderService.storeLastOrder(purchaseResult.order);
            this.emptyCart();
            console.log("purchase complete navigate to order page");
            return purchaseResult.order;
        });
    }
}
ShoppingService.ɵfac = function ShoppingService_Factory(t) { return new (t || ShoppingService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_2__["StripePaymentProcessor"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_assessment_token_service__WEBPACK_IMPORTED_MODULE_4__["AssessmentTokenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_3__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_order_service__WEBPACK_IMPORTED_MODULE_5__["OrderService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_7__["DacConfig"])); };
ShoppingService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ShoppingService, factory: ShoppingService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ShoppingService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_2__["StripePaymentProcessor"] }, { type: _assessment_token_service__WEBPACK_IMPORTED_MODULE_4__["AssessmentTokenService"] }, { type: _http_service__WEBPACK_IMPORTED_MODULE_3__["HTTPService"] }, { type: _order_service__WEBPACK_IMPORTED_MODULE_5__["OrderService"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_7__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "GzvG":
/*!************************************************************************!*\
  !*** ./src/app/assessment-charts/scale-chart/scale-chart.component.ts ***!
  \************************************************************************/
/*! exports provided: ScaleChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleChartComponent", function() { return ScaleChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_models_scale_result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/models/scale-result */ "+u/X");
/* harmony import */ var _services_chart_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/chart.service */ "04I9");
/* harmony import */ var app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/assessment-charts/services/scale-result-color.service */ "s1ev");
/* harmony import */ var app_assessment_charts_base_chart_base_chart_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/assessment-charts/base-chart/base-chart.component */ "muz2");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! chart.js */ "WyAD");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */










function ScaleChartComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 1);
} }
class ScaleChartComponent extends app_assessment_charts_base_chart_base_chart_component__WEBPACK_IMPORTED_MODULE_4__["BaseChartComponent"] {
    constructor(el, chartService, scaleResultColorService) {
        super(el, chartService);
        this.el = el;
        this.chartService = chartService;
        this.scaleResultColorService = scaleResultColorService;
        this.complete = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    ngOnDestroy() {
        super.ngOnDestroy();
    }
    ngOnInit() {
        super.ngOnInit();
    }
    handleChartAnimationComplete(e) {
        var chartInstance = this.getChart(), ctx = chartInstance.ctx;
        ctx.font = chart_js__WEBPACK_IMPORTED_MODULE_5__["helpers"].fontString('16px', 700, chart_js__WEBPACK_IMPORTED_MODULE_5__["defaults"].global.defaultFontFamily);
        ctx.textAlign = 'center';
        ctx.textBaseline = 'bottom';
        chartInstance.data.datasets.forEach(function (dataset, i) {
            var meta = chartInstance.controller.getDatasetMeta(i);
            meta.data.forEach(function (bar, index) {
                var data = dataset.data[index];
                ctx.fillText(data, bar._model.x, bar._model.y - 5);
            });
        });
        this.complete.emit(e);
    }
    setupChartData() {
        let barColor = "rgba(92,141,181, .75)";
        let hoverBackgroundColor = "rgba(92,141,181, .75)";
        if (this.scaleResult) {
            let name = this.scaleResult.scale ? this.scaleResult.scale.name : "Score";
            let score = this.scaleResult.score ? this.scaleResult.score : 0;
            this._barData = [{ data: [score], label: "Your Score", yAxisID: 'y-axis-0', xAxisID: 'x-axis-0',
                    hoverBackgroundColor: hoverBackgroundColor, backgroundColor: barColor }];
        }
        else {
            this._barData = [{ data: [], label: "Your Score", hoverBackgroundColor: hoverBackgroundColor, backgroundColor: barColor }];
        }
        // if (this.scaleResult) {
        //   this._labelData = [this.scaleResult.scale ? name : "Your Score"];
        // }
        // else {
        this._labelData = ["Your Score"];
        // }
        // if (!this.showScaleName) {
        //   this._labelData = [""];
        // }
    }
    getLabelData() {
        return this._labelData;
    }
    getDatasets() {
        return this._barData;
    }
    getMaxYAxisTick() {
        let range = this.scaleResult.scale.getMaxRange();
        return range ? range.rangeEnd : 1;
    }
    setupChartConfiguration() {
        let configuration = super.setupChartConfiguration();
        configuration.title = {
            // display: this.showScaleName
            text: this.scaleResult.scale.name
        };
        configuration.scales.xAxes[0].display = true; //this.showScaleName;
        configuration.scales.xAxes[0].barPercentage = 0.25;
        configuration.scales.xAxes[0].padding = 0;
        configuration.scales.xAxes[0].ticks.display = false;
        configuration.scales.xAxes[0].scaleLabel.fontSize = parseFloat(this.getComputedProperty('font-size', 12)); // get the float value
        configuration.scales.xAxes[0].scaleLabel.display = true;
        configuration.scales.xAxes[0].scaleLabel.labelString = "YOUR SCORE";
        configuration.scales.xAxes[0].scaleLabel.fontStyle = this.getComputedProperty('font-style', 'normal');
        configuration.scales.xAxes[0].scaleLabel.fontFamily = this.getComputedProperty('font-family', "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif");
        // configuration.scales.xAxes[0].scaleLabel.fontWeight = this.getComputedProperty('font-weight', 400);
        configuration.scales.xAxes[0].scaleLabel.lineHeight = this.getComputedProperty('line-height', 1.2);
        configuration.scales.xAxes[0].scaleLabel.fontColor = this.getComputedProperty('color', '#666');
        configuration.scales.xAxes[0].gridLines.display = false;
        configuration.scales.yAxes[0].scaleLabel.display = true;
        configuration.scales.yAxes[0].ticks.padding = 0;
        configuration.annotation.annotations = this.setupAnnotations();
        configuration.legend.display = false;
        configuration.tooltips.enabled = false;
        return configuration;
    }
    getComputedProperty(property, defaultValue = "") {
        let window = this.el.nativeElement.ownerDocument.defaultView || {};
        let value = null;
        if (window.getComputedStyle) {
            value = window.getComputedStyle(this.el.nativeElement).getPropertyValue(property) || null;
        }
        if (value === null) {
            value = defaultValue;
        }
        return value;
    }
    setupAnnotations() {
        let annotations = [];
        if (this.showRanges && this.scaleResult && this.scaleResult.scale) {
            let even = false;
            this.scaleResult.scale.ranges.forEach((r) => {
                even = !even;
                let line = {
                    drawTime: 'afterDraw',
                    type: 'line',
                    mode: 'horizontal',
                    scaleID: 'y-axis-0',
                    value: r.midPoint,
                    borderColor: "rgba(0,0,0,0)",
                    borderWidth: 0,
                    label: {
                        backgroundColor: "rgba(0,0,0,0)",
                        fontColor: "black",
                        position: "left",
                        yAdjust: 10,
                        content: r.displayName,
                        enabled: true
                    },
                };
                annotations.push(line);
                if (even) { // we are only adding even boxes as the grid lines cause problems
                    let box = {
                        drawTime: "beforeDatasetsDraw",
                        type: "box",
                        yScaleID: "y-axis-0",
                        yMin: r.rangeStart,
                        yMax: r.rangeEnd,
                        backgroundColor: (even) ? "rgba(68, 170, 213, 0.1)" : "rgba(0,0,0,0)",
                        borderColor: "rgb(0, 0, 0, 0)",
                        borderWidth: 0
                    };
                    annotations.push(box);
                }
            });
        }
        return annotations;
    }
    get hasResult() {
        return this.scaleResult != null;
    }
}
ScaleChartComponent.ɵfac = function ScaleChartComponent_Factory(t) { return new (t || ScaleChartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_chart_service__WEBPACK_IMPORTED_MODULE_2__["ChartService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_3__["ScaleResultColorService"])); };
ScaleChartComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleChartComponent, selectors: [["app-scale-chart"]], inputs: { scaleResult: ["scale-result", "scaleResult"], showScaleName: ["show-scale-name", "showScaleName"], showRanges: ["show-ranges", "showRanges"] }, outputs: { complete: "complete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 1, vars: 1, consts: [["class", "d-flex h-100 scale-chart-container", 4, "ngIf"], [1, "d-flex", "h-100", "scale-chart-container"]], template: function ScaleChartComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ScaleChartComponent_div_0_Template, 1, 0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasResult);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"]], styles: ["[_nghost-%COMP%] {\n    text-align: center;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXNzZXNzbWVudC1jaGFydHMvc2NhbGUtY2hhcnQvc2NhbGUtY2hhcnQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGtCQUFrQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL2Fzc2Vzc21lbnQtY2hhcnRzL3NjYWxlLWNoYXJ0L3NjYWxlLWNoYXJ0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleChartComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-scale-chart',
                templateUrl: './scale-chart.component.html',
                styleUrls: ['./scale-chart.component.css']
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _services_chart_service__WEBPACK_IMPORTED_MODULE_2__["ChartService"] }, { type: app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_3__["ScaleResultColorService"] }]; }, { scaleResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["scale-result"]
        }], showScaleName: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["show-scale-name"]
        }], showRanges: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["show-ranges"]
        }], complete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "H8G6":
/*!************************************************************!*\
  !*** ./src/app/login/services/auth-guard-login.service.ts ***!
  \************************************************************/
/*! exports provided: AuthGuardLogin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuardLogin", function() { return AuthGuardLogin; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth.service */ "6Hrc");
/* harmony import */ var app_shared_models_role__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/models/role */ "Y5fV");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







class AuthGuardLogin {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    canActivate(route, state) {
        return this.authService.getCurrentUser()
            .then(user => {
            if (user && user.role == app_shared_models_role__WEBPACK_IMPORTED_MODULE_3__["Role"].Client) {
                return true; // not authenticated or no user... so let's pop open our process here.
            }
            else {
                this.router.navigate(['/login'], {
                    queryParams: {
                        return: state.url,
                        loginType: 2 // client
                    }
                });
                return false;
            }
            // // if we are on the login screen, are a client and authenticated, send them to the /assessments endpoint
            // if (user.role === Role.Client) {
            //   this.router.navigate(['/assessments'], {
            //     queryParams: {
            //         return: state.url
            //     }
            //   });
            //   return false;
            // }
            // else {
            //   // if we are on the login screen, are a user and authenticated, send them to the /admin endpoint
            //     this.router.navigate(['/admin'], {
            //       queryParams: {
            //           return: state.url
            //       }
            //     });
            //     return false;
            // }
        }).catch(error => {
            // default login is to probably go to the admin login page
            // TODO: @adunsulag do we want the default to be the patient login page?
            this.router.navigate(['/login'], {
                queryParams: {
                    return: state.url,
                    loginType: 2 // client
                }
            });
            return false;
        });
    }
    canActivateChild(route, state) {
        return this.canActivate(route, state);
    }
}
AuthGuardLogin.ɵfac = function AuthGuardLogin_Factory(t) { return new (t || AuthGuardLogin)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"])); };
AuthGuardLogin.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuthGuardLogin, factory: AuthGuardLogin.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuthGuardLogin, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }]; }, null); })();


/***/ }),

/***/ "HSqN":
/*!*********************************************!*\
  !*** ./src/app/shared/models/ErrorCodes.ts ***!
  \*********************************************/
/*! exports provided: ErrorCode, ErrorCodeStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorCode", function() { return ErrorCode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErrorCodeStatus", function() { return ErrorCodeStatus; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
var ErrorCode;
(function (ErrorCode) {
    // 400 errors
    ErrorCode["INVALID_REQUEST"] = "INVALID_REQUEST";
    ErrorCode["INVALID_BILLING_CARD"] = "INVALID_BILLING_CARD";
    ErrorCode["DUP_ENTRY"] = "DUP_ENTRY";
    ErrorCode["VALIDATE_DATA_MISSING"] = "VALIDATE_DATA_MISSING";
    ErrorCode["VALIDATION_FAILED"] = "VALIDATION_FAILED";
    // 401 errors
    ErrorCode["AUTHORIZATION_REQUIRED"] = "AUTHORIZATION_REQUIRED";
    ErrorCode["MUST_AUTHENTICATE"] = "MUST_AUTHENTICATE";
    // 402 errors
    ErrorCode["ASSESSMENT_QUOTA_REACHED"] = "ASSESSMENT_QUOTA_REACHED";
    // 404 errors
    ErrorCode["RECORD_NOT_FOUND"] = "RECORD_NOT_FOUND";
    // 500 errors
    ErrorCode["SYSTEM_ERROR"] = "SYSTEM_ERROR";
    ErrorCode["RECORD_CREATE_FAILED"] = "RECORD_CREATE_FAILED";
})(ErrorCode || (ErrorCode = {}));
class ErrorCodeStatus {
    constructor() {
        this.codeMap = {};
        this.codeMap[ErrorCode.DUP_ENTRY] = 400;
        this.codeMap[ErrorCode.INVALID_REQUEST] = 400;
        this.codeMap[ErrorCode.VALIDATE_DATA_MISSING] = 400;
        this.codeMap[ErrorCode.VALIDATION_FAILED] = 400;
        this.codeMap[ErrorCode.INVALID_BILLING_CARD] = 400;
        this.codeMap[ErrorCode.AUTHORIZATION_REQUIRED] = 401;
        this.codeMap[ErrorCode.MUST_AUTHENTICATE] = 401;
        this.codeMap[ErrorCode.ASSESSMENT_QUOTA_REACHED] = 402;
        this.codeMap[ErrorCode.RECORD_NOT_FOUND] = 404;
        this.codeMap[ErrorCode.SYSTEM_ERROR] = 500;
        this.codeMap[ErrorCode.RECORD_CREATE_FAILED] = 500;
    }
    static getStatusForErrorCode(code) {
        if (!ErrorCodeStatus.instance) {
            ErrorCodeStatus.instance = new ErrorCodeStatus();
        }
        let status = ErrorCodeStatus.instance.codeMap[ErrorCode.SYSTEM_ERROR];
        if (ErrorCodeStatus.instance.codeMap[code]) {
            status = ErrorCodeStatus.instance.codeMap[code];
        }
        return status;
    }
}


/***/ }),

/***/ "HY3C":
/*!****************************************************************!*\
  !*** ./src/app/shared/services/assignment-hydrator.service.ts ***!
  \****************************************************************/
/*! exports provided: AssignmentHydratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignmentHydratorService", function() { return AssignmentHydratorService; });
/* harmony import */ var _models_AssignedAssessmentGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/AssignedAssessmentGroup */ "PbQf");
/* harmony import */ var _models_AssignedAssessment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/AssignedAssessment */ "k1ga");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_AssignedLibraryAsset__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/AssignedLibraryAsset */ "Xetn");
/* harmony import */ var _models_AssignmentSingle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/AssignmentSingle */ "RoZp");
/* harmony import */ var _models_AssignedQuestionnaire__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/AssignedQuestionnaire */ "PPVr");
/* harmony import */ var _models_AssignedTemplateProfile__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/AssignedTemplateProfile */ "vvbQ");








class AssignmentHydratorService {
    hydrateAssignment(record) {
        let assignment;
        if (record.type == "AssessmentGroup") {
            assignment = Object.assign(new _models_AssignedAssessmentGroup__WEBPACK_IMPORTED_MODULE_0__["AssignedAssessmentGroup"](), record);
            assignment.Items = record.items.map(i => this.hydrateAssignmentItem(i));
        }
        else if (record.type == 'TemplateProfile') {
            assignment = Object.assign(new _models_AssignedTemplateProfile__WEBPACK_IMPORTED_MODULE_6__["AssignedTemplateProfile"](), record);
            assignment.Items = record.items.map(i => this.hydrateAssignmentItem(i));
        }
        else {
            assignment = Object.assign(new _models_AssignmentSingle__WEBPACK_IMPORTED_MODULE_4__["AssignmentSingle"](), record);
            let recordItem = record.items && record.items.length ? record.items[0] : {};
            let item = this.hydrateAssignmentItem(recordItem);
            assignment.Items = [item];
        }
        return assignment;
    }
    hydrateAssignmentItem(recordItem) {
        let item;
        if (recordItem.type == "Assessment") {
            item = Object.assign(new _models_AssignedAssessment__WEBPACK_IMPORTED_MODULE_1__["AssignedAssessment"](), recordItem);
        }
        else if (recordItem.type == "LibraryAsset") {
            item = Object.assign(new _models_AssignedLibraryAsset__WEBPACK_IMPORTED_MODULE_3__["AssignedLibraryAsset"](), recordItem);
        }
        else if (recordItem.type == "Questionnaire") {
            item = Object.assign(new _models_AssignedQuestionnaire__WEBPACK_IMPORTED_MODULE_5__["AssignedQuestionnaire"](), recordItem);
        }
        else {
            console.error("Failed to find valid assignment ", recordItem);
            item = Object.assign(new _models_AssignedAssessment__WEBPACK_IMPORTED_MODULE_1__["AssignedAssessment"](), recordItem); // default it to an assessment
        }
        return item;
    }
}
AssignmentHydratorService.ɵfac = function AssignmentHydratorService_Factory(t) { return new (t || AssignmentHydratorService)(); };
AssignmentHydratorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: AssignmentHydratorService, factory: AssignmentHydratorService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](AssignmentHydratorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], null, null); })();


/***/ }),

/***/ "Hu2X":
/*!****************************************************!*\
  !*** ./src/app/shared/services/company.service.ts ***!
  \****************************************************/
/*! exports provided: CompanyService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompanyService", function() { return CompanyService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_company__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/company */ "3EFq");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/user */ "NlNA");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user.service */ "kmKP");
/* harmony import */ var app_shared_services_http_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/services/http.service */ "Tdnt");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



// TODO: stephen only used for mocking the service right now...





class CompanyUserStatistic {
}
class CompanyService {
    constructor(userService, http) {
        this.userService = userService;
        this.http = http;
    }
    getCompany(id) {
        return this.http.get("/admin/companies/" + id + ".json").then((data) => {
            return this.hydrateCompanyFromData(data);
        });
    }
    getCompanies() {
        return this.http.get("/admin/companies", { limit: 1000 }).then((data) => {
            if (!(data.results && data.results.length)) {
                return [];
            }
            return data.results.map(r => this.hydrateCompanyFromData(r));
        });
    }
    getUserStatistics(companyId) {
        return this.http.get("/admin/companies/" + companyId + "/users").then((data) => {
            return data;
        });
    }
    getOrderStatistics(companyId) {
        return this.http.get("/admin/companies/" + companyId + "/orders").then((data) => {
            return data;
        });
    }
    createCompany(company) {
        // TODO: stephen need to handle the new user password
        return this.http.post("/admin/companies", company).then((data) => {
            return this.hydrateCompanyFromData(data);
        });
    }
    registerNewCompany(company, authToken) {
        // TODO: stephen need to handle the new user password
        return this.http.post("/companies", { company: company, authToken: authToken }).then((data) => {
            return this.hydrateCompanyFromData(data);
        });
    }
    saveAccountOwnerCompany(company) {
        return this.http.post("/companies/" + company.id + ".json", company).then((data) => {
            return this.hydrateCompanyFromData(data);
        });
    }
    getAccountOwnerCompany(id) {
        return this.http.get("/companies/" + id + ".json").then((data) => {
            return this.hydrateCompanyFromData(data);
        });
    }
    hydrateCompanyFromData(record) {
        let company = new _models_company__WEBPACK_IMPORTED_MODULE_1__["Company"]();
        Object.assign(company, record);
        company.email = record._primaryContactEmail;
        let user = new _models_user__WEBPACK_IMPORTED_MODULE_2__["User"]();
        Object.assign(user, record._user);
        company.user = user;
        return company;
    }
}
CompanyService.ɵfac = function CompanyService_Factory(t) { return new (t || CompanyService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](app_shared_services_http_service__WEBPACK_IMPORTED_MODULE_4__["HTTPService"])); };
CompanyService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: CompanyService, factory: CompanyService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CompanyService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"] }, { type: app_shared_services_http_service__WEBPACK_IMPORTED_MODULE_4__["HTTPService"] }]; }, null); })();


/***/ }),

/***/ "JK/P":
/*!**************************************************!*\
  !*** ./src/app/shared/services/modal.service.ts ***!
  \**************************************************/
/*! exports provided: ModalService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalService", function() { return ModalService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "0IaG");
/* harmony import */ var _models_DacModalRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/DacModalRef */ "FJz6");





class ModalService {
    constructor(dialog) {
        this.dialog = dialog;
    }
    openDialog(component, data) {
        let config = {
            data: data
        };
        const dialogRef = this.dialog.open(component, config);
        let dacRef = new _models_DacModalRef__WEBPACK_IMPORTED_MODULE_2__["DacModalRef"](dialogRef);
        return dacRef;
    }
}
ModalService.ɵfac = function ModalService_Factory(t) { return new (t || ModalService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"])); };
ModalService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ModalService, factory: ModalService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ModalService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"] }]; }, null); })();


/***/ }),

/***/ "KH1N":
/*!***********************************************************!*\
  !*** ./src/app/shared/feature-enabled/feature-enabled.ts ***!
  \***********************************************************/
/*! exports provided: IfFeatureEnabled */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IfFeatureEnabled", function() { return IfFeatureEnabled; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/dac-config.service */ "OApS");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
// ./app/shared/if.directive.ts




class IfFeatureEnabled {
    constructor(templateRef, viewContainer, dacConfig) {
        this.templateRef = templateRef;
        this.viewContainer = viewContainer;
        this.dacConfig = dacConfig;
    }
    set ifFeatureEnabled(feature) {
        if (this.dacConfig.isFeatureEnabled(feature)) {
            // If condition is true add template to DOM
            this.viewContainer.createEmbeddedView(this.templateRef);
        }
        else {
            // Else remove template from DOM
            this.viewContainer.clear();
        }
    }
}
IfFeatureEnabled.ɵfac = function IfFeatureEnabled_Factory(t) { return new (t || IfFeatureEnabled)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"])); };
IfFeatureEnabled.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: IfFeatureEnabled, selectors: [["", "ifFeatureEnabled", ""]], inputs: { ifFeatureEnabled: "ifFeatureEnabled" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](IfFeatureEnabled, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{ selector: '[ifFeatureEnabled]' }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }, { type: _services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"] }]; }, { ifFeatureEnabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "KMXk":
/*!*******************************************************!*\
  !*** ./src/app/shared/services/assignment.service.ts ***!
  \*******************************************************/
/*! exports provided: AssignmentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignmentService", function() { return AssignmentService; });
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var _assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assignment-hydrator.service */ "HY3C");
/* harmony import */ var _assessment_token_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assessment-token.service */ "d+6K");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








class AssignmentService {
    constructor(_dac$http, assignmentHydrator, tokenService) {
        this._dac$http = _dac$http;
        this.assignmentHydrator = assignmentHydrator;
        this.tokenService = tokenService;
    }
    createClientGroupAssignment(client, group, appointmentId) {
        return this._dac$http.post("clients/" + client.id + "/assignment-groups", { id: group.Id, appointmentId: appointmentId, profileId: group.ProfileId })
            .then((response) => {
            let serverAssignment = this.assignmentHydrator.hydrateAssignment(response.assignment);
            return serverAssignment;
        });
    }
    saveClientAssignment(client, assignment) {
        if (assignment.Id) {
            return this.updateClientAssignment(client, assignment);
        }
        else {
            return this.createClientAssignment(client, assignment);
        }
    }
    removeClientAssignment(client, assignment) {
        return this._dac$http.delete("clients/" + client.id + "/assignments/" + assignment.Id).then((response) => {
            if (assignment.Type == 'Assessment') {
                let item = assignment.Items[0];
                this.tokenService.freeToken(item.Uid);
            }
            return assignment;
        });
    }
    createClientAssignment(client, assignment) {
        return this._dac$http.post("clients/" + client.id + "/assignments", assignment)
            .then((response) => {
            let serverAssignment = this.assignmentHydrator.hydrateAssignment(response.assignment);
            return serverAssignment;
        });
        // TODO: stephen need to handle errors here.
    }
    updateClientAssignment(client, assignment) {
        return this._dac$http.post("clients/" + client.id + "/assignments/" + assignment.Id, assignment)
            .then((serverResponse) => {
            // TODO: stephen anything we need to do w/ the server response?
            return assignment;
        });
    }
}
AssignmentService.ɵfac = function AssignmentService_Factory(t) { return new (t || AssignmentService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_0__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_1__["AssignmentHydratorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_assessment_token_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentTokenService"])); };
AssignmentService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: AssignmentService, factory: AssignmentService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵsetClassMetadata"](AssignmentService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_0__["HTTPService"] }, { type: _assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_1__["AssignmentHydratorService"] }, { type: _assessment_token_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentTokenService"] }]; }, null); })();


/***/ }),

/***/ "KZk/":
/*!***********************************************************************!*\
  !*** ./src/app/shared/username-checker/username-checker.component.ts ***!
  \***********************************************************************/
/*! exports provided: UsernameCheckerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsernameCheckerComponent", function() { return UsernameCheckerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/models/user */ "NlNA");
/* harmony import */ var _shared_services_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/user.service */ "kmKP");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






function UsernameCheckerComponent_p_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Username is available!");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function UsernameCheckerComponent_p_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Username is not available.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class UsernameCheckerComponent {
    constructor(userService) {
        this.userService = userService;
        this.usernameDuplicate = false;
        this.usernameValid = false;
    }
    ngOnInit() {
    }
    checkUsername(newUsername) {
        this.user.username = newUsername;
        // TODO: stephen need to add some debounce stuff in here...
        this.userService.isDuplicateUsername(this.user.username).then((isDuplicate) => {
            this.usernameDuplicate = false;
            this.usernameValid = false;
            if (isDuplicate) {
                this.usernameDuplicate = true;
            }
            else {
                this.usernameValid = true;
            }
        });
    }
}
UsernameCheckerComponent.ɵfac = function UsernameCheckerComponent_Factory(t) { return new (t || UsernameCheckerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"])); };
UsernameCheckerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: UsernameCheckerComponent, selectors: [["username-checker"]], inputs: { user: "user" }, decls: 4, vars: 2, consts: [["id", "username", "type", "text", 1, "form-control", 3, "keyup.enter", "blur"], ["username", ""], ["class", "alert alert-success", 4, "ngIf"], ["class", "alert alert-danger", 4, "ngIf"], [1, "alert", "alert-success"], [1, "alert", "alert-danger"]], template: function UsernameCheckerComponent_Template(rf, ctx) { if (rf & 1) {
        const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("keyup.enter", function UsernameCheckerComponent_Template_input_keyup_enter_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](1); return ctx.checkUsername(_r0.value); })("blur", function UsernameCheckerComponent_Template_input_blur_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](1); return ctx.checkUsername(_r0.value); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, UsernameCheckerComponent_p_2_Template, 2, 0, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, UsernameCheckerComponent_p_3_Template, 2, 0, "p", 3);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.usernameValid);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.usernameDuplicate);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC91c2VybmFtZS1jaGVja2VyL3VzZXJuYW1lLWNoZWNrZXIuY29tcG9uZW50LmNzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UsernameCheckerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'username-checker',
                templateUrl: './username-checker.component.html',
                styleUrls: ['./username-checker.component.css']
            }]
    }], function () { return [{ type: _shared_services_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"] }]; }, { user: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "KcOL":
/*!***********************************************!*\
  !*** ./src/app/debug/debug-routing.module.ts ***!
  \***********************************************/
/*! exports provided: DebugRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DebugRoutingModule", function() { return DebugRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _fhir_client_fhir_client_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fhir-client/fhir-client.component */ "VN7E");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






const routes = [
    { path: 'debug', pathMatch: 'full', redirectTo: 'fhirClient' },
    { path: 'fhirClient', component: _fhir_client_fhir_client_component__WEBPACK_IMPORTED_MODULE_3__["FhirClientComponent"] },
];
class DebugRoutingModule {
}
DebugRoutingModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: DebugRoutingModule });
DebugRoutingModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function DebugRoutingModule_Factory(t) { return new (t || DebugRoutingModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)
        ], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](DebugRoutingModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DebugRoutingModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)
                ],
                exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
                declarations: []
            }]
    }], null, null); })();


/***/ }),

/***/ "Kt/y":
/*!************************************************!*\
  !*** ./src/app/shared/models/list-question.ts ***!
  \************************************************/
/*! exports provided: ListQuestion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListQuestion", function() { return ListQuestion; });
/* harmony import */ var _question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./question */ "wEdZ");
/* harmony import */ var app_shared_models_utility__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/models/utility */ "M7wF");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class ListQuestion extends _question__WEBPACK_IMPORTED_MODULE_0__["Question"] {
    constructor() {
        super();
        this._customLabels = [];
    }
    get CustomLabels() {
        return this._customLabels;
    }
    set CustomLabels(v) {
        this._customLabels = v;
    }
    addLabel(lbl) {
        this._customLabels.push(lbl);
    }
    removeLabel(lbl) {
        this._customLabels = this._customLabels.filter(l => l.id != lbl.id);
    }
    shiftUpLabel(lbl) {
        app_shared_models_utility__WEBPACK_IMPORTED_MODULE_1__["Utility"].shiftCollectionUp(this._customLabels, lbl);
    }
    shiftDownLabel(lbl) {
        app_shared_models_utility__WEBPACK_IMPORTED_MODULE_1__["Utility"].shiftCollectionDown(this._customLabels, lbl);
    }
}


/***/ }),

/***/ "LTHS":
/*!******************************************************************************!*\
  !*** ./src/app/login/admin-login-finalize/admin-login-finalize.component.ts ***!
  \******************************************************************************/
/*! exports provided: AdminLoginFinalizeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminLoginFinalizeComponent", function() { return AdminLoginFinalizeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/fhir-service */ "y+jN");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/auth.service */ "6Hrc");
/* harmony import */ var app_shared_models_role__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/models/role */ "Y5fV");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");

/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */










function AdminLoginFinalizeComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r0.errorMessage, "\n");
} }
function AdminLoginFinalizeComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, " Processing login.\n");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
class AdminLoginFinalizeComponent {
    constructor(fhirService, router, authService) {
        this.fhirService = fhirService;
        this.router = router;
        this.authService = authService;
    }
    get hasError() {
        return this.errorMessage != null;
    }
    get errorMessage() {
        return this._errorMessage;
    }
    ngOnInit() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            try {
                let client = yield this.fhirService.fhirClientReady();
                if (!client) {
                    throw new Error("client was not returned from clientReady");
                }
                yield this.fhirService.loadFhirStylesFromClient(client);
                let redirectUrl = '/'; // let default be go back and let the route guard send to the admin page or the regular page now that we are ready
                let dcUrl = sessionStorage.getItem("dc-return-url");
                if (dcUrl) {
                    sessionStorage.removeItem('dc-return-url'); // remove it so we don't have the chance of using it again.
                }
                let intent = this.fhirService.getIntentFromClient(client);
                let appointment = this.fhirService.getFhirContextFromClient(client, 'Appointment');
                // we are only going to have an intent for ehr-launch and the intent takes priority over any
                // direct linkage.
                if (intent) {
                    // see if we can get an intent out of this
                    if (intent === 'patient.demographics.dialog' || intent === 'encounter.forms.dialog') {
                        // admin side and we are going to launch into our admin view page
                        if (client && client.patient && client.patient.id) {
                            redirectUrl = "/ehr/admin/client/" + client.patient.id;
                        }
                    }
                    else if (intent == 'appointment.edit.dialog' && client && client.patient && appointment) {
                        redirectUrl = "/ehr/admin/client-appointment/" + client.patient.id;
                    }
                }
                if (dcUrl) {
                    redirectUrl = dcUrl;
                }
                else {
                    // no intent and no url to return to... standard login so lets' go to our regular locations.
                    let user = yield this.authService.getCurrentUser();
                    if (user.role == app_shared_models_role__WEBPACK_IMPORTED_MODULE_5__["Role"].Client) {
                        redirectUrl = "/std/assessments/dashboard";
                    }
                    else if (user.role < app_shared_models_role__WEBPACK_IMPORTED_MODULE_5__["Role"].Client) {
                        redirectUrl = "/std/admin/client";
                    }
                }
                this.router.navigateByUrl(redirectUrl);
            }
            catch (error) {
                if (error.needsAuthentication) {
                    // somehow they cancelled the navigation or need to go back.. relaunch the nnavigation window
                    this.router.navigate(["loginAdmin"]);
                }
                else {
                    this._errorMessage = error.message;
                }
            }
        });
    }
}
AdminLoginFinalizeComponent.ɵfac = function AdminLoginFinalizeComponent_Factory(t) { return new (t || AdminLoginFinalizeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_3__["FhirService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"])); };
AdminLoginFinalizeComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: AdminLoginFinalizeComponent, selectors: [["app-admin-login-finalize"]], decls: 2, vars: 2, consts: [["class", "alert alert-error", 4, "ngIf"], ["class", "alert alert-info", 4, "ngIf"], [1, "alert", "alert-error"], [1, "alert", "alert-info"]], template: function AdminLoginFinalizeComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, AdminLoginFinalizeComponent_div_0_Template, 2, 1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, AdminLoginFinalizeComponent_div_1_Template, 2, 0, "div", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.hasError);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx.hasError);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AdminLoginFinalizeComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'app-admin-login-finalize',
                templateUrl: './admin-login-finalize.component.html'
            }]
    }], function () { return [{ type: app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_3__["FhirService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }, { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] }]; }, null); })();


/***/ }),

/***/ "M7wF":
/*!******************************************!*\
  !*** ./src/app/shared/models/utility.ts ***!
  \******************************************/
/*! exports provided: Utility */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utility", function() { return Utility; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class Utility {
    static shiftCollectionUp(collection, item) {
        let index = collection.indexOf(item);
        if (index <= 0) {
            return; // already at the highest 'to the user' point
        }
        // now add the label up.
        collection.splice(index, 1);
        collection.splice(index - 1, 0, item);
    }
    static shiftCollectionDown(collection, item) {
        let index = collection.indexOf(item);
        if (index >= collection.length - 1) {
            return; // already at the maximum
        }
        if (index >= 0) {
            collection.splice(index, 1);
            collection.splice(index + 1, 0, item);
        }
    }
}


/***/ }),

/***/ "Mjyu":
/*!************************************************************!*\
  !*** ./src/app/login/admin-login/admin-login.component.ts ***!
  \************************************************************/
/*! exports provided: AdminLoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminLoginComponent", function() { return AdminLoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/auth.service */ "6Hrc");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _models_AuthState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/AuthState */ "3Xg2");
/* harmony import */ var app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/services/fhir-service */ "y+jN");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



// import { AmplifyAuthService } from '../services/amplify-auth-service';






class AdminLoginComponent {
    constructor(router, route, authService, fhirService) {
        // TODO: @adunsulag how to handle the refresh token
        this.router = router;
        this.route = route;
        this.authService = authService;
        this.fhirService = fhirService;
        this.returnUrl = '';
        this._authSubscription = this.authService.authStateChange$().subscribe(authState => {
            console.log("Auth state is ", authState);
            this._authState = authState.state;
            if (this._authState === _models_AuthState__WEBPACK_IMPORTED_MODULE_3__["AuthState"].SIGNED_IN) {
                // either going back to the original requested url or going to the dashboard.
                this.router.navigateByUrl(this.returnUrl);
            }
            this._user = authState.user;
        });
    }
    get user() {
        return this._user;
    }
    ngOnInit() {
        let loginType = this.route.snapshot.queryParams['loginType'] || 1;
        // TODO: @adunsulag if we are already authorized we want to skip this step.
        if (loginType == 1) {
            this.fhirService.authorizeUserAdmin('/loginFinalize');
        }
        else {
            this.fhirService.authorizeClient('/loginFinalize');
        }
        // this.route.queryParams
        //   .subscribe(params => this.returnUrl = params['return'] || '/admin/');
    }
    ngOnDestroy() {
        if (this._authSubscription) {
            this._authSubscription.unsubscribe();
        }
    }
    get authState() {
        return this._authState;
    }
    isForgotPassword() {
        return this._authState == _models_AuthState__WEBPACK_IMPORTED_MODULE_3__["AuthState"].FORGOT_PASSWORD;
    }
    isRequireNewPassword() {
        return this._authState == _models_AuthState__WEBPACK_IMPORTED_MODULE_3__["AuthState"].REQUIRE_NEW_PASSWORD;
    }
    isSignIn() {
        return this._authState == _models_AuthState__WEBPACK_IMPORTED_MODULE_3__["AuthState"].SIGN_IN;
    }
    isConfirmSignIn() {
        return this._authState == _models_AuthState__WEBPACK_IMPORTED_MODULE_3__["AuthState"].CONFIRM_SIGN_IN;
    }
}
AdminLoginComponent.ɵfac = function AdminLoginComponent_Factory(t) { return new (t || AdminLoginComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_4__["FhirService"])); };
AdminLoginComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AdminLoginComponent, selectors: [["app-admin-login"]], inputs: { disableRegistration: "disableRegistration" }, decls: 2, vars: 0, consts: [[1, "alert", "alert-info"]], template: function AdminLoginComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Loading Login Authorization Form");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vYWRtaW4tbG9naW4vYWRtaW4tbG9naW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2FkbWluLWxvZ2luL2FkbWluLWxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminLoginComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-admin-login',
                templateUrl: './admin-login.component.html',
                styleUrls: ['./admin-login.component.scss']
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }, { type: _services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"] }, { type: app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_4__["FhirService"] }]; }, { disableRegistration: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "Mue4":
/*!****************************************************!*\
  !*** ./src/app/shared/models/subscription-plan.ts ***!
  \****************************************************/
/*! exports provided: SubscriptionPlan */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriptionPlan", function() { return SubscriptionPlan; });
class SubscriptionPlan {
    getUnitTypeNameForQuantity(quantity) {
        if (quantity == 1 && this.unitType.endsWith("s")) {
            return this.getSingularUnitType();
        }
        return this.unitType;
    }
    getSingularUnitType() {
        return this.unitType.substring(0, this.unitType.length - 1);
    }
}


/***/ }),

/***/ "NEzX":
/*!*************************************************************************************************!*\
  !*** ./src/app/reports/report-items/flagged-questions-list/flagged-questions-list.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: FlaggedQuestionsListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlaggedQuestionsListComponent", function() { return FlaggedQuestionsListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/reports/models/base-report-item-component */ "D8FE");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");





function FlaggedQuestionsListComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 7);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r0.description, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function FlaggedQuestionsListComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Items of Concern");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "This client has no items of concern to address.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function FlaggedQuestionsListComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "app-scale-questions-list", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const assessment_r3 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](assessment_r3.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", ctx_r2.getQuestionsForAssessment(assessment_r3));
} }
class FlaggedQuestionsListComponent extends app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__["BaseReportItemComponent"] {
    constructor() {
        super();
        this._questionsByAssessments = new Map();
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    /**
     * data => {
     * 'assessments' => [
     *   'assessment: 'dass-21', 'scale': '88....'
     *  ]
     * }
     * @param data
     * @param results
     * @param variables
     */
    setReportData(data, results, variables) {
        if (!data || !results) {
            return;
        }
        this._itemTitle = data.title;
        this._description = data.description;
        if (data.assessments) {
            this._assessments = [];
            let assessments = data.assessments.forEach(c => {
                let result = results.find(r => r.assessment.uid == c);
                if (!result) {
                    return;
                }
                let questions = result.assessment.getFlaggedQuestions();
                if (questions.length) {
                    this._questionsByAssessments.set(result.assessment, questions);
                    this._assessments.push(result.assessment);
                }
            });
        }
    }
    shouldPrintBreak(index) {
        // since index is 0 based the the user scales per page is 1 based we convert.
        return ((index + 1) == this._scales_per_page);
    }
    get ScalesPerPage() {
        return this._scales_per_page;
    }
    get Assessments() {
        return this._assessments;
    }
    getQuestionsForAssessment(assessment) {
        return this._questionsByAssessments.get(assessment);
    }
    get hasFocusQuestions() {
        return this._questionsByAssessments.size > 0;
    }
    get description() {
        return this._description;
    }
    get title() {
        return this._itemTitle;
    }
}
FlaggedQuestionsListComponent.ɵfac = function FlaggedQuestionsListComponent_Factory(t) { return new (t || FlaggedQuestionsListComponent)(); };
FlaggedQuestionsListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: FlaggedQuestionsListComponent, selectors: [["app-flagged-questions-list"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 8, vars: 4, consts: [[1, "card", "card-wider", "card-cascade"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], [3, "innerHTML", 4, "ngIf"], ["class", "card card-cascade wider", 4, "ngIf"], ["class", "card card-cascade wider d-print-visible-block page-break-inside-avoid", 4, "ngFor", "ngForOf"], [3, "innerHTML"], [1, "card", "card-cascade", "wider"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "card", "card-cascade", "wider", "d-print-visible-block", "page-break-inside-avoid"], [1, "card-body", "pt-1"], [3, "Questions"]], template: function FlaggedQuestionsListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, FlaggedQuestionsListComponent_div_5_Template, 1, 1, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, FlaggedQuestionsListComponent_div_6_Template, 7, 0, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, FlaggedQuestionsListComponent_div_7_Template, 6, 2, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.description);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasFocusQuestions);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.Assessments);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_3__["ScaleQuestionsListComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FlaggedQuestionsListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-flagged-questions-list',
                templateUrl: './flagged-questions-list.component.html'
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "NW42":
/*!*****************************************************************!*\
  !*** ./src/app/library-assets/asset-new/asset-new.component.ts ***!
  \*****************************************************************/
/*! exports provided: AssetNewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetNewComponent", function() { return AssetNewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/services/unique-id.service */ "rx/G");
/* harmony import */ var _models_library_asset__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/library-asset */ "0B44");
/* harmony import */ var _services_asset_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/asset.service */ "Cy3R");
/* harmony import */ var _shared_back_button_back_button_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shared/back-button/back-button.component */ "zXXW");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */














function tagValidator(control) {
    let value = control.value || "";
    if (value !== "") {
        let list = value.trim().split(",").map(v => v.trim()).filter(v => v != "");
        if (list.length < 0) {
            return { 'tags': 'Tags must be a comma separated list with values' };
        }
    }
    return null;
}
class AssetNewComponent {
    constructor(formBuilder, assetService, route, alertService, uuidService) {
        this.formBuilder = formBuilder;
        this.assetService = assetService;
        this.route = route;
        this.alertService = alertService;
        this.uuidService = uuidService;
        this.assetTypes = ['assignment', 'article'];
        this.isSaving = false;
        this.assetForm = this.formBuilder.group({
            title: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            description: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            type: [this.assetTypes[0], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            originalCreator: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            creatorLink: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            content: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            journal: [],
            tags: [null, tagValidator]
        });
    }
    ngOnInit() {
        this.route.params.subscribe(params => {
            let type = params.type || this.assetTypes[0];
            if (type == 'exercises') {
                type = this.assetTypes[0];
            }
            else {
                type = this.assetTypes[1];
            }
            this.assetType = type;
        });
    }
    save() {
        this.isSaving = true;
        let values = this.assetForm.value;
        let tags = this.assetForm.value.tags || "";
        let tagList = tags.split(",").map(v => v.trim()).filter(v => v != "");
        // now we need to generate any asset ids if we have them.
        let saveData = Object.assign(new _models_library_asset__WEBPACK_IMPORTED_MODULE_5__["LibraryAsset"](), values);
        let template = document.createElement('template');
        template.innerHTML = saveData.content;
        let answers = template.content.querySelectorAll('.exercise-answer');
        if (answers && answers.length) {
            // we don't support IE11 anymore so this is safe.
            answers.forEach((el) => {
                if (!el.hasAttribute('id')) {
                    el.id = saveData.getAnswerIdPrefix() + this.uuidService.generate();
                }
            });
            // now grab the updated content and lets store it off
            // server will sanitize this in case there's any junk here.
            saveData.content = template.innerHTML;
        }
        saveData.tags = tagList;
        saveData.type = this.assetType;
        this.alertService.info("Saving " + saveData.title);
        this.assetService.saveAsset(saveData).then(result => {
            this.isSaving = false;
            this.alertService.success(saveData.title + " has saved");
        })
            .catch(error => {
            this.alertService.error(saveData.title + " failed to save");
            console.error(error);
            this.isSaving = false;
        });
    }
}
AssetNewComponent.ɵfac = function AssetNewComponent_Factory(t) { return new (t || AssetNewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_asset_service__WEBPACK_IMPORTED_MODULE_6__["AssetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_4__["UniqueIdService"])); };
AssetNewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AssetNewComponent, selectors: [["dac-asset-new"]], decls: 43, vars: 3, consts: [[1, "row"], [1, "col-1"], [1, "col"], [1, "h2-responsive", "text-center"], [1, "card", "card-cascade", "narrower"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], [3, "formGroup"], [1, "form-group"], ["for", "name"], ["type", "text", "formControlName", "title", 1, "form-control"], ["for", "description"], ["formControlName", "description", 1, "form-control"], ["for", "creator"], ["type", "text", "formControlName", "originalCreator", 1, "form-control"], ["type", "text", "formControlName", "creatorLink", 1, "form-control"], ["formControlName", "content", 1, "form-control"], ["formControlName", "journal", 1, "form-control"], ["formControlName", "tags", 1, "form-control"], ["type", "submit", "value", "Save Asset", 1, "btn", "btn-primary", 3, "disabled", "click"]], template: function AssetNewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "app-back-button");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h2", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "New Asset");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "h3", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "form", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "label", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16, "Title:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](17, "input", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "label", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20, "Description:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](21, "textarea", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "label", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24, "Creator:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](25, "input", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "label", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28, "Creator Url:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](29, "input", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "label", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](32, "Content:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](33, "textarea", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](34, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "label", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](36, "Journal:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](37, "textarea", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](38, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "label", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](40, "Tags (comma separated):");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](41, "textarea", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](42, "input", 20);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssetNewComponent_Template_input_click_42_listener() { return ctx.save(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        var tmp_0_0 = null;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"]((tmp_0_0 = ctx.assetForm.get("title")) == null ? null : tmp_0_0.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.assetForm);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](29);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx.assetForm.valid || ctx.isSaving);
    } }, directives: [_shared_back_button_back_button_component__WEBPACK_IMPORTED_MODULE_7__["BackButtonComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS1hc3NldHMvYXNzZXQtbmV3L2Fzc2V0LW5ldy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBIiwiZmlsZSI6InNyYy9hcHAvbGlicmFyeS1hc3NldHMvYXNzZXQtbmV3L2Fzc2V0LW5ldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssetNewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-asset-new',
                templateUrl: './asset-new.component.html',
                styleUrls: ['./asset-new.component.scss']
            }]
    }], function () { return [{ type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _services_asset_service__WEBPACK_IMPORTED_MODULE_6__["AssetService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }, { type: app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_4__["UniqueIdService"] }]; }, null); })();


/***/ }),

/***/ "NYhC":
/*!**************************************************!*\
  !*** ./src/app/theme/footer/footer.component.ts ***!
  \**************************************************/
/*! exports provided: FooterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FooterComponent", function() { return FooterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






const _c0 = function () { return ["/terms-and-conditions"]; };
const _c1 = function () { return ["/privacy"]; };
const _c2 = function () { return ["/baa"]; };
function FooterComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h5", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "i", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "h5", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "i", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "h5", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "i", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16, " 2018 ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "ul");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "a", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22, "Terms and Conditions");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](24, "a", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](25, "Privacy Policy");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "a", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28, "Business Associates Agreement");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("href", ctx_r0.mailLink, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.supportEmail);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("href", ctx_r0.phoneLink, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.supportPhone);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("href", ctx_r0.copyrightURL, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.copyrightTitle);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](9, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](10, _c1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](11, _c2));
} }
function FooterComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h5", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "i", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r1.currentYear, " Powered By ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("href", ctx_r1.copyrightURL, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.copyrightTitle);
} }
const _c3 = function (a0) { return { "fixed-bottom": a0 }; };
class FooterComponent {
    constructor(dacConfig) {
        this.dacConfig = dacConfig;
        this.fixedBottom = false;
    }
    get showLargeFooter() {
        return this.dacConfig.isFeatureEnabled("footer.large");
    }
    get showCopyrightFooter() {
        return this.dacConfig.isFeatureEnabled("footer.copyright");
    }
    get currentYear() {
        return (new Date()).getFullYear();
    }
    ngOnInit() {
    }
    get supportEmail() {
        return this.dacConfig.supportEmail;
    }
    get supportPhone() {
        return this.dacConfig.supportPhone;
    }
    get copyrightTitle() {
        return this.dacConfig.copyrightTitle;
    }
    get mailLink() {
        return "mailto:" + this.supportEmail;
    }
    get phoneLink() {
        return "tel:" + this.supportPhone;
    }
    get copyrightURL() {
        return this.dacConfig.copyrightURL;
    }
}
FooterComponent.ɵfac = function FooterComponent_Factory(t) { return new (t || FooterComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"])); };
FooterComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: FooterComponent, selectors: [["dac-footer"]], inputs: { fixedBottom: "fixedBottom" }, decls: 3, vars: 5, consts: [[1, "page-footer", "center-on-small-only", "mt-0", "primary-color", 3, "ngClass"], ["class", "footer-info", 4, "ngIf"], [1, "footer-info"], [1, "container-fluid"], [1, "row"], [1, "col-sm"], [1, "h5-responsive", "mt-3"], ["aria-hidden", "true", 1, "fa", "fa-envelope", "green-text"], [3, "href"], ["aria-hidden", "true", 1, "fa", "fa-phone", "blue-text"], ["aria-hidden", "true", 1, "fa", "fa-copyright"], [3, "routerLink"], [1, "h5-responsive", "mt-3", "mb-3", "text-center"]], template: function FooterComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "footer", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, FooterComponent_div_1_Template, 29, 12, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, FooterComponent_div_2_Template, 9, 3, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c3, ctx.fixedBottom));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showLargeFooter);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showCopyrightFooter);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterLinkWithHref"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGhlbWUvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBIiwiZmlsZSI6InNyYy9hcHAvdGhlbWUvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FooterComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-footer',
                templateUrl: './footer.component.html',
                styleUrls: ['./footer.component.scss']
            }]
    }], function () { return [{ type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"] }]; }, { fixedBottom: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "NlNA":
/*!***************************************!*\
  !*** ./src/app/shared/models/user.ts ***!
  \***************************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
/* harmony import */ var _role__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./role */ "Y5fV");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class User {
    constructor() {
        this._role = _role__WEBPACK_IMPORTED_MODULE_0__["Role"].Registered;
        this._caps = [];
        this._enabled = true;
    }
    get companyPrimaryContact() {
        return this._companyPrimaryContact;
    }
    set companyPrimaryContact(v) {
        this._companyPrimaryContact = v;
    }
    get companyName() {
        return this._companyName;
    }
    set companyName(v) {
        this._companyName = v;
    }
    get enabled() {
        return this._enabled;
    }
    set enabled(value) {
        this._enabled = value;
    }
    set companyID(v) {
        this._companyID = v;
    }
    get companyID() {
        return this._companyID;
    }
    get username() {
        return this._username;
    }
    set username(v) {
        this._username = v;
    }
    set password(v) {
        this._password = v;
    }
    get password() {
        return this._password;
    }
    set id(v) {
        this._id = v;
    }
    get id() {
        return this._id;
    }
    get capabilities() {
        return this._caps;
    }
    set capabilities(v) {
        this._caps = v;
    }
    set role(v) {
        this._role = v;
    }
    get role() {
        return this._role;
    }
    get roleName() {
        return _role__WEBPACK_IMPORTED_MODULE_0__["Role"][this._role];
    }
    set firstName(v) {
        this._firstName = v;
    }
    get firstName() {
        return this._firstName;
    }
    set lastName(v) {
        this._lastName = v;
    }
    get lastName() {
        return this._lastName;
    }
    set subscription(v) {
        this._subscription = v;
    }
    get subscription() {
        return this._subscription;
    }
    hasCapability(cap) {
        return this._caps && this._caps.some(c => c == cap);
    }
    getDisplayName() {
        let displayName = [];
        if (this.firstName) {
            displayName.push(this.firstName);
        }
        if (this.lastName) {
            displayName.push(" ");
            displayName.push(this.lastName);
        }
        if (!displayName.length) {
            displayName = [this._username];
        }
        return displayName.join("");
    }
    hasActiveSubscription() {
        if (this.subscription) {
            return this.subscription.isActiveSubscription();
        }
        // for people who do not have a subscription object, we return true here.
        return true;
    }
}


/***/ }),

/***/ "Nt43":
/*!***********************************************!*\
  !*** ./src/app/companies/companies.module.ts ***!
  \***********************************************/
/*! exports provided: CompaniesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompaniesModule", function() { return CompaniesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _theme_theme_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../theme/theme.module */ "BLWB");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/shared.module */ "PCNd");
/* harmony import */ var _login_login_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../login/login.module */ "X3zk");
/* harmony import */ var _companies_routing_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./companies-routing.module */ "vfgt");
/* harmony import */ var _signup_signup_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./signup/signup.component */ "35sD");
/* harmony import */ var _pricing_table_pricing_table_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pricing-table/pricing-table.component */ "i413");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */










class CompaniesModule {
}
CompaniesModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: CompaniesModule });
CompaniesModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function CompaniesModule_Factory(t) { return new (t || CompaniesModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_8__["CommonModule"],
            _theme_theme_module__WEBPACK_IMPORTED_MODULE_1__["ThemeModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
            _login_login_module__WEBPACK_IMPORTED_MODULE_3__["LoginModule"],
            _companies_routing_module__WEBPACK_IMPORTED_MODULE_4__["CompaniesRoutingModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](CompaniesModule, { declarations: [_signup_signup_component__WEBPACK_IMPORTED_MODULE_5__["SignupComponent"], _pricing_table_pricing_table_component__WEBPACK_IMPORTED_MODULE_6__["PricingTableComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__["CommonModule"],
        _theme_theme_module__WEBPACK_IMPORTED_MODULE_1__["ThemeModule"],
        _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
        _login_login_module__WEBPACK_IMPORTED_MODULE_3__["LoginModule"],
        _companies_routing_module__WEBPACK_IMPORTED_MODULE_4__["CompaniesRoutingModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CompaniesModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_8__["CommonModule"],
                    _theme_theme_module__WEBPACK_IMPORTED_MODULE_1__["ThemeModule"],
                    _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ReactiveFormsModule"],
                    _login_login_module__WEBPACK_IMPORTED_MODULE_3__["LoginModule"],
                    _companies_routing_module__WEBPACK_IMPORTED_MODULE_4__["CompaniesRoutingModule"]
                ],
                declarations: [_signup_signup_component__WEBPACK_IMPORTED_MODULE_5__["SignupComponent"], _pricing_table_pricing_table_component__WEBPACK_IMPORTED_MODULE_6__["PricingTableComponent"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "NuUg":
/*!**************************************************!*\
  !*** ./src/app/shared/services/order.service.ts ***!
  \**************************************************/
/*! exports provided: OrderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OrderService", function() { return OrderService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_order__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/order */ "WpHV");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var app_shared_services_pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/pagination-results-loader-factory.service */ "9qJt");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







class OrderService {
    constructor(http, _paginationFactory) {
        // this._lastOrder = new Order();
        // this._lastOrder.status = 'paid';
        // this._lastOrder.id = 1;
        this.http = http;
        this._paginationFactory = _paginationFactory;
        // let item = new OrderItem();
        // item.price = 5.00;
        // item.quantity = 5;
        // item.item = {name: "Sexual Addiction"};
        // item.total = 25.00;
        // this._lastOrder.items.push(item);
        // this._lastOrder.total = item.total;
    }
    getOrder(orderId) {
        return this.http.get("/orders/" + orderId).then((orderData) => {
            return this.populateOrder(orderData);
        });
    }
    storeLastOrder(order) {
        this._lastOrder = order;
    }
    getLastOrder() {
        if (this._lastOrder) {
            return Promise.resolve(this._lastOrder);
        }
        return this.getPaginatedOrderHistory().then((data) => {
            if (data.results.length) {
                // return the first order since they are in reverse order.
                this._lastOrder = data.results[0];
            }
            else {
                this._lastOrder = null;
            }
            return this._lastOrder;
        });
    }
    getOrderHistory() {
        let queryFunction = this.getPaginatedOrderHistory.bind(this);
        this._resultsLoader = this._paginationFactory.getResultsLoader(queryFunction);
        return this._resultsLoader.getResults()
            .then((orders) => {
            this._orders = orders;
            return orders;
        });
    }
    hasMoreResults() {
        return this._resultsLoader.hasMoreResults();
    }
    loadMore() {
        // load more results
        return this._resultsLoader.loadMore()
            .then((results) => {
            console.log(results);
            this._orders = results;
            return results;
        });
    }
    getPaginatedOrderHistory(offset) {
        var data = {
            _offset: offset || null,
            _limit: 10
        };
        return this.http.get("/orders/", data).then((data) => {
            if (data && data.results.length) {
                data.results.map(o => {
                    return this.populateOrder(o);
                });
            }
            return data;
        });
    }
    populateOrder(src) {
        let object = Object.assign(new _models_order__WEBPACK_IMPORTED_MODULE_1__["Order"](), src);
        object.creation_date = new Date(src.creation_date);
        object.last_update_date = new Date(src.last_update_date);
        return object;
    }
}
OrderService.ɵfac = function OrderService_Factory(t) { return new (t || OrderService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](app_shared_services_pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_3__["PaginatedResultsLoaderFactory"])); };
OrderService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: OrderService, factory: OrderService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](OrderService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"] }, { type: app_shared_services_pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_3__["PaginatedResultsLoaderFactory"] }]; }, null); })();


/***/ }),

/***/ "O8bA":
/*!**************************************************************!*\
  !*** ./src/app/shared/services/assessment-grader.service.ts ***!
  \**************************************************************/
/*! exports provided: AssessmentGraderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentGraderService", function() { return AssessmentGraderService; });
/* harmony import */ var _unique_id_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unique-id.service */ "rx/G");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_assessment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/assessment */ "WWiz");
/* harmony import */ var _models_scale_result__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/scale-result */ "+u/X");
/* harmony import */ var _models_question_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/question-type */ "F+TI");
/* harmony import */ var _models_assessment_result__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/assessment-result */ "TNk8");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








// TODO: stephen would it make sense to rename this ScaleResultNode to something else as it can be confused with ScaleResult
class ScaleResultNode {
    constructor(data) {
        this._children = [];
        this._data = data;
        this._calculated = false;
        if (data.scale.type == "CriteriaThreshold") {
            this._calculatorStategy = new ScaleCalculatorCriteriaThresholdStrategy(data.scale);
        }
        else if (data.scale.type == "Mean") {
            this._calculatorStategy = new ScaleCalculatorMeanStrategy();
        }
        else {
            this._calculatorStategy = new ScaleCalculatorSumStrategy();
        }
    }
    get children() {
        return this._children;
    }
    set children(v) {
        this._children = v;
    }
    get data() {
        return this._data;
    }
    get calculated() {
        return this._calculated;
    }
    calculateQuestion(question) {
        this._data = this._calculatorStategy.calculate(this._data, question);
    }
    calculateTotal(limit) {
        if (!limit) {
            limit = 0;
        }
        if (limit > 50) {
            throw new Error("Recursive limit reached.  Maximum child depth was greater than 50 nodes");
        }
        let score = this.data.score;
        if (!this.calculated && this.children.length) {
            this.children.forEach(c => c.calculateTotal(limit + 1));
            this.data.score = this.children.reduce((prev, current) => current.data.score + prev, score);
        }
        this._calculated = true;
    }
}
class ScaleCalculatorSumStrategy {
    constructor() {
    }
    calculate(scaleResult, question) {
        scaleResult.score += question.getComputedScore();
        return scaleResult;
    }
}
class ScaleCalculatorMeanStrategy {
    constructor() {
        this.itemCount = 0;
        this.sum = 0;
    }
    calculate(scaleResult, question) {
        this.itemCount += 1;
        this.sum += question.getComputedScore();
        scaleResult.score = this.sum / this.itemCount;
        return scaleResult;
    }
}
class ScaleCalculatorCriteriaThresholdStrategy {
    constructor(scale) {
        let gradingData = scale.gradingData;
        this.requiredQuestions = gradingData.requiredQuestions || 0;
        this.requiredScoreThreshold = gradingData.requiredScoreThreshold || 0;
        this.currentQuestionsMatchingThreshold = 0;
    }
    calculate(scaleResult, question) {
        let score = question.getComputedScore();
        if (score >= this.requiredScoreThreshold) {
            this.currentQuestionsMatchingThreshold += 1;
        }
        if (this.currentQuestionsMatchingThreshold >= this.requiredQuestions) {
            scaleResult.score = 1; // we've met the diagnostic criteria
        }
        else {
            scaleResult.score = 0;
        }
        return scaleResult;
    }
}
class AssessmentGraderService {
    constructor(_uuid) {
        this._uuid = _uuid;
    }
    grade(assessment) {
        if (!assessment) {
            throw new Error("assessment is missing.  Cannot grade");
        }
        var result = new _models_assessment_result__WEBPACK_IMPORTED_MODULE_5__["AssessmentResult"]();
        result.id = this._uuid.generate();
        result.assessment = Object.assign(new _models_assessment__WEBPACK_IMPORTED_MODULE_2__["Assessment"](), assessment);
        result.scaleResults = this.gradeScales(assessment);
        result.flaggedQuestions = this.flagQuestions(assessment);
        return result;
    }
    flagQuestions(assessment) {
        return assessment.question_sets.map(qs => {
            return qs.questions.map(q => {
                if (q.hasFlagCondition
                    && q.flaggedCondition.shouldFlagQuestion(q, qs)) {
                    // set flag here
                    q.isFlaggedForReview = true;
                    return q;
                }
                return null;
            })
                .filter(q => q != null);
        })
            .filter(questions => questions.length)
            .reduce((prev, curr) => curr = curr.concat(prev), []);
    }
    gradeScales(assessment) {
        var scaleResults = assessment.scales.map(s => {
            let scaleResult = new _models_scale_result__WEBPACK_IMPORTED_MODULE_3__["ScaleResult"]();
            scaleResult.scale = s;
            scaleResult.range = s.ranges[0] ? s.ranges[0] : null;
            return scaleResult;
        });
        var resultsByScale = new Map();
        // create the initial loop
        scaleResults.forEach(sr => {
            if (!resultsByScale[sr.scale.id]) {
                resultsByScale[sr.scale.id] = new ScaleResultNode(sr);
            }
        });
        // now create the children
        scaleResults.forEach(sr => {
            // now we are going to populate the trees
            if (sr.scale.hasSubScales()) {
                resultsByScale[sr.scale.id].children = sr.scale.getSubScaleIds().map(id => resultsByScale[id]);
            }
        });
        // if there are any branching or skip-logic questions we want to only grade those.
        let questionSets = assessment.getQuestionSetsForDisplay();
        questionSets.forEach(qs => {
            qs.questions.forEach(q => {
                if (this.shouldGradeQuestion(q)) {
                    let resultNode = resultsByScale[q.assessment_scale.id];
                    this.gradeQuestion(q, qs, resultNode);
                }
            });
        });
        // now that the scales are graded we go through and do depth first calculation
        scaleResults.forEach(sr => {
            let resultNode = resultsByScale[sr.scale.id];
            resultNode.calculateTotal(); // calculate out the tree of the item.
            sr.range = sr.scale.getRangeForScore(sr.score);
        });
        return scaleResults;
    }
    calculateScoreWithSubScores(resultsByScale, result, limit) {
        if (!result.scale.hasSubScales()) {
            return result.score;
        }
        if (limit >= 50) {
            throw new Error("recursive limit reached for scale calculation.  Check scales for cycles");
        }
        // TODO: stephen if we introduced a strategy pattern here as well we could deal with different kinds
        // of sub-scal summations -- thresholds, means, averages, etc.
        let score = result.score;
        let scales = result.scale.getSubScaleIds()
            .forEach(scaleId => {
            let subScaleResult = resultsByScale[scaleId];
            score += this.calculateScoreWithSubScores(resultsByScale, subScaleResult, limit + 1);
        });
        return score;
    }
    shouldGradeQuestion(q) {
        if (q.skip_scoring) {
            return false;
        }
        if (q.type != _models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].MultipleChoice
            && q.type != _models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].SingleChoice) {
            return false;
        }
        return true;
    }
    gradeSingleChoice(q, qs, scaleResult) {
        let addScore = q.is_reversed ? 0 : 1;
        let score = qs.answer_start_value;
        if (q.answerForSave.isSelected) {
            // start is 0, answer is 1, reverse, answer is 0
            score += qs.answer_start_value + addScore;
        }
        // add in the multiplier... defaults to 1
        // 0 is disabled, so don't multiply.
        if (q.assessment_scale.multiplier != 0) {
            score = score * q.assessment_scale.multiplier;
        }
        q.setComputedScore(score);
        scaleResult.calculateQuestion(q);
    }
    gradeMultipleChoice(q, qs, scaleResult) {
        // we are only allowing multiple choice questions to be graded right now
        let labels = q.CustomLabels.length ? q.CustomLabels : qs.labels;
        let totalAnswers = labels.length;
        let score = labels.indexOf(q.answer);
        // if we can't find the label we have issues
        if (score < 0) {
            console.error("Scale not found for question " + q.id);
            return;
        }
        let label = labels[score];
        // if the label is something like Not Applicable
        // we want to skip over scoring that question.
        if (label.skipScoring) {
            return;
        }
        // grab the actual scale
        if (q.is_reversed) {
            // since the startValue is inclusive we must subtract one from the count
            let endValue = qs.answer_start_value + totalAnswers - 1;
            let interval = score - qs.answer_start_value;
            score = endValue - score;
        }
        else {
            score = qs.answer_start_value + score;
        }
        // add in the multiplier... defaults to 1
        // 0 is disabled, so don't multiply.
        if (q.assessment_scale.multiplier != 0) {
            score = score * q.assessment_scale.multiplier;
        }
        q.setComputedScore(score);
        scaleResult.calculateQuestion(q);
    }
    gradeQuestion(question, qs, scaleResult) {
        if (question.type == _models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].MultipleChoice) {
            return this.gradeMultipleChoice(question, qs, scaleResult);
        }
        else if (question.type == _models_question_type__WEBPACK_IMPORTED_MODULE_4__["QuestionType"].SingleChoice) {
            return this.gradeSingleChoice(question, qs, scaleResult);
        }
    }
}
AssessmentGraderService.ɵfac = function AssessmentGraderService_Factory(t) { return new (t || AssessmentGraderService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_unique_id_service__WEBPACK_IMPORTED_MODULE_0__["UniqueIdService"])); };
AssessmentGraderService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AssessmentGraderService, factory: AssessmentGraderService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AssessmentGraderService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _unique_id_service__WEBPACK_IMPORTED_MODULE_0__["UniqueIdService"] }]; }, null); })();


/***/ }),

/***/ "OApS":
/*!*******************************************************!*\
  !*** ./src/app/shared/services/dac-config.service.ts ***!
  \*******************************************************/
/*! exports provided: DacConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DacConfig", function() { return DacConfig; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");


class DacConfig {
    constructor(_environment) {
        this._environment = _environment;
        this._is_dev_environment = false;
        this._enabledFeatures = this._environment.features;
        this._stripePublicKey = this._environment.stripePublicKey;
        this._stripeChargeName = this._environment.stripeChargeName;
        this._applicationTitle = this._environment.applicationTitle;
        this._applicationLogoUrl = this._environment.applicationLogo;
        this._applicationLogoTitle = this._environment.applicationLogoTitle;
        this._api_url = this._environment.apiURL;
        this._supportEmail = this._environment.supportEmail;
        this._supportPhone = this._environment.supportPhone;
        this._reportHeaderImgURL = this._environment.reportHeaderImgURL;
        this._cognitoConfig = this._environment.awsCognitoConfig;
        this._freeTrialPeriod = this._environment.freeTrialPeriod;
        this.window = window;
        let host = this.window.location.host;
        this._take_test_url = this.window.location.protocol + "//" + host + "/login";
        this._skinClasses = this._environment.skinClasses || [];
        this._seamlessMode = sessionStorage.getItem("seamlessMode") === "true";
        if (this._seamlessMode) {
            this.setupSeamlessModeForSession(sessionStorage.getItem('skin'));
        }
        else if (sessionStorage.getItem('skin')) {
            this.setupSkinForSession(sessionStorage.getItem('skin'));
        }
        this._ssoIssuer = sessionStorage.getItem("ssoIssuer");
        if (this._environment.smartConfig && this._environment.smartConfig.smartStyleUrl) {
            this._smartConfigStyleUrl = this._environment.smartConfig.smartStyleUrl;
        }
        this._smartStyles = null;
    }
    getAWSConfig() {
    }
    setupSkinForSession(skin) {
        this._skinClasses = skin.split(" ");
    }
    is_dev_host(host) {
        return host === "discoverandchange.dev" || host === "localhost:8080"
            || host === "localhost:4200"
            || host === 'addo-dev.discoverandchange.com';
    }
    get smartStyles() {
        return this._smartStyles;
    }
    set smartStyles(v) {
        this._smartStyles = v;
    }
    get smartConfigStyleUrl() {
        return this._smartConfigStyleUrl;
    }
    set smartConfigStyleUrl(v) {
        this._smartConfigStyleUrl = v;
    }
    get freeTrialPeriod() {
        return this._freeTrialPeriod;
    }
    get take_test_url() {
        return this._take_test_url;
    }
    get api_url() {
        return this._api_url;
    }
    get is_dev_environment() {
        return this._is_dev_environment;
    }
    get stripe_charge_name() {
        return this._stripeChargeName;
    }
    get stripe_public_key() {
        return this._stripePublicKey;
    }
    isFeatureEnabled(feature) {
        return this._enabledFeatures[feature] === true;
    }
    get applicationLogoTitle() {
        return this._applicationLogoTitle;
    }
    set applicationLogoTitle(value) {
        this._applicationLogoTitle = value;
    }
    get applicationLogoUrl() {
        return this._applicationLogoUrl;
    }
    set applicationLogoUrl(value) {
        this._applicationLogoUrl = value;
    }
    get applicationTitle() {
        return this._applicationTitle;
    }
    set applicationTitle(value) {
        this._applicationTitle = value;
    }
    set supportEmail(value) {
        this._supportEmail = value;
    }
    get supportPhone() {
        return this._supportPhone;
    }
    set supportPhone(value) {
        this._supportPhone = value;
    }
    get skinClasses() {
        return this._skinClasses;
    }
    replaceSkinClasses(skinClasses) {
        if (!skinClasses && skinClasses.length <= 0) {
            throw new Error("Invalid Skin Classes.  Must be an array with length greater than 0");
        }
        this._skinClasses = skinClasses;
        sessionStorage.setItem('skin', skinClasses.join(" "));
    }
    addSkinClass(skinClass) {
        if (skinClass.length <= 0) {
            throw new Error("Skin class must be set ");
        }
        this._skinClasses.push(skinClass);
    }
    get navBarClass() {
        return this._environment.navBarClass;
    }
    get reportHeaderImgURL() {
        return this._reportHeaderImgURL;
    }
    set reportHeaderImgURL(value) {
        this._reportHeaderImgURL = value;
    }
    hasPartner(partner) {
        return this._environment.partners.indexOf(partner) >= 0;
    }
    isAssessmentEnabled(uid) {
        if (this._environment.disabledAssessments.length == 0) {
            return true;
        }
        else {
            return this._environment.disabledAssessments.indexOf(uid) < 0;
        }
    }
    get copyrightURL() {
        return this._environment.copyrightURL;
    }
    get copyrightTitle() {
        return this._environment.copyrightTitle;
    }
    get seamlessMode() {
        return this._seamlessMode;
    }
    set seamlessMode(v) {
        this._seamlessMode = v;
    }
    get ssoIssuer() {
        return this._ssoIssuer;
    }
    set ssoIssuer(v) {
        this._ssoIssuer = v;
    }
    setupSSOIssuerForSession(issuer) {
        this._ssoIssuer = issuer;
        sessionStorage.setItem("ssoIssuer", issuer);
    }
    setupSeamlessModeForSession(skin) {
        this.seamlessMode = true;
        sessionStorage.setItem('seamlessMode', "true");
        let skins = ['seamless'];
        if (skin) {
            skins.push(skin);
        }
        this.replaceSkinClasses(skins);
    }
    clearSeamlessModeForSession() {
        this.seamlessMode = false;
        sessionStorage.removeItem('seamlessMode');
    }
    get awsCognitoConfig() {
        return this._cognitoConfig;
    }
}
DacConfig.ɵfac = function DacConfig_Factory(t) { return new (t || DacConfig)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"]("Environment")); };
DacConfig.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: DacConfig, factory: DacConfig.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DacConfig, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: ["Environment"]
            }] }]; }, null); })();
;


/***/ }),

/***/ "OlAR":
/*!************************************************************************************!*\
  !*** ./src/app/reports/assessment-result-view/assessment-result-view.component.ts ***!
  \************************************************************************************/
/*! exports provided: AssessmentResultViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentResultViewComponent", function() { return AssessmentResultViewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/services/assessment.service */ "7myg");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/services/modal.service */ "JK/P");
/* harmony import */ var _print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../print-dialog/print-dialog.component */ "gqDk");
/* harmony import */ var app_shared_services_assessment_grader_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! app/shared/services/assessment-grader.service */ "O8bA");
/* harmony import */ var app_shared_services_assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/shared/services/assessment-result-hydrator.service */ "iFyB");
/* harmony import */ var _scale_results_table_summary_scale_results_table_summary_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../scale-results-table-summary/scale-results-table-summary.component */ "Ue/t");
/* harmony import */ var _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../report-items/therapist-scale-results/therapist-scale-results.component */ "YEXO");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






















const _c0 = ["tableSummary"];
const _c1 = ["therapistScaleResults"];
function AssessmentResultViewComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "input", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AssessmentResultViewComponent_div_2_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](); return ctx_r4.goBack(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
function AssessmentResultViewComponent_div_6_input_1_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AssessmentResultViewComponent_div_6_input_1_Template_input_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2); return ctx_r8.browserPrint(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
function AssessmentResultViewComponent_div_6_input_2_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "input", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function AssessmentResultViewComponent_div_6_input_2_Template_input_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2); return ctx_r10.saveRescoredResult(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
function AssessmentResultViewComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](1, AssessmentResultViewComponent_div_6_input_1_Template, 1, 0, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, AssessmentResultViewComponent_div_6_input_2_Template, 1, 0, "input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r1.allowPrinting);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r1.allowRescoreResults);
} }
function AssessmentResultViewComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "p", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](3, "app-spin-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4, " Loading Report data...");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} }
function AssessmentResultViewComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "h3", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6, "Summary");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](9, "app-scale-results-table-summary", 25, 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](11, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](12, "app-therapist-scale-results", 27, 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("scaleResults", ctx_r3.scaleResults);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("resultTitle", "Detailed Responses")("assessmentResult", ctx_r3.result)("scaleResults", ctx_r3.scaleResults);
} }
const _c2 = function (a0) { return { "display-therapist-notes": a0 }; };
const _c3 = function (a0, a1) { return { "col-8": a0, "col-12 text-center": a1 }; };
class AssessmentResultViewComponent {
    constructor(route, router, _assessmentService, _grader, _resultHydrator, location, elementRef, dacConfig, modalService) {
        this.route = route;
        this.router = router;
        this._assessmentService = _assessmentService;
        this._grader = _grader;
        this._resultHydrator = _resultHydrator;
        this.location = location;
        this.elementRef = elementRef;
        this.dacConfig = dacConfig;
        this.modalService = modalService;
        this._visibleScaleResults = [];
        this.allowPrinting = this.dacConfig.isFeatureEnabled('pdf.printing');
    }
    showCommandButtons() {
        return !this.dacConfig.seamlessMode;
    }
    ngOnInit() {
        this.queryParamsSubscription = this.route.queryParams.subscribe(params => {
            if (params['notes'] && params['notes'] == '1') {
                this.displayTherapistNotes = true;
            }
            else {
                this.displayTherapistNotes = false;
            }
            if (params['rescore'] && params['rescore'] == '1') {
                this.rescoreResults = true;
            }
            else {
                this.rescoreResults = false;
            }
        });
        // TODO: stephen do we need the rx switchTo piece?
        this.route.params.subscribe((params) => Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            this._clientId = params['id'];
            let resultId = params['resultId'];
            this.hasLoadedResults = false;
            try {
                let result;
                if (this.rescoreResults) {
                    let latestResult = yield this._assessmentService.getAssessmentResultWithLatestAssessment(this._clientId, resultId);
                    result = this._grader.grade(latestResult.assessment); // regrade with our latest assessment
                    console.log("Regraded score is ", result);
                }
                else {
                    result = yield this._assessmentService.getAssessmentResult(this._clientId, resultId);
                }
                this.hasLoadedResults = true;
                this.result = result;
                if (this.result == null || !this.result.scaleResults || this.result.scaleResults.length < 1) {
                    // this.goBack();
                }
                else {
                    this._visibleScaleResults = this.result.scaleResults.filter(sr => sr.scale && sr.scale.includeInReports === true);
                }
            }
            catch (error) {
                console.error(error);
                if (error && error.status === 404 || error.status === 400) {
                    // this.goBack();
                }
            }
            ;
        }));
    }
    generatePdfHtml() {
        let rootNode = this.elementRef.nativeElement;
        let itemsContainer = rootNode.querySelector(".itemsContainer");
        let textArea = rootNode.querySelector(".dc-assignment-textarea");
        if (itemsContainer && textArea) {
            let docFragment = new DocumentFragment();
            docFragment.append(itemsContainer.cloneNode(true));
            let clonedAppScaleResultsTableSummary = docFragment.querySelector("app-scale-results-table-summary");
            let clonedTherapistScales = docFragment.querySelector("app-therapist-scale-results");
            clonedAppScaleResultsTableSummary.replaceWith(this.scaleResultsTableSummaryComponent.getPrintContent());
            clonedTherapistScales.replaceWith(this.scaleResultsComponent.getPrintContent());
            let node = docFragment.querySelector('.itemsContainer');
            textArea.textContent = node.innerHTML;
        }
    }
    get allowRescoreResults() {
        return this.dacConfig.isFeatureEnabled("assessments.reports.saveresult");
    }
    saveRescoredResult() {
        console.log("Saving result ", this.result);
        this._assessmentService.clientId = this._clientId;
        this._assessmentService.saveAssessmentResult(this.result);
    }
    ngAfterViewInit() {
        // we need to let outside listeners like the server pdf generator know we have finished loading so we can generate the report
        console.log("adding dac-report-loaded class");
        document.body.classList.add("dac-report-loaded");
    }
    ngAfterContentInit() {
    }
    get scaleResults() {
        return this._visibleScaleResults;
    }
    goBack() {
        this.location.back();
    }
    get clientID() {
        return this._clientId;
    }
    get result() {
        return this._result;
    }
    set result(v) {
        this._result = v;
    }
    browserPrint() {
        if (window && window.print) {
            window.print();
        }
    }
    print() {
        this.modalService.openDialog(_print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_7__["PrintDialogComponent"]);
    }
}
AssessmentResultViewComponent.ɵfac = function AssessmentResultViewComponent_Factory(t) { return new (t || AssessmentResultViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_4__["AssessmentService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](app_shared_services_assessment_grader_service__WEBPACK_IMPORTED_MODULE_8__["AssessmentGraderService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](app_shared_services_assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_9__["AssessmentResultHydrator"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_6__["ModalService"])); };
AssessmentResultViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: AssessmentResultViewComponent, selectors: [["app-assessment-result-view"]], viewQuery: function AssessmentResultViewComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵviewQuery"](_c1, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵloadQuery"]()) && (ctx.scaleResultsTableSummaryComponent = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵloadQuery"]()) && (ctx.scaleResultsComponent = _t.first);
    } }, decls: 9, vars: 12, consts: [[1, "col", "itemsContainer", "d-print-block-visible", 3, "ngClass"], [1, "row", "report-controls"], ["class", "col-2", 4, "ngIf"], [3, "ngClass"], [1, "h1-responsive", "report-name", "text-center"], ["class", "col-2 ml-auto", 4, "ngIf"], ["class", "row", 4, "ngIf"], ["class", "row d-print-block-visible", 4, "ngIf"], [1, "col-2"], ["type", "button", "value", "Back", 1, "btn", "btn-primary", 3, "click"], [1, "col-2", "ml-auto"], ["class", "btn btn-secondary", "type", "button", "value", "Download PDF", 3, "click", 4, "ngIf"], ["class", "btn btn-secondary", "type", "button", "value", "Save Result", 3, "click", 4, "ngIf"], ["type", "button", "value", "Download PDF", 1, "btn", "btn-secondary", 3, "click"], ["type", "button", "value", "Save Result", 1, "btn", "btn-secondary", 3, "click"], [1, "row"], [1, "col"], [1, "alert", "alert-warning"], [1, "row", "d-print-block-visible"], [1, "col", "d-print-block-visible"], [1, "row", "mb-3"], [1, "card", "card-cascade", "wider", "col"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], [1, "col", 3, "scaleResults"], ["tableSummary", ""], [1, "col", 3, "resultTitle", "assessmentResult", "scaleResults"], ["therapistScaleResults", ""]], template: function AssessmentResultViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](2, AssessmentResultViewComponent_div_2_Template, 2, 0, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "h1", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](6, AssessmentResultViewComponent_div_6_Template, 3, 2, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](7, AssessmentResultViewComponent_div_7_Template, 5, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](8, AssessmentResultViewComponent_div_8_Template, 14, 4, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](7, _c2, ctx.displayTherapistNotes));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction2"](9, _c3, ctx.showCommandButtons(), !ctx.showCommandButtons()));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](ctx.result == null ? null : ctx.result.assessment.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !ctx.hasLoadedResults);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.hasLoadedResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_12__["SpinIconComponent"], _scale_results_table_summary_scale_results_table_summary_component__WEBPACK_IMPORTED_MODULE_10__["ScaleResultsTableSummaryComponent"], _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_11__["TherapistScaleResultsComponent"]], styles: [".categoryLink[_ngcontent-%COMP%] {\n    cursor: pointer;\n}\napp-scale-chart[_ngcontent-%COMP%] {\n    margin: auto auto;\n    display: block;\n    background-color: white;\n    border: 1px solid black;\n}\n.flagged[_ngcontent-%COMP%] {\n    color: red;\n}\n.flagged[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child   em[_ngcontent-%COMP%]::before {\n    position: relative;\n    top: 1px;\n    display: inline-block;\n    font-family: 'Glyphicons Halflings';\n    font-style: normal;\n    font-weight: 400;\n    line-height: 1;\n    -webkit-font-smoothing: antialiased;\n    content: \"\\e034\";\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9hc3Nlc3NtZW50LXJlc3VsdC12aWV3L2Fzc2Vzc21lbnQtcmVzdWx0LXZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGVBQWU7QUFDbkI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsdUJBQXVCO0lBQ3ZCLHVCQUF1QjtBQUMzQjtBQUNBO0lBQ0ksVUFBVTtBQUNkO0FBQ0E7SUFDSSxrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLHFCQUFxQjtJQUNyQixtQ0FBbUM7SUFDbkMsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixjQUFjO0lBQ2QsbUNBQW1DO0lBQ25DLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHMvYXNzZXNzbWVudC1yZXN1bHQtdmlldy9hc3Nlc3NtZW50LXJlc3VsdC12aWV3LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2F0ZWdvcnlMaW5rIHtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG5hcHAtc2NhbGUtY2hhcnQge1xuICAgIG1hcmdpbjogYXV0byBhdXRvO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xufVxuLmZsYWdnZWQge1xuICAgIGNvbG9yOiByZWQ7XG59XG4uZmxhZ2dlZCB0ZDpmaXJzdC1jaGlsZCBlbTo6YmVmb3JlIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdG9wOiAxcHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtZmFtaWx5OiAnR2x5cGhpY29ucyBIYWxmbGluZ3MnO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgIGNvbnRlbnQ6IFwiXFxlMDM0XCI7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](AssessmentResultViewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"],
        args: [{
                selector: 'app-assessment-result-view',
                templateUrl: './assessment-result-view.component.html',
                styleUrls: ['./assessment-result-view.component.css']
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }, { type: _shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_4__["AssessmentService"] }, { type: app_shared_services_assessment_grader_service__WEBPACK_IMPORTED_MODULE_8__["AssessmentGraderService"] }, { type: app_shared_services_assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_9__["AssessmentResultHydrator"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ElementRef"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__["DacConfig"] }, { type: app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_6__["ModalService"] }]; }, { scaleResultsTableSummaryComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"],
            args: ["tableSummary"]
        }], scaleResultsComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ViewChild"],
            args: ["therapistScaleResults"]
        }] }); })();


/***/ }),

/***/ "OujB":
/*!***********************************************************!*\
  !*** ./src/app/shared/models/multiple-choice-question.ts ***!
  \***********************************************************/
/*! exports provided: MultipleChoiceQuestion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MultipleChoiceQuestion", function() { return MultipleChoiceQuestion; });
/* harmony import */ var _list_question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./list-question */ "Kt/y");
/* harmony import */ var app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/models/question-type */ "F+TI");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class MultipleChoiceQuestion extends _list_question__WEBPACK_IMPORTED_MODULE_0__["ListQuestion"] {
    constructor() {
        super();
        this.type = app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_1__["QuestionType"].MultipleChoice;
    }
    get answer() {
        return this._answer;
    }
    set answer(v) {
        this._answer = v;
    }
    hasAnswer(ans) {
        return this.isAnswer(ans);
    }
    get isFilledOut() {
        return this._answer != null;
    }
    isAnswer(ans) {
        if (this.answer) {
            return this.answer.id === ans.id;
        }
        return false;
    }
    setSavedAnswer(answer, labels) {
        this.answer = labels.find(l => l.id == answer);
    }
    get answerDisplayText() {
        if (!this.answer) {
            return "";
        }
        return this.answer.label;
    }
    get answerForSave() {
        if (!this._answer) {
            return null;
        }
        return this._answer.id;
    }
}


/***/ }),

/***/ "PCNd":
/*!*****************************************!*\
  !*** ./src/app/shared/shared.module.ts ***!
  \*****************************************/
/*! exports provided: windowFactory, windowToken, windowProvider, SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowFactory", function() { return windowFactory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowToken", function() { return windowToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "windowProvider", function() { return windowProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _services_authenticator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/authenticator */ "gcVD");
/* harmony import */ var _services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/dac-config.service */ "OApS");
/* harmony import */ var _services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./services/assessment-hydrator.service */ "RKwW");
/* harmony import */ var _services_assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./services/assessment-result-hydrator.service */ "iFyB");
/* harmony import */ var _services_unique_id_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/unique-id.service */ "rx/G");
/* harmony import */ var _services_pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./services/pagination-results-loader-factory.service */ "9qJt");
/* harmony import */ var _services_http_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./services/http.service */ "Tdnt");
/* harmony import */ var _services_assessment_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/assessment.service */ "7myg");
/* harmony import */ var _services_client_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./services/client.service */ "oR8h");
/* harmony import */ var _assessment_picker_assessment_picker_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./assessment-picker/assessment-picker.component */ "GTRT");
/* harmony import */ var _services_stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/stripe-payment-processor.service */ "6OaT");
/* harmony import */ var _services_assessment_token_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./services/assessment-token.service */ "d+6K");
/* harmony import */ var _spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./spin-icon/spin-icon.component */ "bAL6");
/* harmony import */ var _services_assessment_compressor_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./services/assessment-compressor.service */ "oN+P");
/* harmony import */ var _feature_enabled_feature_enabled__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./feature-enabled/feature-enabled */ "KH1N");
/* harmony import */ var _condition_edit_condition_edit_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./condition-edit/condition-edit.component */ "ee6g");
/* harmony import */ var _services_question_factory_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./services/question-factory.service */ "8nxG");
/* harmony import */ var _services_assessment_grader_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./services/assessment-grader.service */ "O8bA");
/* harmony import */ var _services_question_answer_populator_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./services/question-answer-populator.service */ "/5CI");
/* harmony import */ var _search_input_search_input_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./search-input/search-input.component */ "lbjL");
/* harmony import */ var _back_button_back_button_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./back-button/back-button.component */ "zXXW");
/* harmony import */ var _services_user_service__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./services/user.service */ "kmKP");
/* harmony import */ var _services_company_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./services/company.service */ "Hu2X");
/* harmony import */ var _services_alert_service__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./services/alert.service */ "Cmua");
/* harmony import */ var _user_selector_user_selector_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./user-selector/user-selector.component */ "WcRw");
/* harmony import */ var _username_checker_username_checker_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./username-checker/username-checker.component */ "KZk/");
/* harmony import */ var _role_selector_role_selector_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./role-selector/role-selector.component */ "+tmQ");
/* harmony import */ var app_shared_services_pako_service__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! app/shared/services/pako.service */ "vPvb");
/* harmony import */ var _services_pdf_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./services/pdf.service */ "jyk5");
/* harmony import */ var _pdf_generate_btn_pdf_generate_btn_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./pdf-generate-btn/pdf-generate-btn.component */ "xWRM");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var _services_host_site_service__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./services/host-site.service */ "Taa6");
/* harmony import */ var _services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./services/sso-cross-domain-messenger */ "hkrp");
/* harmony import */ var _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./buy-item-button/buy-item-button.component */ "v9i2");
/* harmony import */ var _services_order_service__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./services/order.service */ "NuUg");
/* harmony import */ var _services_shopping_service__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./services/shopping.service */ "GlpM");
/* harmony import */ var _billing_details_billing_details_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./billing-details/billing-details.component */ "1qku");
/* harmony import */ var _billing_card_billing_card_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./billing-card/billing-card.component */ "wHro");
/* harmony import */ var _services_billing_service__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./services/billing.service */ "n9jI");
/* harmony import */ var _services_assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./services/assignment-hydrator.service */ "HY3C");
/* harmony import */ var _services_assignment_service__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./services/assignment.service */ "KMXk");
/* harmony import */ var _copy_clipboard_copy_clipboard_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./copy-clipboard/copy-clipboard.component */ "GREk");
/* harmony import */ var _services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./services/copy-clipboard.service */ "V0KM");
/* harmony import */ var _assessment_group_list_assessment_group_list_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./assessment-group-list/assessment-group-list.component */ "7Zen");
/* harmony import */ var _services_assessment_group_service__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./services/assessment-group.service */ "mSVE");
/* harmony import */ var _services_subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./services/subscription-hydrator.service */ "y5x3");
/* harmony import */ var _services_metrics_service__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./services/metrics.service */ "SPHu");
/* harmony import */ var _tabs_tabs_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../tabs/tabs.component */ "a46E");
/* harmony import */ var _tab_tab_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../tab/tab.component */ "Evwa");
/* harmony import */ var _card_card_component__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./card/card.component */ "Fe25");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @angular/material/select */ "d3UM");
/* harmony import */ var _toast_toast_module__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./toast/toast.module */ "u7j1");
/* harmony import */ var _services_fhir_service__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./services/fhir-service */ "y+jN");
/* harmony import */ var _services_questionnaire_service__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./services/questionnaire.service */ "Dhxs");
/* harmony import */ var _services_fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./services/fhir-smart-style.service */ "BP+R");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




























































// AOT compiler for production build was not recognizing third party library injection using "useValue"
// when a string literal was specified.  This blog post showed that using a factory fixed the problem
// https://stackoverflow.com/questions/43445947/window-is-undefined-when-used-as-usevalue-provider-with-angular-4-aot
function windowFactory() {
    return window;
}
const windowToken = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('Window');
const windowProvider = { provide: windowToken, useValue: window };
// import { MatDialogModule } from '@angular/material/dialog';
class SharedModule {
    static forRoot() {
        return {
            ngModule: SharedModule,
            providers: [windowProvider,
                _services_authenticator__WEBPACK_IMPORTED_MODULE_4__["Authenticator"], _services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__["DacConfig"], _services_pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_9__["PaginatedResultsLoaderFactory"], _services_assessment_service__WEBPACK_IMPORTED_MODULE_11__["AssessmentService"], _services_assessment_result_hydrator_service__WEBPACK_IMPORTED_MODULE_7__["AssessmentResultHydrator"],
                _services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_6__["AssessmentHydrator"], _services_http_service__WEBPACK_IMPORTED_MODULE_10__["HTTPService"], _services_unique_id_service__WEBPACK_IMPORTED_MODULE_8__["UniqueIdService"], _services_client_service__WEBPACK_IMPORTED_MODULE_12__["ClientService"], _services_stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_14__["StripePaymentProcessor"],
                _services_fhir_service__WEBPACK_IMPORTED_MODULE_56__["FhirService"],
                _services_assessment_token_service__WEBPACK_IMPORTED_MODULE_15__["AssessmentTokenService"], _services_assessment_compressor_service__WEBPACK_IMPORTED_MODULE_17__["AssessmentCompressorService"], _services_question_factory_service__WEBPACK_IMPORTED_MODULE_20__["QuestionFactoryService"], _services_assessment_grader_service__WEBPACK_IMPORTED_MODULE_21__["AssessmentGraderService"],
                _services_question_answer_populator_service__WEBPACK_IMPORTED_MODULE_22__["QuestionAnswerPopulator"], _services_user_service__WEBPACK_IMPORTED_MODULE_25__["UserService"], _services_company_service__WEBPACK_IMPORTED_MODULE_26__["CompanyService"], _services_alert_service__WEBPACK_IMPORTED_MODULE_27__["AlertService"], app_shared_services_pako_service__WEBPACK_IMPORTED_MODULE_31__["Pako"], _services_pdf_service__WEBPACK_IMPORTED_MODULE_32__["PdfService"], _services_host_site_service__WEBPACK_IMPORTED_MODULE_35__["HostSiteService"],
                _services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_36__["SsoCrossDomainMessenger"], _services_shopping_service__WEBPACK_IMPORTED_MODULE_39__["ShoppingService"], _services_order_service__WEBPACK_IMPORTED_MODULE_38__["OrderService"], _services_billing_service__WEBPACK_IMPORTED_MODULE_42__["BillingService"], _services_assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_43__["AssignmentHydratorService"],
                _services_assignment_service__WEBPACK_IMPORTED_MODULE_44__["AssignmentService"], _services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_46__["CopyClipboardService"], _services_assessment_group_service__WEBPACK_IMPORTED_MODULE_48__["AssessmentGroupService"], _services_subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_49__["SubscriptionHydratorService"], _services_metrics_service__WEBPACK_IMPORTED_MODULE_50__["MetricsService"],
                _services_questionnaire_service__WEBPACK_IMPORTED_MODULE_57__["QuestionnaireService"], _services_fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_58__["FhirSmartStyleService"]]
        };
    }
}
SharedModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: SharedModule });
SharedModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function SharedModule_Factory(t) { return new (t || SharedModule)(); }, providers: [], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_34__["HttpClientModule"],
            _angular_material_select__WEBPACK_IMPORTED_MODULE_54__["MatSelectModule"],
            _toast_toast_module__WEBPACK_IMPORTED_MODULE_55__["ToastModule"]
        ], _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](SharedModule, { declarations: [_assessment_picker_assessment_picker_component__WEBPACK_IMPORTED_MODULE_13__["AssessmentPickerComponent"], _spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_16__["SpinIconComponent"], _feature_enabled_feature_enabled__WEBPACK_IMPORTED_MODULE_18__["IfFeatureEnabled"], _condition_edit_condition_edit_component__WEBPACK_IMPORTED_MODULE_19__["ConditionEditComponent"],
        _search_input_search_input_component__WEBPACK_IMPORTED_MODULE_23__["SearchInputComponent"], _back_button_back_button_component__WEBPACK_IMPORTED_MODULE_24__["BackButtonComponent"], _user_selector_user_selector_component__WEBPACK_IMPORTED_MODULE_28__["UserSelectorComponent"], _role_selector_role_selector_component__WEBPACK_IMPORTED_MODULE_30__["RoleSelectorComponent"],
        _username_checker_username_checker_component__WEBPACK_IMPORTED_MODULE_29__["UsernameCheckerComponent"], _pdf_generate_btn_pdf_generate_btn_component__WEBPACK_IMPORTED_MODULE_33__["PdfGenerateBtnComponent"],
        _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_37__["BuyItemButtonComponent"],
        _billing_details_billing_details_component__WEBPACK_IMPORTED_MODULE_40__["BillingDetailsComponent"],
        _billing_card_billing_card_component__WEBPACK_IMPORTED_MODULE_41__["BillingCardComponent"],
        _copy_clipboard_copy_clipboard_component__WEBPACK_IMPORTED_MODULE_45__["CopyClipboardComponent"],
        _assessment_group_list_assessment_group_list_component__WEBPACK_IMPORTED_MODULE_47__["AssessmentGroupListComponent"],
        _tabs_tabs_component__WEBPACK_IMPORTED_MODULE_51__["TabsComponent"],
        _tab_tab_component__WEBPACK_IMPORTED_MODULE_52__["TabComponent"],
        _card_card_component__WEBPACK_IMPORTED_MODULE_53__["CardComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_34__["HttpClientModule"],
        _angular_material_select__WEBPACK_IMPORTED_MODULE_54__["MatSelectModule"],
        _toast_toast_module__WEBPACK_IMPORTED_MODULE_55__["ToastModule"]], exports: [_assessment_picker_assessment_picker_component__WEBPACK_IMPORTED_MODULE_13__["AssessmentPickerComponent"], _spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_16__["SpinIconComponent"], _feature_enabled_feature_enabled__WEBPACK_IMPORTED_MODULE_18__["IfFeatureEnabled"], _condition_edit_condition_edit_component__WEBPACK_IMPORTED_MODULE_19__["ConditionEditComponent"],
        _search_input_search_input_component__WEBPACK_IMPORTED_MODULE_23__["SearchInputComponent"], _back_button_back_button_component__WEBPACK_IMPORTED_MODULE_24__["BackButtonComponent"], _user_selector_user_selector_component__WEBPACK_IMPORTED_MODULE_28__["UserSelectorComponent"],
        _role_selector_role_selector_component__WEBPACK_IMPORTED_MODULE_30__["RoleSelectorComponent"], _username_checker_username_checker_component__WEBPACK_IMPORTED_MODULE_29__["UsernameCheckerComponent"], _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_37__["BuyItemButtonComponent"],
        _billing_details_billing_details_component__WEBPACK_IMPORTED_MODULE_40__["BillingDetailsComponent"], _billing_card_billing_card_component__WEBPACK_IMPORTED_MODULE_41__["BillingCardComponent"], _assessment_group_list_assessment_group_list_component__WEBPACK_IMPORTED_MODULE_47__["AssessmentGroupListComponent"],
        _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _pdf_generate_btn_pdf_generate_btn_component__WEBPACK_IMPORTED_MODULE_33__["PdfGenerateBtnComponent"],
        _copy_clipboard_copy_clipboard_component__WEBPACK_IMPORTED_MODULE_45__["CopyClipboardComponent"],
        _tabs_tabs_component__WEBPACK_IMPORTED_MODULE_51__["TabsComponent"],
        _tab_tab_component__WEBPACK_IMPORTED_MODULE_52__["TabComponent"],
        _card_card_component__WEBPACK_IMPORTED_MODULE_53__["CardComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SharedModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_34__["HttpClientModule"],
                    _angular_material_select__WEBPACK_IMPORTED_MODULE_54__["MatSelectModule"],
                    _toast_toast_module__WEBPACK_IMPORTED_MODULE_55__["ToastModule"]
                ],
                declarations: [_assessment_picker_assessment_picker_component__WEBPACK_IMPORTED_MODULE_13__["AssessmentPickerComponent"], _spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_16__["SpinIconComponent"], _feature_enabled_feature_enabled__WEBPACK_IMPORTED_MODULE_18__["IfFeatureEnabled"], _condition_edit_condition_edit_component__WEBPACK_IMPORTED_MODULE_19__["ConditionEditComponent"],
                    _search_input_search_input_component__WEBPACK_IMPORTED_MODULE_23__["SearchInputComponent"], _back_button_back_button_component__WEBPACK_IMPORTED_MODULE_24__["BackButtonComponent"], _user_selector_user_selector_component__WEBPACK_IMPORTED_MODULE_28__["UserSelectorComponent"], _role_selector_role_selector_component__WEBPACK_IMPORTED_MODULE_30__["RoleSelectorComponent"],
                    _username_checker_username_checker_component__WEBPACK_IMPORTED_MODULE_29__["UsernameCheckerComponent"], _pdf_generate_btn_pdf_generate_btn_component__WEBPACK_IMPORTED_MODULE_33__["PdfGenerateBtnComponent"],
                    _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_37__["BuyItemButtonComponent"],
                    _billing_details_billing_details_component__WEBPACK_IMPORTED_MODULE_40__["BillingDetailsComponent"],
                    _billing_card_billing_card_component__WEBPACK_IMPORTED_MODULE_41__["BillingCardComponent"],
                    _copy_clipboard_copy_clipboard_component__WEBPACK_IMPORTED_MODULE_45__["CopyClipboardComponent"],
                    _assessment_group_list_assessment_group_list_component__WEBPACK_IMPORTED_MODULE_47__["AssessmentGroupListComponent"],
                    _tabs_tabs_component__WEBPACK_IMPORTED_MODULE_51__["TabsComponent"],
                    _tab_tab_component__WEBPACK_IMPORTED_MODULE_52__["TabComponent"],
                    _card_card_component__WEBPACK_IMPORTED_MODULE_53__["CardComponent"]
                ],
                // TODO: stephen just found out according to this documentation that all of my lazy loaded modules
                // create distinct copies of these services I'm sharing...  So I need to figure out what to do with
                // all the providers I want to be singletons...
                // https://angular.io/guide/ngmodule#!#shared-module
                providers: [],
                exports: [
                    _assessment_picker_assessment_picker_component__WEBPACK_IMPORTED_MODULE_13__["AssessmentPickerComponent"], _spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_16__["SpinIconComponent"], _feature_enabled_feature_enabled__WEBPACK_IMPORTED_MODULE_18__["IfFeatureEnabled"], _condition_edit_condition_edit_component__WEBPACK_IMPORTED_MODULE_19__["ConditionEditComponent"],
                    _search_input_search_input_component__WEBPACK_IMPORTED_MODULE_23__["SearchInputComponent"], _back_button_back_button_component__WEBPACK_IMPORTED_MODULE_24__["BackButtonComponent"], _user_selector_user_selector_component__WEBPACK_IMPORTED_MODULE_28__["UserSelectorComponent"],
                    _role_selector_role_selector_component__WEBPACK_IMPORTED_MODULE_30__["RoleSelectorComponent"], _username_checker_username_checker_component__WEBPACK_IMPORTED_MODULE_29__["UsernameCheckerComponent"], _buy_item_button_buy_item_button_component__WEBPACK_IMPORTED_MODULE_37__["BuyItemButtonComponent"],
                    _billing_details_billing_details_component__WEBPACK_IMPORTED_MODULE_40__["BillingDetailsComponent"], _billing_card_billing_card_component__WEBPACK_IMPORTED_MODULE_41__["BillingCardComponent"], _assessment_group_list_assessment_group_list_component__WEBPACK_IMPORTED_MODULE_47__["AssessmentGroupListComponent"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _pdf_generate_btn_pdf_generate_btn_component__WEBPACK_IMPORTED_MODULE_33__["PdfGenerateBtnComponent"],
                    _copy_clipboard_copy_clipboard_component__WEBPACK_IMPORTED_MODULE_45__["CopyClipboardComponent"],
                    _tabs_tabs_component__WEBPACK_IMPORTED_MODULE_51__["TabsComponent"],
                    _tab_tab_component__WEBPACK_IMPORTED_MODULE_52__["TabComponent"],
                    _card_card_component__WEBPACK_IMPORTED_MODULE_53__["CardComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "PHxZ":
/*!***********************************************************!*\
  !*** ./src/app/shared/models/assessment-result-answer.ts ***!
  \***********************************************************/
/*! exports provided: AssessmentResultAnswer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentResultAnswer", function() { return AssessmentResultAnswer; });
/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class AssessmentResultAnswer {
    constructor() {
        this._score = 0;
        this._question_id = null;
        this._answer = null;
    }
    get question_id() {
        return this._question_id;
    }
    set question_id(v) {
        this._question_id = v;
    }
    get score() {
        return this._score;
    }
    set score(v) {
        this._score = v;
    }
    get answer() {
        return this._answer;
    }
    set answer(v) {
        this._answer = v;
    }
}


/***/ }),

/***/ "PPVr":
/*!********************************************************!*\
  !*** ./src/app/shared/models/AssignedQuestionnaire.ts ***!
  \********************************************************/
/*! exports provided: AssignedQuestionnaire */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignedQuestionnaire", function() { return AssignedQuestionnaire; });
/* harmony import */ var _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AssignmentItem */ "z8B+");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class AssignedQuestionnaire extends _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__["AssignmentItem"] {
    constructor() {
        super();
        this.Type = "Questionnaire";
    }
    get QuestionnaireId() {
        return this.questionnaireId;
    }
    set QuestionnaireId(v) {
        this.questionnaireId = v;
    }
    get DocumentTemplateId() {
        return this.documentTemplateId;
    }
    set DocumentTemplateId(v) {
        this.documentTemplateId = v;
    }
    get DocumentId() {
        return this.documentId;
    }
    set DocumentId(v) {
        this.documentId = v;
    }
}


/***/ }),

/***/ "PbQf":
/*!**********************************************************!*\
  !*** ./src/app/shared/models/AssignedAssessmentGroup.ts ***!
  \**********************************************************/
/*! exports provided: AssignedAssessmentGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignedAssessmentGroup", function() { return AssignedAssessmentGroup; });
/* harmony import */ var _Assignment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Assignment */ "Xehb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class AssignedAssessmentGroup extends _Assignment__WEBPACK_IMPORTED_MODULE_0__["Assignment"] {
    constructor() {
        super();
        this.Type = "AssessmentGroup";
    }
    get AssessmentGroupId() {
        return this.assessmentGroupId;
    }
    set AssessmentGroupId(v) {
        this.assessmentGroupId = v;
    }
    getAssessmentItems() {
        return this.Items.filter(i => i.Type == "Assessment").map(i => i);
    }
    get Name() {
        return this.name;
    }
    set Name(v) {
        this.name = v;
    }
    get isGroup() {
        return true;
    }
}


/***/ }),

/***/ "R9Rc":
/*!********************************************************!*\
  !*** ./src/app/reports/services/pcl-grader.service.ts ***!
  \********************************************************/
/*! exports provided: PclGraderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PclGraderService", function() { return PclGraderService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");


class PclGraderService {
    constructor() {
        this;
    }
    // TODO: stephen look at caching these results...
    getPCLCriteriaFromAssessmentResult(assessmentResult) {
        let questionSetsByQuestion = new Map();
        assessmentResult.assessment
            .question_sets.forEach(qs => qs.questions
            .forEach(q => questionSetsByQuestion.set(q, qs)));
        return assessmentResult.scaleResults.map(sr => {
            let questions = assessmentResult.assessment.getQuestionsForScale(sr.scale);
            let hasPTSD = this.checkScaleForPTSD(sr, questions, questionSetsByQuestion);
            return {
                name: this.getShortName(sr.scale.name), hasPTSD: hasPTSD, scaleResult: sr
            };
        });
    }
    getShortName(criteriaName) {
        return criteriaName.replace("Criteria ", "");
    }
    checkScaleForPTSD(scaleResult, questions, questionSetsByQuestion) {
        // no point in checking if the score is 0
        if (scaleResult.score <= 0) {
            return false;
        }
        // @see https://www.ptsd.va.gov/professional/assessment/documents/using-PCL5.pdf
        // for the grading criteria
        // Labels are 0 Not at all, 1 = A little bit, 2 = Moderate, 3 Quite a bit, 4 = Extremely
        // so a score of 2 for a single question trigger works, or a label index of 2 for two questions works
        // on the other criteria
        // on the simple criteria they only have to answer 1 question to mark it as PTSD
        if (scaleResult.scale.id == '6cfb2519-68af-1a4a-32bf-25db6b71d904' // criteria B
            || scaleResult.scale.id == '8b4e65f1-12d3-22aa-23d5-edccd6bccd68') // criteria C
         {
            return scaleResult.score > 0;
        }
        // the other criteria require at least one answer (which in this case is an answer > the default of Not at all)
        else if (scaleResult.scale.id == '4870117d-27af-a6fe-9d25-ee568cca6c47' // criteria D
            || scaleResult.scale.id == '48b296d3-101a-e80e-5205-9ff01f832bf8') // criteria E
         {
            let matchedQuestions = questions.map(q => {
                let questionSet = questionSetsByQuestion.get(q);
                let labelIndex = questionSet.labels.findIndex(l => q.answerForSave == l.id);
                return labelIndex >= 2;
            }).filter(result => result);
            return matchedQuestions.length > 2;
        }
        return false;
    }
}
PclGraderService.ɵfac = function PclGraderService_Factory(t) { return new (t || PclGraderService)(); };
PclGraderService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: PclGraderService, factory: PclGraderService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PclGraderService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "RKwW":
/*!****************************************************************!*\
  !*** ./src/app/shared/services/assessment-hydrator.service.ts ***!
  \****************************************************************/
/*! exports provided: AssessmentHydrator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentHydrator", function() { return AssessmentHydrator; });
/* harmony import */ var _models_list_question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/list-question */ "Kt/y");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_scale__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/scale */ "f7Qs");
/* harmony import */ var _models_scale_range__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/scale-range */ "b5Sj");
/* harmony import */ var _models_assessment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/assessment */ "WWiz");
/* harmony import */ var _models_question_set__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/question-set */ "6xcY");
/* harmony import */ var _models_question_set_label__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/question-set-label */ "9G+S");
/* harmony import */ var _models_display_condition__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../models/display-condition */ "/srF");
/* harmony import */ var _question_factory_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./question-factory.service */ "8nxG");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash */ "LvDl");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var app_shared_models_flagged_condition__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/shared/models/flagged-condition */ "bDMA");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */













class AssessmentHydrator {
    constructor(questionFactory) {
        this.questionFactory = questionFactory;
        this.scales = new Map();
    }
    hydrate(data) {
        let assessment = new _models_assessment__WEBPACK_IMPORTED_MODULE_4__["Assessment"]();
        Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(assessment, data);
        let qs = data._question_sets || data.question_sets;
        let scales = data._scales || data.scales;
        if (scales) {
            // we need to hydrate the scale, then populate the map, finally hydrate the sub scales as they may refer to each other
            // since we likely won't have more than 20-50 items this should be fine for runtime.
            assessment.scales = scales.map(s => this.hydrateScale(s));
            assessment.scales.forEach(s => this.scales[s.id] = s);
            assessment.scales.forEach(s => this.populateSubScaleProxies(s));
        }
        if (qs) {
            assessment.question_sets = qs.map(s => this.hydrateQuestionSet(s));
            this.hydrateDisplayConditions(assessment);
        }
        if (this.shouldMigrateAssessment(assessment.uid)) {
            this.migrateAssessment(assessment);
        }
        return assessment;
    }
    shouldMigrateAssessment(uid) {
        let migrateAssessments = ['perceived-social-support', 'couples-satisfaction-index'];
        if (migrateAssessments.indexOf(uid) >= 0) {
            return true;
        }
        return false;
    }
    migrateAssessment(assessment) {
        // force the couples-satisfaction-index to have the negative to positive flag
        let negToPosAssessments = ['perceived-social-support', 'couples-satisfaction-index'];
        if (negToPosAssessments.indexOf(assessment.uid) >= 0) {
            assessment.scales.forEach(s => s.negativeToPositiveRanges = true);
        }
    }
    hydrateDisplayConditions(assessment) {
        assessment.question_sets.forEach(qs => {
            if (qs.display_conditions.length) {
                qs.display_conditions = qs.display_conditions.map((dc) => {
                    let result = new _models_display_condition__WEBPACK_IMPORTED_MODULE_7__["DisplayCondition"]();
                    result.displayType = dc._displayType;
                    result.questionSet = assessment.getQuestionSetById(dc._questionSetId);
                    if (result.questionSet) {
                        result.question = result.questionSet.getQuestionById(dc._questionId);
                        if (result.question instanceof _models_list_question__WEBPACK_IMPORTED_MODULE_0__["ListQuestion"] && result.question.CustomLabels) {
                            result.answer = result.question.CustomLabels.find(l => l.id == dc._answerId);
                        }
                        // try looking in the questionSet if we don't have anything with the question.
                        if (!result.answer) {
                            result.answer = result.questionSet.labels.find(l => l.id == dc._answerId);
                        }
                    }
                    return result;
                });
            }
        });
    }
    hydrateQuestionSet(data) {
        let item = Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(new _models_question_set__WEBPACK_IMPORTED_MODULE_5__["QuestionSet"](), data);
        let labels = data._labels || data.labels;
        let questions = data._questions || data.questions;
        let display_conditions = data._display_conditions || data.display_conditions;
        if (labels) {
            let newLabels = labels.map(i => this.hydrateQuestionSetLabel(i));
            item.labels = newLabels;
        }
        if (questions) {
            let newQuestions = questions.map(i => this.hydrateQuestion(i, item));
            item.questions = newQuestions;
        }
        if (display_conditions) {
            item.display_conditions = display_conditions;
        }
        return item;
    }
    hydrateQuestionSetLabel(data) {
        return Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(new _models_question_set_label__WEBPACK_IMPORTED_MODULE_6__["QuestionSetLabel"](), data);
    }
    hydrateScaleRange(data) {
        return Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(new _models_scale_range__WEBPACK_IMPORTED_MODULE_3__["ScaleRange"](), data);
    }
    hydrateScale(data) {
        let scale = Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(new _models_scale__WEBPACK_IMPORTED_MODULE_2__["Scale"](), data);
        let ranges = data._ranges || data.ranges;
        if (ranges) {
            scale.ranges = ranges.map(r => this.hydrateScaleRange(r));
        }
        let scaleIds = data._subScaleIds || data.subScaleIds;
        if (scaleIds && scaleIds.length > 0) {
            // create proxy objects that we will fill in once everything is done.
            scaleIds.map(id => Object.assign(new _models_scale__WEBPACK_IMPORTED_MODULE_2__["Scale"](), { id: id }))
                .forEach(s => {
                if (s) {
                    scale.addSubScale(s);
                }
            });
        }
        return scale;
    }
    populateSubScaleProxies(scale) {
        for (let id of scale.getSubScaleIds()) {
            let proxy = scale.SubScales[id];
            if (this.scales[id]) { // replace the sub scale with the hydrated one
                scale.addSubScale(this.scales[id]);
            }
            else {
                console.error("Failed to find sub scale with id " + id + " in scale " + scale.id);
            }
        }
    }
    hydrateQuestion(data, questionSet) {
        let type = data.type || data._type;
        let question = this.questionFactory.createQuestionForType(type);
        var item = Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(question, Object(lodash__WEBPACK_IMPORTED_MODULE_9__["omit"])(data, '_answers')); // skip over the _answers for the QuestionSet Answer
        // let answer = data._answer || data.answer;
        let scale = data._scale || data.scale;
        let flaggedCondition = data._flaggedCondition || data.flaggedCondition;
        let customLabels = data._customLabels || data.customLabels;
        if (scale) {
            // grab the scale from our populated scales
            // so we can deal with the reference pointers
            let scaleId = scale._id || scale.id;
            if (this.scales[scaleId]) {
                item.assessment_scale = this.scales[scaleId];
            }
        }
        if (flaggedCondition) {
            let flag = Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(new app_shared_models_flagged_condition__WEBPACK_IMPORTED_MODULE_10__["FlaggedCondition"](), flaggedCondition);
            // overwrite the labels so we use what's in the question set.
            let lbls = questionSet.labels;
            let flagValues = flaggedCondition._flagValues || flaggedCondition.flagValues;
            flag.clearFlagValues();
            flagValues.forEach(fv => {
                let id = fv.id || fv._id;
                let qsl = questionSet.labels.find(qsl => id == qsl.id);
                if (qsl) {
                    flag.addFlagValue(qsl);
                }
                else {
                    console.log("question set did not have label with id ", fv.id);
                }
            });
            question.flaggedCondition = flag;
        }
        // TODO: stephen not sure I like this as there's too much type checking here.
        if (customLabels) {
            let labels = customLabels.map(cl => Object(lodash__WEBPACK_IMPORTED_MODULE_9__["extend"])(new _models_question_set_label__WEBPACK_IMPORTED_MODULE_6__["QuestionSetLabel"](), cl));
            let listType = question;
            listType.CustomLabels = labels;
        }
        return item;
    }
}
AssessmentHydrator.ɵfac = function AssessmentHydrator_Factory(t) { return new (t || AssessmentHydrator)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_question_factory_service__WEBPACK_IMPORTED_MODULE_8__["QuestionFactoryService"])); };
AssessmentHydrator.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AssessmentHydrator, factory: AssessmentHydrator.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AssessmentHydrator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _question_factory_service__WEBPACK_IMPORTED_MODULE_8__["QuestionFactoryService"] }]; }, null); })();


/***/ }),

/***/ "Rj0n":
/*!*************************************************************!*\
  !*** ./src/app/reports/models/scale-list-data-component.ts ***!
  \*************************************************************/
/*! exports provided: ScaleDataSectionComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleDataSectionComponent", function() { return ScaleDataSectionComponent; });
/* harmony import */ var _base_report_item_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base-report-item-component */ "D8FE");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");



class ScaleDataSectionComponent extends _base_report_item_component__WEBPACK_IMPORTED_MODULE_0__["BaseReportItemComponent"] {
    constructor() {
        super();
        this._scaleResults = [];
    }
    setReportData(data, results, variables) {
        if (!data || !results) {
            return;
        }
        if (data.assessment) {
            this._assessmentResult = results.find(r => r.assessment.uid == data.assessment);
        }
        else if (data.computed_result) {
            this._assessmentResult = results.find(r => r.id === data.computed_result);
        }
        if (this._assessmentResult) {
            // normally we take all the scales... but we can filter them here
            if (data.scales && data.scales.length) {
                this._scaleResults = this._assessmentResult.scaleResults
                    .filter(sr => data.scales.indexOf(sr.scale.id) >= 0);
            }
            else {
                this._scaleResults = this._assessmentResult.scaleResults;
            }
            this._assessmentResult.scaleResults.forEach(s => console.log(this._assessmentResult.assessment.name, "=>", s.scale.name, "(", s.scale.id, ")"));
        }
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    get ScaleResults() {
        return this._scaleResults;
    }
    get AssessmentResult() {
        return this._assessmentResult;
    }
    set AssessmentResult(v) {
        this._assessmentResult = v;
    }
}
ScaleDataSectionComponent.ɵfac = function ScaleDataSectionComponent_Factory(t) { return new (t || ScaleDataSectionComponent)(); };
ScaleDataSectionComponent.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineDirective"]({ type: ScaleDataSectionComponent, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ScaleDataSectionComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Directive"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "RnhZ":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "K/tc",
	"./af.js": "K/tc",
	"./ar": "jnO4",
	"./ar-dz": "o1bE",
	"./ar-dz.js": "o1bE",
	"./ar-kw": "Qj4J",
	"./ar-kw.js": "Qj4J",
	"./ar-ly": "HP3h",
	"./ar-ly.js": "HP3h",
	"./ar-ma": "CoRJ",
	"./ar-ma.js": "CoRJ",
	"./ar-sa": "gjCT",
	"./ar-sa.js": "gjCT",
	"./ar-tn": "bYM6",
	"./ar-tn.js": "bYM6",
	"./ar.js": "jnO4",
	"./az": "SFxW",
	"./az.js": "SFxW",
	"./be": "H8ED",
	"./be.js": "H8ED",
	"./bg": "hKrs",
	"./bg.js": "hKrs",
	"./bn": "kEOa",
	"./bn.js": "kEOa",
	"./bo": "0mo+",
	"./bo.js": "0mo+",
	"./br": "aIdf",
	"./br.js": "aIdf",
	"./bs": "JVSJ",
	"./bs.js": "JVSJ",
	"./ca": "1xZ4",
	"./ca.js": "1xZ4",
	"./cs": "PA2r",
	"./cs.js": "PA2r",
	"./cv": "A+xa",
	"./cv.js": "A+xa",
	"./cy": "l5ep",
	"./cy.js": "l5ep",
	"./da": "DxQv",
	"./da.js": "DxQv",
	"./de": "tGlX",
	"./de-at": "s+uk",
	"./de-at.js": "s+uk",
	"./de-ch": "u3GI",
	"./de-ch.js": "u3GI",
	"./de.js": "tGlX",
	"./dv": "WYrj",
	"./dv.js": "WYrj",
	"./el": "jUeY",
	"./el.js": "jUeY",
	"./en-au": "Dmvi",
	"./en-au.js": "Dmvi",
	"./en-ca": "OIYi",
	"./en-ca.js": "OIYi",
	"./en-gb": "Oaa7",
	"./en-gb.js": "Oaa7",
	"./en-ie": "4dOw",
	"./en-ie.js": "4dOw",
	"./en-nz": "b1Dy",
	"./en-nz.js": "b1Dy",
	"./eo": "Zduo",
	"./eo.js": "Zduo",
	"./es": "iYuL",
	"./es-do": "CjzT",
	"./es-do.js": "CjzT",
	"./es.js": "iYuL",
	"./et": "7BjC",
	"./et.js": "7BjC",
	"./eu": "D/JM",
	"./eu.js": "D/JM",
	"./fa": "jfSC",
	"./fa.js": "jfSC",
	"./fi": "gekB",
	"./fi.js": "gekB",
	"./fo": "ByF4",
	"./fo.js": "ByF4",
	"./fr": "nyYc",
	"./fr-ca": "2fjn",
	"./fr-ca.js": "2fjn",
	"./fr-ch": "Dkky",
	"./fr-ch.js": "Dkky",
	"./fr.js": "nyYc",
	"./fy": "cRix",
	"./fy.js": "cRix",
	"./gd": "9rRi",
	"./gd.js": "9rRi",
	"./gl": "iEDd",
	"./gl.js": "iEDd",
	"./gom-latn": "DKr+",
	"./gom-latn.js": "DKr+",
	"./he": "x6pH",
	"./he.js": "x6pH",
	"./hi": "3E1r",
	"./hi.js": "3E1r",
	"./hr": "S6ln",
	"./hr.js": "S6ln",
	"./hu": "WxRl",
	"./hu.js": "WxRl",
	"./hy-am": "1rYy",
	"./hy-am.js": "1rYy",
	"./id": "UDhR",
	"./id.js": "UDhR",
	"./is": "BVg3",
	"./is.js": "BVg3",
	"./it": "bpih",
	"./it.js": "bpih",
	"./ja": "B55N",
	"./ja.js": "B55N",
	"./jv": "tUCv",
	"./jv.js": "tUCv",
	"./ka": "IBtZ",
	"./ka.js": "IBtZ",
	"./kk": "bXm7",
	"./kk.js": "bXm7",
	"./km": "6B0Y",
	"./km.js": "6B0Y",
	"./kn": "PpIw",
	"./kn.js": "PpIw",
	"./ko": "Ivi+",
	"./ko.js": "Ivi+",
	"./ky": "lgnt",
	"./ky.js": "lgnt",
	"./lb": "RAwQ",
	"./lb.js": "RAwQ",
	"./lo": "sp3z",
	"./lo.js": "sp3z",
	"./lt": "JvlW",
	"./lt.js": "JvlW",
	"./lv": "uXwI",
	"./lv.js": "uXwI",
	"./me": "KTz0",
	"./me.js": "KTz0",
	"./mi": "aIsn",
	"./mi.js": "aIsn",
	"./mk": "aQkU",
	"./mk.js": "aQkU",
	"./ml": "AvvY",
	"./ml.js": "AvvY",
	"./mr": "Ob0Z",
	"./mr.js": "Ob0Z",
	"./ms": "6+QB",
	"./ms-my": "ZAMP",
	"./ms-my.js": "ZAMP",
	"./ms.js": "6+QB",
	"./my": "honF",
	"./my.js": "honF",
	"./nb": "bOMt",
	"./nb.js": "bOMt",
	"./ne": "OjkT",
	"./ne.js": "OjkT",
	"./nl": "+s0g",
	"./nl-be": "2ykv",
	"./nl-be.js": "2ykv",
	"./nl.js": "+s0g",
	"./nn": "uEye",
	"./nn.js": "uEye",
	"./pa-in": "8/+R",
	"./pa-in.js": "8/+R",
	"./pl": "jVdC",
	"./pl.js": "jVdC",
	"./pt": "8mBD",
	"./pt-br": "0tRk",
	"./pt-br.js": "0tRk",
	"./pt.js": "8mBD",
	"./ro": "lyxo",
	"./ro.js": "lyxo",
	"./ru": "lXzo",
	"./ru.js": "lXzo",
	"./sd": "Z4QM",
	"./sd.js": "Z4QM",
	"./se": "//9w",
	"./se.js": "//9w",
	"./si": "7aV9",
	"./si.js": "7aV9",
	"./sk": "e+ae",
	"./sk.js": "e+ae",
	"./sl": "gVVK",
	"./sl.js": "gVVK",
	"./sq": "yPMs",
	"./sq.js": "yPMs",
	"./sr": "zx6S",
	"./sr-cyrl": "E+lV",
	"./sr-cyrl.js": "E+lV",
	"./sr.js": "zx6S",
	"./ss": "Ur1D",
	"./ss.js": "Ur1D",
	"./sv": "X709",
	"./sv.js": "X709",
	"./sw": "dNwA",
	"./sw.js": "dNwA",
	"./ta": "PeUW",
	"./ta.js": "PeUW",
	"./te": "XLvN",
	"./te.js": "XLvN",
	"./tet": "V2x9",
	"./tet.js": "V2x9",
	"./th": "EOgW",
	"./th.js": "EOgW",
	"./tl-ph": "Dzi0",
	"./tl-ph.js": "Dzi0",
	"./tlh": "z3Vd",
	"./tlh.js": "z3Vd",
	"./tr": "DoHr",
	"./tr.js": "DoHr",
	"./tzl": "z1FC",
	"./tzl.js": "z1FC",
	"./tzm": "wQk9",
	"./tzm-latn": "tT3J",
	"./tzm-latn.js": "tT3J",
	"./tzm.js": "wQk9",
	"./uk": "raLr",
	"./uk.js": "raLr",
	"./ur": "UpQW",
	"./ur.js": "UpQW",
	"./uz": "Loxo",
	"./uz-latn": "AQ68",
	"./uz-latn.js": "AQ68",
	"./uz.js": "Loxo",
	"./vi": "KSF8",
	"./vi.js": "KSF8",
	"./x-pseudo": "/X5v",
	"./x-pseudo.js": "/X5v",
	"./yo": "fzPg",
	"./yo.js": "fzPg",
	"./zh-cn": "XDpg",
	"./zh-cn.js": "XDpg",
	"./zh-hk": "SatO",
	"./zh-hk.js": "SatO",
	"./zh-tw": "kOpN",
	"./zh-tw.js": "kOpN"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "RnhZ";

/***/ }),

/***/ "RoZp":
/*!***************************************************!*\
  !*** ./src/app/shared/models/AssignmentSingle.ts ***!
  \***************************************************/
/*! exports provided: AssignmentSingle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignmentSingle", function() { return AssignmentSingle; });
/* harmony import */ var _Assignment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Assignment */ "Xehb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class AssignmentSingle extends _Assignment__WEBPACK_IMPORTED_MODULE_0__["Assignment"] {
    get Name() {
        if (this.Items.length < 1) {
            return "";
        }
        return this.Items[0].Name;
    }
    set Name(v) {
        if (this.Items.length < 1) {
            return;
        }
        this.Items[0].Name = v;
    }
    get ResultId() {
        if (this.Items.length < 1) {
            return "";
        }
        return this.Items[0].ResultId;
    }
    set ResultId(v) {
        if (this.Items.length < 1) {
            return;
        }
        this.Items[0].ResultId = v;
    }
}


/***/ }),

/***/ "SPHu":
/*!****************************************************!*\
  !*** ./src/app/shared/services/metrics.service.ts ***!
  \****************************************************/
/*! exports provided: MetricsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetricsService", function() { return MetricsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class MetricsService {
    constructor() {
    }
    trackEvent(category, action, name, value) {
        let data = ['trackEvent', category, action];
        if (name) {
            data.push(name);
        }
        if (value !== undefined) {
            data.push(value);
        }
        if (_paq) {
            _paq.push(data);
        }
    }
}
MetricsService.ɵfac = function MetricsService_Factory(t) { return new (t || MetricsService)(); };
MetricsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: MetricsService, factory: MetricsService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MetricsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "Sy1n":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shared/services/dac-config.service */ "OApS");
/* harmony import */ var _login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./login/services/auth.service */ "6Hrc");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _theme_site_container_site_container_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme/site-container/site-container.component */ "kp5b");
/* harmony import */ var _shared_services_http_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shared/services/http.service */ "Tdnt");
/* harmony import */ var _shared_services_modal_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./shared/services/modal.service */ "JK/P");
/* harmony import */ var _login_login_dialog_login_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./login/login-dialog/login-dialog.component */ "f5yX");
/* harmony import */ var _shared_services_authenticator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./shared/services/authenticator */ "gcVD");
/* harmony import */ var _shared_services_fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./shared/services/fhir-smart-style.service */ "BP+R");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



















const _c0 = ["siteContainer"];
class AppComponent {
    constructor(authService, dacConfig, route, router, httpService, modalService, authenticator, fhirStyleService) {
        this.authService = authService;
        this.dacConfig = dacConfig;
        this.route = route;
        this.router = router;
        this.httpService = httpService;
        this.modalService = modalService;
        this.authenticator = authenticator;
        this.fhirStyleService = fhirStyleService;
        // authService.isAdmin = true;
        var currentUrl = this.route.snapshot.url.join("/");
        const navEndEvent$ = router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["filter"])(e => e instanceof _angular_router__WEBPACK_IMPORTED_MODULE_3__["NavigationEnd"]));
        navEndEvent$.subscribe((e) => {
            _paq.push(['setReferrerUrl', currentUrl]);
            currentUrl = e.urlAfterRedirects;
            _paq.push(['setCustomUrl', currentUrl]);
            // _paq.push(['setDocumentTitle', 'My New Title']);
            // remove all previously assigned custom variables, requires Matomo (formerly Piwik) 3.0.2
            _paq.push(['deleteCustomVariables', 'page']);
            _paq.push(['setGenerationTimeMs', 0]);
            _paq.push(['trackPageView']);
        });
    }
    hasSmartStyles() {
        return this.dacConfig.smartStyles;
    }
    smartStyles() {
        return this.dacConfig.smartStyles;
    }
    ngOnInit() {
        this.fhirStyleService.loadSmartStyles();
        // if (this.authToken) {
        //   this.authenticator.AuthenticationToken = this.authToken;
        // }
        // test assumption that this always fires even if there are no parameters...
        this.route.queryParams.subscribe(params => {
            // console.log("Query params are subscribed inside ngAfterViewInit()", params);
            if (params.seamless) {
                this.dacConfig.setupSeamlessModeForSession(params.skin);
            }
            else if (params.skin && params.skin.length) {
                this.dacConfig.replaceSkinClasses([params.skin]);
            }
            // console.log("Config file skin classes are now ", this.dacConfig.skinClasses);
            let body = document.querySelector("body");
            let className = this.dacConfig.skinClasses.join(" ");
            body.className = className;
            if (this.siteContainer) {
                this.siteContainer.showSideNav = this.dacConfig.seamlessMode !== true;
            }
        });
        this._httpSubscription = this.httpService.currentStatus().subscribe((statusCode) => {
            if (this.shouldOpenLoginDialog(statusCode, this.route.snapshot)) {
                this.openLoginDialog();
            }
        });
    }
    ngAfterViewInit() {
        if (this.dacConfig.seamlessMode && this.siteContainer) {
            this.siteContainer.showSideNav = false;
        }
    }
    ngOnDestroy() {
        if (this._httpSubscription) {
            this._httpSubscription.unsubscribe();
            this._httpSubscription = null;
        }
    }
    shouldOpenLoginDialog(statusCode, snapshot) {
        if (statusCode === 401) {
            let childUrl = snapshot.firstChild ? snapshot.firstChild.url.join("").trim() : "";
            if (childUrl == ""
                || childUrl.endsWith("home")
                || childUrl.endsWith("login")
                || childUrl.endsWith("loginAdmin")
                || childUrl.endsWith("logout")) {
                return false;
            }
            // check if the dialog is already open
            if (this.loginDialogRef && this.loginDialogRef.getState() === 0 /* OPEN */) {
                return false;
            }
            return true;
        }
        return false;
    }
    openLoginDialog() {
        // reset our dialog
        this.loginDialogRef = this.modalService.openDialog(_login_login_dialog_login_dialog_component__WEBPACK_IMPORTED_MODULE_8__["LoginDialogComponent"]);
    }
}
AppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_http_service__WEBPACK_IMPORTED_MODULE_6__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_7__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_authenticator__WEBPACK_IMPORTED_MODULE_9__["Authenticator"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_10__["FhirSmartStyleService"])); };
AppComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AppComponent, selectors: [["app-root"]], viewQuery: function AppComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.siteContainer = _t.first);
    } }, inputs: { isAdmin: "isAdmin", authToken: "authToken" }, decls: 1, vars: 0, template: function AppComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "router-outlet");
    } }, directives: [_angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterOutlet"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFJRSIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-root',
                templateUrl: './app.component.html',
                styleUrls: ['./app.component.css']
            }]
    }], function () { return [{ type: _login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }, { type: _shared_services_http_service__WEBPACK_IMPORTED_MODULE_6__["HTTPService"] }, { type: _shared_services_modal_service__WEBPACK_IMPORTED_MODULE_7__["ModalService"] }, { type: _shared_services_authenticator__WEBPACK_IMPORTED_MODULE_9__["Authenticator"] }, { type: _shared_services_fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_10__["FhirSmartStyleService"] }]; }, { isAdmin: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], authToken: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], siteContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["siteContainer"]
        }] }); })();


/***/ }),

/***/ "THLo":
/*!***********************************************************************************************!*\
  !*** ./src/app/reports/report-items/scale-results-summary/scale-results-summary.component.ts ***!
  \***********************************************************************************************/
/*! exports provided: ScaleResultsSummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleResultsSummaryComponent", function() { return ScaleResultsSummaryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/reports/models/base-report-item-component */ "D8FE");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _summary_section_graph_item_summary_section_graph_item_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../summary-section-graph-item/summary-section-graph-item.component */ "tV5d");
/* harmony import */ var _scale_results_table_summary_scale_results_table_summary_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../scale-results-table-summary/scale-results-table-summary.component */ "Ue/t");
/* harmony import */ var _assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../assessment-charts/summary-scales-chart/summary-scales-chart.component */ "7gIF");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







function ScaleResultsSummaryComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 7);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r0.description, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function ScaleResultsSummaryComponent_div_7_div_2_dac_summary_section_graph_item_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "dac-summary-section-graph-item", 17);
} if (rf & 2) {
    const item_r9 = ctx.$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", item_r9)("assessmentResult", ctx_r8.getAssessmentResult(item_r9.data.assessmentUid))("scaleResults", ctx_r8.getScaleResultItems(item_r9.data.scaleResults));
} }
function ScaleResultsSummaryComponent_div_7_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ScaleResultsSummaryComponent_div_7_div_2_dac_summary_section_graph_item_1_Template, 1, 3, "dac-summary-section-graph-item", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r3.getPrintClasses(section_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", section_r2.components);
} }
const _c0 = function (a0, a1) { return { "col-6": a0, "col-12 mt-md-3 mt-print-0": a1 }; };
function ScaleResultsSummaryComponent_div_7_div_3_dac_summary_section_graph_item_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "dac-summary-section-graph-item", 21);
} if (rf & 2) {
    const item_r12 = ctx.$implicit;
    const last_r13 = ctx.last;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](4, _c0, !last_r13, last_r13))("item", item_r12)("assessmentResult", ctx_r11.getAssessmentResult(item_r12.data.assessmentUid))("scaleResults", ctx_r11.getScaleResultItems(item_r12.data.scaleResults));
} }
function ScaleResultsSummaryComponent_div_7_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ScaleResultsSummaryComponent_div_7_div_3_dac_summary_section_graph_item_3_Template, 1, 7, "dac-summary-section-graph-item", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r4.getPrintClasses(section_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", section_r2.components);
} }
function ScaleResultsSummaryComponent_div_7_div_4_app_summary_scales_chart_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-summary-scales-chart", 29);
} if (rf & 2) {
    const item_r16 = ctx.$implicit;
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r15.getChartClasses(item_r16))("showNames", item_r16.data.showNames)("scaleResults", ctx_r15.getScaleResultItems(item_r16.data.scaleResults))("chartScaleNames", item_r16.data.chartScaleNames)("showRangeScore", item_r16.data.showRangeScore)("chartRangeNames", item_r16.data.chartRangeNames)("reverseDirection", item_r16.data.reverseDirection);
} }
function ScaleResultsSummaryComponent_div_7_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, ScaleResultsSummaryComponent_div_7_div_4_app_summary_scales_chart_10_Template, 1, 7, "app-summary-scales-chart", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "app-scale-results-table-summary", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r5.getPrintClasses(section_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](section_r2.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", section_r2.components);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scaleResults", ctx_r5.getScaleResultItems(section_r2.tableComponent.data.scaleResults))("highlightScaleResults", ctx_r5.getScaleResultItems(section_r2.tableComponent.data.highlightScaleResults));
} }
function ScaleResultsSummaryComponent_div_7_div_5_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "app-summary-scales-chart", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r19 = ctx.$implicit;
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](item_r19.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r18.getChartClasses(item_r19))("showNames", item_r19.data.showNames)("scaleResults", ctx_r18.getScaleResultItems(item_r19.data.scaleResults))("chartScaleNames", item_r19.data.chartScaleNames)("chartRangeNames", item_r19.data.chartRangeNames)("showRangeScore", item_r19.data.showRangeScore)("reverseDirection", item_r19.data.reverseDirection);
} }
function ScaleResultsSummaryComponent_div_7_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ScaleResultsSummaryComponent_div_7_div_5_div_3_Template, 8, 8, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "app-scale-results-table-summary", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r6.getPrintClasses(section_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", section_r2.components);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scaleResults", ctx_r6.getScaleResultItems(section_r2.tableComponent.data.scaleResults))("highlightScaleResults", ctx_r6.getScaleResultItems(section_r2.tableComponent.data.highlightScaleResults));
} }
function ScaleResultsSummaryComponent_div_7_div_6_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](section_r2.title);
} }
function ScaleResultsSummaryComponent_div_7_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ScaleResultsSummaryComponent_div_7_div_6_div_3_Template, 3, 1, "div", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "app-scale-results-table-summary", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r7.getPrintClasses(section_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", section_r2.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scaleResults", ctx_r7.getScaleResultItems(section_r2.tableComponent.data.scaleResults))("highlightScaleResults", ctx_r7.getScaleResultItems(section_r2.tableComponent.data.highlightScaleResults));
} }
function ScaleResultsSummaryComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ScaleResultsSummaryComponent_div_7_div_2_Template, 2, 2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ScaleResultsSummaryComponent_div_7_div_3_Template, 4, 2, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, ScaleResultsSummaryComponent_div_7_div_4_Template, 13, 5, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, ScaleResultsSummaryComponent_div_7_div_5_Template, 7, 4, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, ScaleResultsSummaryComponent_div_7_div_6_Template, 7, 4, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const section_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", section_r2.template == "two-column");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", section_r2.template == "three-graph");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", section_r2.template == "one-column-table");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", section_r2.template == "two-column-table");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", section_r2.template == "table");
} }
class ScaleResultsSummaryComponent extends app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__["BaseReportItemComponent"] {
    constructor() {
        super();
        this.charts = [];
        this._resultByUid = new Map();
        this._sections = [];
    }
    get sections() {
        if (this._sections && this._sections.length) {
            return this._sections;
        }
        return [];
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    getPrintClasses(section) {
        let styles = {
            'd-print-none': section.printHide,
            'd-none d-print-block': section.printDisplayOnly,
            'section-page-break': !section.printHide
        };
        return styles;
    }
    getChartClasses(item) {
        if (item.chartSize) {
            let result = "p-" + item.chartSize + "-chart";
            return [result];
        }
        else {
            return ["p-small-chart"];
        }
    }
    getAssessmentResult(uid) {
        if (this._resultByUid.has(uid)) {
            return this._resultByUid.get(uid);
        }
        return null;
    }
    getScaleResultItems(scaleResults) {
        if (!(scaleResults && scaleResults.length)) {
            return [];
        }
        return scaleResults.map(sr => this.getScaleResult(sr.assessmentUid, sr.scaleId));
    }
    getScaleResult(uid, scaleId) {
        if (this._resultByUid.has(uid)) {
            return this._resultByUid.get(uid).getScaleResultByScaleId(scaleId);
        }
        return null;
    }
    getScaleResultLabels(uid, scaleId) {
        let result = this.getScaleResult(uid, scaleId);
        if (result) {
            return result.scale.ranges.map(r => r.displayName);
        }
    }
    hasAssessment(uid) {
        return this._resultByUid.has(uid);
    }
    /**
     * data => {
     * "charts" => [{
     *   "assessment: "dass-21", "scale": "88...."
     *  }]
     * }
     * @param data
     * @param results
     * @param variables
     */
    setReportData(data, results, variables) {
        if (!data || !results) {
            return;
        }
        this._title = data.title;
        this._description = data.description;
        // if there are multiples... this uses the last instance they took...
        results.forEach(rs => {
            this._resultByUid.set(rs.assessment.uid, rs);
        });
        if (data.sections) {
            this._sections = data.sections;
        }
        else {
            this._sections = [];
        }
    }
    shouldPrintBreak(index) {
        // since index is 0 based the the user scales per page is 1 based we convert.
        return ((index + 1) == this._scales_per_page);
    }
    get ScalesPerPage() {
        return this._scales_per_page;
    }
    get ScaleResults() {
        return this._scaleResults;
    }
    get AssessmentResult() {
        return this._assessmentResult;
    }
    get title() {
        return this._title;
    }
    get description() {
        return this._description;
    }
}
ScaleResultsSummaryComponent.ɵfac = function ScaleResultsSummaryComponent_Factory(t) { return new (t || ScaleResultsSummaryComponent)(); };
ScaleResultsSummaryComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleResultsSummaryComponent, selectors: [["app-scale-results-summary"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 8, vars: 3, consts: [[1, "card", "card-wider", "card-cascade"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], [1, "row"], ["class", "col", 3, "innerHTML", 4, "ngIf"], ["class", "row d-print-block-visible", 4, "ngFor", "ngForOf"], [1, "col", 3, "innerHTML"], [1, "row", "d-print-block-visible"], [1, "col-12", "d-print-block-visible"], ["class", "row mb-3 section section-two-column", 3, "ngClass", 4, "ngIf"], ["class", "row mb-3 mb-print-0 section section-three-graph", 3, "ngClass", 4, "ngIf"], ["class", "row mb-3  section section-one-column-table", 3, "ngClass", 4, "ngIf"], ["class", "row mb-3  section section-two-column-table", 3, "ngClass", 4, "ngIf"], ["class", "row mb-3 section section-table", 3, "ngClass", 4, "ngIf"], [1, "row", "mb-3", "section", "section-two-column", 3, "ngClass"], ["class", "col-6", 3, "item", "assessmentResult", "scaleResults", 4, "ngFor", "ngForOf"], [1, "col-6", 3, "item", "assessmentResult", "scaleResults"], [1, "row", "mb-3", "mb-print-0", "section", "section-three-graph", 3, "ngClass"], [1, "col-12"], [3, "ngClass", "item", "assessmentResult", "scaleResults", 4, "ngFor", "ngForOf"], [3, "ngClass", "item", "assessmentResult", "scaleResults"], [1, "row", "mb-3", "section", "section-one-column-table", 3, "ngClass"], [1, "card", "card-cascade"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light", "mt-0"], [1, "card-body", "pt-1", "pt-md-3"], [1, "row", "justify-content-center"], ["class", "col chart", 3, "ngClass", "showNames", "scaleResults", "chartScaleNames", "showRangeScore", "chartRangeNames", "reverseDirection", 4, "ngFor", "ngForOf"], [1, "col", 3, "scaleResults", "highlightScaleResults"], [1, "col", "chart", 3, "ngClass", "showNames", "scaleResults", "chartScaleNames", "showRangeScore", "chartRangeNames", "reverseDirection"], [1, "row", "mb-3", "section", "section-two-column-table", 3, "ngClass"], ["class", "col-6", 4, "ngFor", "ngForOf"], [1, "col-6"], [1, "card", "card-cascade", "h-100"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "col", "chart", 3, "ngClass", "showNames", "scaleResults", "chartScaleNames", "chartRangeNames", "showRangeScore", "reverseDirection"], [1, "row", "mb-3", "section", "section-table", 3, "ngClass"], [1, "col"], ["class", "view gradient-card-header secondary-gradient text-light", 4, "ngIf"]], template: function ScaleResultsSummaryComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, ScaleResultsSummaryComponent_div_6_Template, 1, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ScaleResultsSummaryComponent_div_7_Template, 7, 5, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.description);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.sections);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _summary_section_graph_item_summary_section_graph_item_component__WEBPACK_IMPORTED_MODULE_3__["SummarySectionGraphItemComponent"], _scale_results_table_summary_scale_results_table_summary_component__WEBPACK_IMPORTED_MODULE_4__["ScaleResultsTableSummaryComponent"], _assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_5__["SummaryScalesChartComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleResultsSummaryComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app-scale-results-summary",
                templateUrl: "./scale-results-summary.component.html"
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "TNk8":
/*!****************************************************!*\
  !*** ./src/app/shared/models/assessment-result.ts ***!
  \****************************************************/
/*! exports provided: AssessmentResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentResult", function() { return AssessmentResult; });
class AssessmentResult {
    constructor() {
        this._scaleResults = [];
        this._answers = [];
        this._answersByQuestionId = new Map();
        this._dateCompleted = new Date();
    }
    get dateCompleted() {
        return this._dateCompleted;
    }
    set dateCompleted(v) {
        this._dateCompleted = v;
    }
    get assignmentItemId() {
        return this._assignmentItemId;
    }
    set assignmentItemId(v) {
        this._assignmentItemId = v;
    }
    get id() {
        return this._id;
    }
    set id(v) {
        this._id = v;
    }
    get assessment() {
        return this._assessment;
    }
    set assessment(v) {
        this._assessment = v;
    }
    get scaleResults() {
        return this._scaleResults;
    }
    set scaleResults(v) {
        this._scaleResults = v;
    }
    get hasResources() {
        return this.assessment.resourcesURL && this.assessment.resourcesURL != "";
    }
    get hasHomework() {
        return this.scaleResults.some(this.scaleHasHomework);
    }
    getScalesWithHomework() {
        return this.scaleResults.filter(this.scaleHasHomework);
    }
    get flaggedQuestions() {
        return this._flaggedQuestions;
    }
    set flaggedQuestions(value) {
        this._flaggedQuestions = value;
    }
    get answers() {
        return this._answers;
    }
    set answers(v) {
        this._answers = v;
        this._answersByQuestionId.clear();
        this._answers.forEach(a => this._answersByQuestionId.set(a.question_id, a));
    }
    addAnswer(answer) {
        this._answers.push(answer);
        this._answersByQuestionId.set(answer.question_id, answer);
    }
    getAnswerForQuestionId(questionId) {
        if (this._answersByQuestionId.has(questionId)) {
            return this._answersByQuestionId.get(questionId);
        }
        return null;
    }
    getScaleResultByScaleId(scaleId) {
        // TODO: stephen optimize this later.
        let results = this.scaleResults.filter(s => {
            return s.scale != null && s.scale.id === scaleId;
        });
        if (results.length) {
            return results[0];
        }
        return null;
    }
    scaleHasHomework(scaleResult) {
        return scaleResult.range &&
            scaleResult.range.assignmentURL != null &&
            scaleResult.range.assignmentURL != null &&
            scaleResult.range.assignmentURL != "";
    }
}


/***/ }),

/***/ "Taa6":
/*!******************************************************!*\
  !*** ./src/app/shared/services/host-site.service.ts ***!
  \******************************************************/
/*! exports provided: HostSiteService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HostSiteService", function() { return HostSiteService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




class HostSiteService {
    constructor(http) {
        this.http = http;
    }
    getHostSites() {
        return this.http.get("/hostsites/").then((data) => {
            if (data.length) {
                return data.map(i => {
                    return {
                        "id": i.id,
                        "name": i.name
                    };
                });
            }
            return [];
        });
        // return [{id: 1, name: "Discover and Change"}, {id: 2, name:"Addo Recovery"}, {id: 3, name:"Addo Recovery Network"}, {id: 4, name:"APSATS"}];
    }
}
HostSiteService.ɵfac = function HostSiteService_Factory(t) { return new (t || HostSiteService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"])); };
HostSiteService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: HostSiteService, factory: HostSiteService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HostSiteService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"] }]; }, null); })();


/***/ }),

/***/ "Tdnt":
/*!*************************************************!*\
  !*** ./src/app/shared/services/http.service.ts ***!
  \*************************************************/
/*! exports provided: HTTPService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HTTPService", function() { return HTTPService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "tk/3");
/* harmony import */ var _authenticator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./authenticator */ "gcVD");
/* harmony import */ var _dac_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dac-config.service */ "OApS");
/* harmony import */ var _pako_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pako.service */ "vPvb");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _fhir_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./fhir-service */ "y+jN");

/*
 *   Copyright (c) 2021 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */













class GhQueryEncoder extends _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpUrlEncodingCodec"] {
    encodeKey(k) {
        k = super.encodeKey(k);
        return k.replace(/\+/gi, '%2B');
    }
    encodeValue(v) {
        v = super.encodeKey(v);
        return v.replace(/\+/gi, '%2B');
    }
}
class HTTPService {
    constructor(_$http, _authenticator, _dacConfig, _pako, // needs to be Pako
    _fhirClient) {
        this._$http = _$http;
        this._authenticator = _authenticator;
        this._dacConfig = _dacConfig;
        this._pako = _pako;
        this._fhirClient = _fhirClient;
        // TODO: @adunsulag is this going to create timing issues?
        this._httpStatusSubject = new rxjs__WEBPACK_IMPORTED_MODULE_6__["BehaviorSubject"](200);
        // let fhirUser = this._fhirClient.getFhirUserType()
        // .then(fhirRole => {
        //   if (fhirRole == 'Patient') {
        //     this._useClientApis = true;
        //   this._apiUrl = this._dacConfig.api_url + "portal/dc-assessment";
        // } else if (fhirRole == 'Practitioner' || fhirRole == 'Person') { // Person occurs if its an admin who does not have NPI
        this._useClientApis = false;
        this._apiUrl = this._dacConfig.api_url;
        // }
        // });
    }
    generateUrl(path, addToken = false) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // TODO: stephen I think this will have an error if the path already contained a query parameter...
            // we need to find a better way to do this.
            let type = yield this._fhirClient.getFhirUserType();
            let baseUrl = this._dacConfig.api_url + "api/";
            if (type == 'Patient') {
                baseUrl = this._dacConfig.api_url + "portal/";
            }
            let url = baseUrl + path + "?XDEBUG_SESSION=PHPSTORM";
            // let url = baseUrl + "?API_REQUEST=" + encodeURIComponent(path) + "&XDEBUG_SESSION=PHPSTORM";
            // if (addToken) {
            // TODo: @adunsulag we need to remove the auth token from the get string
            // url += "?token=" + this._authenticator.AuthenticationToken;
            // url += "&token=" + this.getAuthorizationHeaderFromFhirClient();
            // }
            return url;
        });
    }
    /**
     * For communicating to the base api endpoints without any suffix path based on the authenticated user (client, or user)
     * @param path The path to fetch from the raw base path
     * @param data
     * @returns
     */
    rawGetRequest(path, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let url = this._dacConfig.api_url + path + "?XDEBUG_SESSION=PHPSTORM";
            if (!data) {
                data = {};
            }
            let searchParams = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]({ fromObject: data, encoder: new GhQueryEncoder() });
            let headers = yield this.getHttpHeaders();
            return this._$http.get(url, {
                params: searchParams,
                withCredentials: false,
                observe: 'response',
                headers: headers
            }).toPromise()
                .then((val) => {
                if (val && val.status) {
                    this._httpStatusSubject.next(val.status);
                }
                return val.body;
            })
                .catch((error) => {
                if (error && error.status) {
                    this._httpStatusSubject.next(error.status);
                }
                throw error;
            });
        });
    }
    /**
     * Returns an observable that sends the most recent http status code
     */
    currentStatus() {
        return this._httpStatusSubject.asObservable();
    }
    getAuthorizationHeaderFromFhirClient() {
        // just has the Bearer <token> piece.
        return this._fhirClient.getAuthorizationHeader();
    }
    getHttpHeaders() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let headers = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpHeaders"]();
            let clientState = yield this._fhirClient.refreshIfNeeded();
            // TODO: @adunsulag how do I determine if the refresh failed?
            headers = headers.append("Authorization", yield this.getAuthorizationHeaderFromFhirClient());
            return headers;
        });
    }
    get(url, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (this.isFhirUrl(url)) {
                let client = yield this._fhirClient.getFhirClient();
                client.request(url);
            }
            if (!data) {
                data = {};
            }
            // TODO: @adunsulag does the token need to be wrapped in here anymore?
            // data.token = await this.getAuthorizationHeaderFromFhirClient();
            // IE 11 aggressively caches when we really don't want it to.  We fix it by introducing a cache busting solution...
            // Even though a server side header should solve this, it appears that IE11 doesn't always respect that.
            // so we lose the advantage of caching a number of get requests... but from an API we really want the most current result set
            data.cacheBuster = new Date().getTime();
            // in order to fix the improper coding of the + sign, we are going to change the url encode
            // @see https://github.com/angular/angular/issues/11058#issuecomment-247367318
            let searchParams = new _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpParams"]({ fromObject: data, encoder: new GhQueryEncoder() });
            let headers = yield this.getHttpHeaders();
            let apiUrl = yield this.generateUrl(url);
            return this._$http.get(apiUrl, {
                params: searchParams,
                withCredentials: false,
                observe: 'response',
                headers: headers
            }).toPromise()
                .then((val) => {
                if (val && val.status) {
                    this._httpStatusSubject.next(val.status);
                }
                return val.body;
            })
                .catch((error) => {
                if (error && error.status) {
                    this._httpStatusSubject.next(error.status);
                }
                throw error;
            });
        });
    }
    post(url, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // TODO: @adunsulag does the token need to be wrapped in here anymore?
            // data.token = this.getAuthorizationHeaderFromFhirClient();
            let headers = yield this.getHttpHeaders();
            return this.postWithOptions(url, data, { withCredentials: false, headers: headers });
        });
    }
    securePost(url, data, securityToken) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // note the authentication token is different then the JWT token
            // TODO: stephen we need to look at changing this token to be a JWT.
            // TODO: @adunsulag does the token need to be wrapped in here anymore?
            // data.token = this.getAuthorizationHeaderFromFhirClient();
            // let headers:HttpHeaders = new HttpHeaders({
            //   "Authorization": "Bearer " + securityToken
            // });
            let headers = yield this.getHttpHeaders();
            let options = { withCredentials: false, headers: headers };
            return this.postWithOptions(url, data, options);
        });
    }
    isFhirUrl(url) {
        return url == "Questionnaire";
    }
    postWithOptions(url, data, options) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            options = options || {};
            let apiUrl = yield this.generateUrl(url);
            return this._$http.post(apiUrl, data, {
                observe: 'response'
                // ,withCredentials: options.withCredentials || false
                ,
                headers: options.headers || {}
            })
                .toPromise()
                .then((val) => {
                if (val && val.status) {
                    this._httpStatusSubject.next(val.status);
                }
                return val.body;
            })
                .catch((error) => {
                if (error && error.status) {
                    this._httpStatusSubject.next(error.status);
                }
                throw error;
            });
        });
    }
    delete(url, data) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            data = data || {};
            // TODO: @adunsulag does the token need to be wrapped in here anymore?
            // data.token = this.getAuthorizationHeaderFromFhirClient();
            let headers = yield this.getHttpHeaders();
            let apiUrl = yield this.generateUrl(url);
            return this._$http.delete(apiUrl, { observe: 'response', withCredentials: false, params: data, headers: headers })
                .toPromise()
                .then((val) => {
                if (val && val.status) {
                    this._httpStatusSubject.next(val.status);
                }
                return val.body;
            })
                .catch((error) => {
                if (error && error.status) {
                    this._httpStatusSubject.next(error.status);
                }
                throw error;
            });
        });
    }
    compressedPost(url, data, responseType = 'json') {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // TODO: @adunsulag does the token need to be wrapped in here anymore?
            let header = yield this.getAuthorizationHeaderFromFhirClient();
            // data.token = header;
            var binaryData = this._pako.gzip(JSON.stringify(data));
            let clientState = yield this._fhirClient.refreshIfNeeded();
            // TODO: @adunsulag we need to figure out what to do if refresh token fails.
            let postUrl = yield this.generateUrl(url);
            return new Promise((resolve, reject) => {
                var http = new XMLHttpRequest();
                http.withCredentials = false; // make sure to send http cookies.
                http.onload = () => {
                    this._httpStatusSubject.next(http.status);
                    if (http.status >= 200 && http.status < 300) {
                        resolve(http.response);
                    }
                    else {
                        reject({
                            status: http.status,
                            statusText: http.statusText,
                            response: http.response
                        });
                    }
                };
                http.onerror = () => {
                    this._httpStatusSubject.next(http.status);
                    reject({
                        status: http.status,
                        statusText: http.statusText,
                        response: http.response
                    });
                };
                http.open("POST", postUrl);
                http.setRequestHeader("Content-Type", "application/json");
                http.setRequestHeader("Content-Encoding", "gzip");
                http.setRequestHeader("Authorization", header);
                http.responseType = responseType;
                http.send(binaryData);
            });
            // TODO: stephen pako returns a Uint8Array and angular2 doesn't seem to know how to handle this
            // as it attempts to treat it as a string, angular1 handled this just fine... until we have a solution here
            // we'll leave this commented out.
            // // var binaryData:ArrayBuffer = this._pako.gzip(JSON.stringify(data)).buffer;
            // var binaryData:Blob = new Blob([this._pako.gzip(JSON.stringify(data))]);
            // var headers = new Headers();
            // headers.append("Content-Type", "application/json");
            // headers.append("Content-Encoding", "gzip");
            // let optionArgs:RequestOptionsArgs = {
            //     headers: headers
            // };
            // return this._$http.post(this._dacConfig.api_url + url, binaryData, optionArgs).toPromise();
        });
    }
}
HTTPService.ɵfac = function HTTPService_Factory(t) { return new (t || HTTPService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_authenticator__WEBPACK_IMPORTED_MODULE_3__["Authenticator"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_pako_service__WEBPACK_IMPORTED_MODULE_5__["Pako"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_fhir_service__WEBPACK_IMPORTED_MODULE_7__["FhirService"])); };
HTTPService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: HTTPService, factory: HTTPService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](HTTPService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }, { type: _authenticator__WEBPACK_IMPORTED_MODULE_3__["Authenticator"] }, { type: _dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"] }, { type: _pako_service__WEBPACK_IMPORTED_MODULE_5__["Pako"] }, { type: _fhir_service__WEBPACK_IMPORTED_MODULE_7__["FhirService"] }]; }, null); })();


/***/ }),

/***/ "Tomc":
/*!******************************************************!*\
  !*** ./src/app/theme/sso-page/sso-page.component.ts ***!
  \******************************************************/
/*! exports provided: SsoPageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SsoPageComponent", function() { return SsoPageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _login_sso_sso_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../login/sso/sso.component */ "0Kit");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class SsoPageComponent {
    constructor() { }
    ngOnInit() {
    }
}
SsoPageComponent.ɵfac = function SsoPageComponent_Factory(t) { return new (t || SsoPageComponent)(); };
SsoPageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SsoPageComponent, selectors: [["app-sso-page"]], decls: 1, vars: 0, template: function SsoPageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-sso");
    } }, directives: [_login_sso_sso_component__WEBPACK_IMPORTED_MODULE_1__["SsoComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RoZW1lL3Nzby1wYWdlL3Nzby1wYWdlLmNvbXBvbmVudC5jc3MifQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SsoPageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-sso-page',
                templateUrl: './sso-page.component.html',
                styleUrls: ['./sso-page.component.css']
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "Tvhd":
/*!*********************************************************************************!*\
  !*** ./src/app/reports/report-items/computed-scale/computed-scale.component.ts ***!
  \*********************************************************************************/
/*! exports provided: ComputedScaleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComputedScaleComponent", function() { return ComputedScaleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_models_scale_result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/models/scale-result */ "+u/X");
/* harmony import */ var _shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/services/assessment-hydrator.service */ "RKwW");
/* harmony import */ var app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/reports/models/base-report-item-component */ "D8FE");
/* harmony import */ var _assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../assessment-charts/scale-chart/scale-chart.component */ "GzvG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








function ComputedScaleComponent_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 7);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r0.scaleResult == null ? null : ctx_r0.scaleResult.range == null ? null : ctx_r0.scaleResult.range.clientContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
class ComputedScaleComponent extends app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_3__["BaseReportItemComponent"] {
    constructor(hydrator) {
        super();
        this.hydrator = hydrator;
    }
    setReportData(data, results, variables) {
        this._scaleResult = new _shared_models_scale_result__WEBPACK_IMPORTED_MODULE_1__["ScaleResult"]();
        if (data) {
            if (data.scale) {
                this._scaleResult.scale = this.hydrator.hydrateScale(data.scale);
            }
            // calculation, assessments
            this._calculation = data.calculation || "SUM";
            if (data.items) {
                data.items.forEach(i => this.addCalculation(i));
                this._scaleResult.range = this._scaleResult.scale.getRangeForScore(this._scaleResult.score);
            }
        }
    }
    ngOnInit() { }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    get scaleResult() {
        return this._scaleResult;
    }
    addCalculation(item) {
        let result = this.results.find(r => r.assessment.uid == item.assessmentUid);
        let scaleResult = result ? result.scaleResults.find(sr => sr.scale.id == item.scaleId) : null;
        if (!(result && scaleResult)) {
            return;
        }
        if (this._calculation === "SUM") {
            this._scaleResult.score += scaleResult.score;
        }
    }
}
ComputedScaleComponent.ɵfac = function ComputedScaleComponent_Factory(t) { return new (t || ComputedScaleComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentHydrator"])); };
ComputedScaleComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ComputedScaleComponent, selectors: [["app-computed-scale"]], inputs: { data: "data", results: ["data", "results"] }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 16, vars: 6, consts: [[1, "well", "row", "col-xs-12"], [1, "row"], [1, "col-xs-12", "text-center", 3, "id"], [1, "col-xs-12", "text-center"], [1, "col-xs-12", "col-sm-offset-1", "col-sm-10", "col-md-offset-2", "col-md-8"], [3, "scale-result"], ["class", "col-xs-12", 3, "innerHTML", 4, "ngIf"], [1, "col-xs-12", 3, "innerHTML"]], template: function ComputedScaleComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "em");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "small");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "em");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Score:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "h4", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "em");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Range:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](14, "app-scale-chart", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, ComputedScaleComponent_div_15_Template, 1, 1, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx.scaleResult.scale.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.scaleResult.scale.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.scaleResult.score, "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.scaleResult.range.displayName, "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scale-result", ctx.scaleResult);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.scaleResult == null ? null : ctx.scaleResult.range == null ? null : ctx.scaleResult.range.clientContent);
    } }, directives: [_assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_4__["ScaleChartComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ComputedScaleComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-computed-scale',
                templateUrl: './computed-scale.component.html'
            }]
    }], function () { return [{ type: _shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentHydrator"] }]; }, { data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["data"]
        }], results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["data"]
        }] }); })();


/***/ }),

/***/ "U6Kg":
/*!**********************************************!*\
  !*** ./src/app/shared/toast/toast-config.ts ***!
  \**********************************************/
/*! exports provided: ToastData, defaultToastConfig, TOAST_CONFIG_TOKEN */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToastData", function() { return ToastData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultToastConfig", function() { return defaultToastConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOAST_CONFIG_TOKEN", function() { return TOAST_CONFIG_TOKEN; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class ToastData {
}
const defaultToastConfig = {
    position: {
        bottom: 40,
        right: 20,
    },
    animation: {
        fadeOut: 2500,
        fadeIn: 300,
    },
    timeToDisplay: 5000,
    spacer: 30,
};
const TOAST_CONFIG_TOKEN = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('toast-config');


/***/ }),

/***/ "UIUU":
/*!***************************************************************!*\
  !*** ./src/app/library-assets/models/library-asset-result.ts ***!
  \***************************************************************/
/*! exports provided: LibraryAssetResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LibraryAssetResult", function() { return LibraryAssetResult; });
class LibraryAssetResult {
    constructor() {
        this.answers = [];
    }
}


/***/ }),

/***/ "UT0e":
/*!***************************************************!*\
  !*** ./src/app/shared/models/textbox-question.ts ***!
  \***************************************************/
/*! exports provided: TextboxQuestion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextboxQuestion", function() { return TextboxQuestion; });
/* harmony import */ var _question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./question */ "wEdZ");
/* harmony import */ var _question_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./question-type */ "F+TI");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class TextboxQuestion extends _question__WEBPACK_IMPORTED_MODULE_0__["Question"] {
    constructor() {
        super();
        this.type = _question_type__WEBPACK_IMPORTED_MODULE_1__["QuestionType"].Textbox;
        this.skip_scoring = true;
    }
    setSavedAnswer(answer, labels) {
        this._answer = answer;
    }
    // public set skip_scoring(v:boolean) {
    //     // make sure it always skip scoring.
    //     this.skip_scoring = true;
    // }
    get answer() {
        return this._answer;
    }
    set answer(v) {
        this._answer = v;
    }
    get answerDisplayText() {
        return this._answer;
    }
    get answerForSave() {
        return this._answer;
    }
    hasAnswer(answer) {
        return this._answer == answer;
    }
    get isFilledOut() {
        return this._answer != null;
    }
}


/***/ }),

/***/ "Ue/t":
/*!**********************************************************************************************!*\
  !*** ./src/app/reports/scale-results-table-summary/scale-results-table-summary.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: ScaleResultsTableSummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleResultsTableSummaryComponent", function() { return ScaleResultsTableSummaryComponent; });
/* harmony import */ var _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/report-navigator.service */ "5IhB");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/copy-clipboard.service */ "V0KM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







function ScaleResultsTableSummaryComponent_th_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "View");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
function ScaleResultsTableSummaryComponent_tr_12_td_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "td", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ScaleResultsTableSummaryComponent_tr_12_td_1_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6); const scaleResult_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r4.goToScaleResult(scaleResult_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
function ScaleResultsTableSummaryComponent_tr_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tr", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ScaleResultsTableSummaryComponent_tr_12_td_1_Template, 3, 0, "td", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", ctx_r1.getScaleResultClassNames(scaleResult_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r1.showViewLink);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r1.getMaxName(scaleResult_r2.scale), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](scaleResult_r2.scale.descriptionTherapist);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate2"]("", scaleResult_r2.score, " / ", ctx_r1.getTotalPossibleForResult(scaleResult_r2), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r1.getLabelNameForRange(scaleResult_r2));
} }
class ScaleResultsTableSummaryComponent {
    constructor(navigator, copyClipboardService, elementRef) {
        this.navigator = navigator;
        this.copyClipboardService = copyClipboardService;
        this.elementRef = elementRef;
        this.showViewLink = true;
    }
    ngOnInit() {
    }
    getPrintContent() {
        // table can just return a clone of the native element.
        return this.elementRef.nativeElement.cloneNode(true);
    }
    copyTable() {
        let copyTable = [];
        copyTable.push(["Scale", "Description", "Raw Score / Total", "Severity"]);
        if (this.scaleResults.length) {
            this.scaleResults.forEach(sr => {
                let row = [];
                row.push(sr.scale.name ? '"' + sr.scale.name + '"' : '');
                row.push(sr.scale.descriptionTherapist ? '"' + sr.scale.descriptionTherapist + '"' : '');
                row.push('"' + sr.score + " / " + sr.scale.getMaxScore() + '"');
                row.push('"' + this.getLabelNameForRange(sr) + '"');
                copyTable.push(row);
            });
        }
        this.copyClipboardService.copyTableToText(copyTable);
    }
    getMaxName(obj) {
        if (typeof obj.name !== 'string') {
            return '';
        }
        let strLen = Math.min(obj.name.length, 255);
        return obj.name.substring(0, strLen);
    }
    getScaleResultClassNames(scaleResult) {
        if (this.highlightScaleResults && this.highlightScaleResults.length) {
            if (this.highlightScaleResults.find(hs => hs.scale.id == scaleResult.scale.id)) {
                return ["primary-color text-light highlight-result"];
            }
        }
        return [];
    }
    goToScaleResult(scaleResult) {
        if (this.navigator.hasNavigationItem(scaleResult.scale.id)) {
            this.navigator.navigate(scaleResult.scale.id);
        }
    }
    getTotalPossibleForResult(scaleResult) {
        return scaleResult.scale.getMaxScore();
    }
    getLabelNameForRange(scaleResult) {
        let name = scaleResult.getRangeDisplayName();
        if (this.rangeLabelMapping &&
            this.rangeLabelMapping[scaleResult.scale.id]) {
            let scaleMap = this.rangeLabelMapping[scaleResult.scale.id];
            if (scaleMap[scaleResult.range.id]) {
                name = scaleMap[scaleResult.range.id];
            }
        }
        return name;
    }
}
ScaleResultsTableSummaryComponent.ɵfac = function ScaleResultsTableSummaryComponent_Factory(t) { return new (t || ScaleResultsTableSummaryComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__["ReportNavigatorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_2__["CopyClipboardService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])); };
ScaleResultsTableSummaryComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: ScaleResultsTableSummaryComponent, selectors: [["app-scale-results-table-summary"]], inputs: { scaleResults: "scaleResults", severityLabels: "severityLabels", rangeLabelMapping: "rangeLabelMapping", highlightScaleResults: "highlightScaleResults", showViewLink: "showViewLink" }, decls: 13, vars: 2, consts: [[1, "table", "table-striped", "col"], [1, "table-header", "row", "secondary-color", "text-white", "mt-3"], ["class", "cell-data col d-print-none", 4, "ngIf"], [1, "cell-data", "col"], [1, "cell-data", "col-3"], ["title", "Copy Table", "alt", "Copy Table", 1, "fa", "fa-clipboard", "float-right", "d-print-none", 3, "click"], ["class", "row", 3, "ngClass", 4, "ngFor", "ngForOf"], [1, "cell-data", "col", "d-print-none"], [1, "row", 3, "ngClass"], ["class", "col d-print-none cell-data", 4, "ngIf"], [1, "col", "cell-data"], [1, "col-3", "cell-data", "text-small"], [1, "col", "d-print-none", "cell-data"], [1, "m-0", "btn", "btn-primary", "btn-sm", 3, "click"], [1, "fa", "fa-bar-chart"]], template: function ScaleResultsTableSummaryComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "tr", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, ScaleResultsTableSummaryComponent_th_2_Template, 2, 0, "th", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4, "Scale");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "th", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6, "Description");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8, "Raw Score / Total");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](9, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](10, "Severity ");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "i", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ScaleResultsTableSummaryComponent_Template_i_click_11_listener() { return ctx.copyTable(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](12, ScaleResultsTableSummaryComponent_tr_12_Template, 10, 7, "tr", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.showViewLink);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.scaleResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ScaleResultsTableSummaryComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'app-scale-results-table-summary',
                templateUrl: './scale-results-table-summary.component.html'
            }]
    }], function () { return [{ type: _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__["ReportNavigatorService"] }, { type: app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_2__["CopyClipboardService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"] }]; }, { scaleResults: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], severityLabels: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], rangeLabelMapping: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], highlightScaleResults: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], showViewLink: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }] }); })();


/***/ }),

/***/ "UfRX":
/*!***************************************************************!*\
  !*** ./src/app/assessment-charts/assessment-charts.module.ts ***!
  \***************************************************************/
/*! exports provided: AssessmentChartsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentChartsModule", function() { return AssessmentChartsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scale-chart/scale-chart.component */ "GzvG");
/* harmony import */ var _services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/scale-result-color.service */ "s1ev");
/* harmony import */ var _scale_chart_legend_scale_chart_legend_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scale-chart-legend/scale-chart-legend.component */ "x9rJ");
/* harmony import */ var _legend_color_icon_legend_color_icon_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./legend-color-icon/legend-color-icon.component */ "8T2e");
/* harmony import */ var _summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./summary-scales-chart/summary-scales-chart.component */ "7gIF");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








class AssessmentChartsModule {
}
AssessmentChartsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AssessmentChartsModule });
AssessmentChartsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AssessmentChartsModule_Factory(t) { return new (t || AssessmentChartsModule)(); }, providers: [_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_3__["ScaleResultColorService"]], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]
            // ,ChartsModule
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AssessmentChartsModule, { declarations: [_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_2__["ScaleChartComponent"], _scale_chart_legend_scale_chart_legend_component__WEBPACK_IMPORTED_MODULE_4__["ScaleChartLegendComponent"], _legend_color_icon_legend_color_icon_component__WEBPACK_IMPORTED_MODULE_5__["LegendColorIconComponent"], _summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_6__["SummaryScalesChartComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]
        // ,ChartsModule
    ], exports: [_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_2__["ScaleChartComponent"], _scale_chart_legend_scale_chart_legend_component__WEBPACK_IMPORTED_MODULE_4__["ScaleChartLegendComponent"], _summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_6__["SummaryScalesChartComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssessmentChartsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]
                    // ,ChartsModule
                ],
                providers: [_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_3__["ScaleResultColorService"]],
                declarations: [_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_2__["ScaleChartComponent"], _scale_chart_legend_scale_chart_legend_component__WEBPACK_IMPORTED_MODULE_4__["ScaleChartLegendComponent"], _legend_color_icon_legend_color_icon_component__WEBPACK_IMPORTED_MODULE_5__["LegendColorIconComponent"], _summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_6__["SummaryScalesChartComponent"]],
                exports: [_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_2__["ScaleChartComponent"], _scale_chart_legend_scale_chart_legend_component__WEBPACK_IMPORTED_MODULE_4__["ScaleChartLegendComponent"], _summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_6__["SummaryScalesChartComponent"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "V0KM":
/*!***********************************************************!*\
  !*** ./src/app/shared/services/copy-clipboard.service.ts ***!
  \***********************************************************/
/*! exports provided: CopyClipboardService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopyClipboardService", function() { return CopyClipboardService; });
/* harmony import */ var _alert_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alert.service */ "Cmua");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




class CopyClipboardService {
    constructor(alertService) {
        this.alertService = alertService;
    }
    copyTableToText(table) {
        if (!table) {
            throw new Error("Invalid table passed");
        }
        this.copyText(table.map(row => row.join(",")).join("\r\n"));
    }
    copyText(content) {
        try {
            var textarea = document.createElement("textarea");
            textarea.id = "dac-copytext-textarea";
            textarea.value = content;
            document.body.appendChild(textarea);
            var copyTextarea = document.getElementById("dac-copytext-textarea");
            copyTextarea.select();
            var successful = document.execCommand('copy');
            document.body.removeChild(textarea);
            this.alertService.success("Copied To Clipboard!");
        }
        catch (err) {
            if (textarea) {
                document.body.removeChild(textarea);
            }
            this.alertService.error("Uh Oh! Looks like your browser doesn't support this feature.  Highlight the text and press Ctrl+C or CMD+C", 5000);
        }
    }
}
CopyClipboardService.ɵfac = function CopyClipboardService_Factory(t) { return new (t || CopyClipboardService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_alert_service__WEBPACK_IMPORTED_MODULE_0__["AlertService"])); };
CopyClipboardService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: CopyClipboardService, factory: CopyClipboardService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](CopyClipboardService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _alert_service__WEBPACK_IMPORTED_MODULE_0__["AlertService"] }]; }, null); })();


/***/ }),

/***/ "V1uT":
/*!*************************************************!*\
  !*** ./src/app/shared/models/managed-client.ts ***!
  \*************************************************/
/*! exports provided: ManagedClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManagedClient", function() { return ManagedClient; });
/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./client */ "wa/n");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

;
// TODO: stephen look at moving this into the models
class ManagedClient extends _client__WEBPACK_IMPORTED_MODULE_0__["Client"] {
    constructor() {
        super();
        this.assignments = [];
    }
    get user() {
        return this.assignedUser;
    }
    set user(v) {
        this.assignedUser = v;
    }
    getAssessmentGroups() {
        let groups = [];
        this.assignments.forEach(a => {
            if (a.Type == "AssessmentGroup") {
                groups.push(a);
            }
        });
        return groups;
    }
    /**
     * Looks for the passed in assignment and removes it if it is found
     * in the current client.  If it is not found it's treated as a no-op.
     */
    removeAssignment(assignment) {
        let indexOf = this.assignments.indexOf(assignment);
        if (indexOf >= 0) {
            this.assignments.splice(indexOf, 1);
        }
    }
    getAssignmentsCompleted() {
        return this.assignments.filter((a) => a.IsComplete).length;
    }
    hasNoAssignments() {
        return this.assignments.length == 0;
    }
    hasFinishedAllAssignments() {
        if (this.assignments.length) {
            return this.assignments.every(a => a.IsComplete);
        }
        return false;
    }
    getNextAssignmentItemToComplete() {
        // find the first assignment that is not complete.
        let assignment = this.assignments.find((a) => !a.IsComplete);
        if (!assignment) {
            return null;
        }
        let item = assignment.getNextAssignmentItemToComplete();
        if (!item) {
            console.error("Assignment marked as incomplete but items are complete. Assignment:", assignment);
        }
        return item;
    }
    getAssignment(id) {
        if (!this.assignments) {
            return null;
        }
        return this.assignments.find(a => a.Id == id);
    }
    findAssignmentItem(id) {
        let assignment = null;
        this.assignments.some(a => {
            let item = a.Items.find(i => i.Id == id);
            if (item) {
                assignment = item;
                return true;
            }
            return false;
        });
        return assignment;
    }
    hasStartedAssignments() {
        return this.assignments && this.assignments.length && this.assignments[0].IsComplete;
    }
    getDisplayString() {
        let name = [];
        if (this.firstName || this.lastName) {
            if (this.firstName) {
                name.push(" ");
                name.push(this.firstName);
            }
            if (this.lastName) {
                name.push(" ");
                name.push(this.lastName);
            }
        }
        else {
            name.push("<NAME MISSING>");
        }
        return name.join("");
    }
    findAssignmentForAssignmentItem(item) {
        return this.assignments.find((a) => a.hasItem(item));
    }
    findAssignmentItemForAssessmentUid(uid) {
        let assignment = this.assignments.find((a) => {
            if (a.Type == "Assessment" && a.Items.length) {
                let assignedAssessment = a.Items[0];
                if (assignedAssessment.Uid == uid) {
                    return true;
                }
                return false;
            }
        });
        if (assignment) {
            return assignment.Items[0];
        }
        return null;
    }
    findAssignmentItemForAssetId(assetId) {
        let assignment = this.assignments.find((a) => {
            if (a.Type == "LibraryAsset") {
                let assignedAsset = a.Items[0];
                if (assignedAsset.AssetId == assetId) {
                    return true;
                }
                return false;
            }
        });
        if (assignment) {
            return assignment.Items[0];
        }
        return null;
    }
    markAssignmentCompleted(item) {
        if (!(item && item.Id)) {
            throw new Error("Missing item or item id");
        }
        let assignment = this.findAssignmentForAssignmentItem(item);
        if (assignment) {
            assignment.markCompleted(item);
        }
        else {
            throw new Error("Failed to find assignment for item" + item.Id);
        }
    }
}


/***/ }),

/***/ "VN7E":
/*!************************************************************!*\
  !*** ./src/app/debug/fhir-client/fhir-client.component.ts ***!
  \************************************************************/
/*! exports provided: FhirClientComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FhirClientComponent", function() { return FhirClientComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/fhir-service */ "y+jN");






/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class FhirClientComponent {
    constructor(fhirService, dacConfig) {
        this.fhirService = fhirService;
        this.dacConfig = dacConfig;
    }
    ngOnInit() {
        if (this.dacConfig.isFeatureEnabled("debug")) {
            console.log("debug is enabled");
        }
        else {
            console.log("debug is disabled");
        }
    }
    refreshToken() {
        this.fhirService.refreshToken().then(result => {
            console.log("Refresh token occurred");
        })
            .catch(error => {
            console.error(error);
        });
    }
}
FhirClientComponent.ɵfac = function FhirClientComponent_Factory(t) { return new (t || FhirClientComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"])); };
FhirClientComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: FhirClientComponent, selectors: [["dac-fhir-client"]], decls: 5, vars: 0, consts: [[1, "container-fluid", "mb-3"], [1, "row", "justify-content-center"], [1, "col-12", "col-md-8", "col-lg-4"], ["type", "button", "value", "Refresh Token", 1, "btn", "btn-primary", 3, "click"]], template: function FhirClientComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Fhir debug settings go here ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "input", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function FhirClientComponent_Template_input_click_4_listener() { return ctx.refreshToken(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FhirClientComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-fhir-client',
                templateUrl: './fhir-client.component.html'
            }]
    }], function () { return [{ type: app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "W+8L":
/*!**********************************************************!*\
  !*** ./src/app/reports/text-item/text-item.component.ts ***!
  \**********************************************************/
/*! exports provided: TextItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextItemComponent", function() { return TextItemComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/reports/models/base-report-item-component */ "D8FE");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class TextItemComponent extends app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__["BaseReportItemComponent"] {
    constructor() {
        super();
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    setReportData(data, results, variables) {
        this.data = data;
    }
}
TextItemComponent.ɵfac = function TextItemComponent_Factory(t) { return new (t || TextItemComponent)(); };
TextItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TextItemComponent, selectors: [["app-text-item"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 2, vars: 0, template: function TextItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " text-item works!\n");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TextItemComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-text-item',
                templateUrl: './text-item.component.html'
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "WWiz":
/*!*********************************************!*\
  !*** ./src/app/shared/models/assessment.ts ***!
  \*********************************************/
/*! exports provided: Assessment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Assessment", function() { return Assessment; });
/* harmony import */ var _utility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utility */ "M7wF");

class Assessment {
    constructor() {
        this.id = null;
        this.display_order = 1;
        this.enabled = 1;
        this.instructions = "";
        this.display_client_results = true;
        this.question_sets = [];
        this.scales = [];
        this.version = 1;
        // TODO: stephen when we expand to other tests we need to change this.
        this.name = "";
        this.uid = "";
        this.resourcesURL = "";
        this.creator = "";
        this.creatorUrl = "";
        this.description = "";
        this.isPublic = false;
    }
    get creator() {
        return this._creator;
    }
    set creator(v) {
        this._creator = v;
    }
    get description() {
        return this._description;
    }
    set description(v) {
        this._description = v;
    }
    get creatorUrl() {
        return this._creatorUrl;
    }
    set creatorUrl(v) {
        this._creatorUrl = v;
    }
    get resourcesURL() {
        return this._resourcesURL;
    }
    set resourcesURL(v) {
        this._resourcesURL = v;
    }
    get uid() {
        return this._uid;
    }
    set uid(v) {
        this._uid = v;
    }
    get name() {
        return this._name;
    }
    set name(v) {
        this._name = v;
    }
    get id() {
        return this._id;
    }
    set id(id) {
        this._id = id;
    }
    get display_order() {
        return this._display_order;
    }
    set display_order(order) {
        this._display_order = order;
    }
    get enabled() {
        return this._enabled;
    }
    set enabled(enable) {
        this._enabled = enable;
    }
    get instructions() {
        return this._instructions;
    }
    set instructions(desc) {
        this._instructions = desc;
    }
    get display_client_results() {
        return this._display_client_results;
    }
    set display_client_results(display) {
        this._display_client_results = display;
    }
    get question_sets() {
        return this._question_sets;
    }
    set question_sets(sets) {
        this._question_sets = sets;
    }
    get scales() {
        return this._scales;
    }
    set scales(scales) {
        this._scales = scales;
    }
    get version() {
        return this._version;
    }
    set version(version) {
        this._version = version;
    }
    get therapistDescription() {
        return this._therapistDescription;
    }
    set therapistDescription(value) {
        this._therapistDescription = value;
    }
    get isPublic() {
        return this._isPublic;
    }
    set isPublic(value) {
        this._isPublic = value;
    }
    addQuestionSet(qs) {
        this.question_sets.push(qs);
    }
    removeQuestionSet(qs) {
        let index = this.question_sets.indexOf(qs);
        if (index >= 0) {
            this.question_sets.splice(index, 1);
        }
    }
    addScale(scale) {
        this.scales.push(scale);
    }
    removeScale(scale) {
        let index = this.scales.indexOf(scale);
        if (index >= 0) {
            this.scales.splice(index, 1);
            this.question_sets.forEach(q => q.removeScale(scale));
        }
    }
    getQuestionsForScale(scale) {
        let questions = [];
        this.question_sets.forEach(qs => {
            let qsQuestions = qs.questions.filter(q => q.assessment_scale.id === scale.id);
            questions = questions.concat(qsQuestions);
        });
        return questions;
    }
    shiftScaleUp(scale) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionUp(this._scales, scale);
    }
    shiftScaleDown(scale) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionDown(this._scales, scale);
    }
    shiftQuestionSetUp(questionSet) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionUp(this._question_sets, questionSet);
    }
    shiftQuestionSetDown(questionSet) {
        _utility__WEBPACK_IMPORTED_MODULE_0__["Utility"].shiftCollectionDown(this._question_sets, questionSet);
    }
    getQuestionSetsForDisplay() {
        return this._question_sets.filter(qs => this.shouldDisplayQuestionSet(qs));
    }
    shouldDisplayQuestionSet(qs) {
        let displayConditions = qs.getDisplayConditions();
        if (!displayConditions || !displayConditions.length) {
            return true;
        }
        let showRatings = displayConditions.map(dc => dc.getDisplay(this));
        // TODO: stephen when we can have multiple conditions we need to have some kind of point ranking
        // or other system for this
        if (showRatings.length) {
            if (showRatings[0] === 'hide') {
                return false;
            }
        }
        return true;
    }
    getFirstQuestionSetToDisplay() {
        let questionSets = this.getQuestionSetsForDisplay();
        if (questionSets.length) {
            return questionSets[0];
        }
        return null;
    }
    getQuestionSetById(id) {
        let set = this._question_sets.find(qs => qs.id == id);
        return set;
    }
    getQuestionsList() {
        return (this._question_sets || [])
            .map(qs => qs.questions || []) // grab the questions
            .reduce((prev, curr) => prev.concat(curr), []); // concatenate all the arrays
    }
    getQuestionsListById() {
        let initQuestionList = new Map();
        let questionsById = (this._question_sets || [])
            .map(qs => qs.questions || []) // grab the questions
            .reduce((prev, curr) => prev.concat(curr), []) // concatenate all the arrays
            .reduce((prev, curr) => { prev[curr.id] = curr; return prev; }, initQuestionList); // now return the questions by their ids, every question id is unique
        return questionsById;
    }
    getNextQuestionSetToDisplay(questionSet) {
        let index = this._question_sets.indexOf(questionSet);
        if (index < 0) {
            throw new Error("The question set could not be found with id " + questionSet.id);
        }
        for (var i = index + 1; i < this._question_sets.length; i++) {
            if (this.shouldDisplayQuestionSet(this._question_sets[i])) {
                return this._question_sets[i];
            }
        }
        return null;
    }
    getPreviousQuestionSetToDisplay(questionSet) {
        let index = this._question_sets.indexOf(questionSet);
        if (index < 0) {
            throw new Error("The question set could not be found with id " + questionSet.id);
        }
        for (var i = index - 1; i >= 0; i--) {
            if (this.shouldDisplayQuestionSet(this._question_sets[i])) {
                return this._question_sets[i];
            }
        }
        return null;
    }
    getFlaggedQuestions() {
        let questions = [];
        let flaggedQuestions = this.question_sets.map(qs => {
            return qs.questions.filter(q => q.isFlaggedForReview);
        })
            .filter(questions => questions.length)
            .reduce((prev, cur) => {
            return cur.concat(prev);
        }, []);
        return flaggedQuestions;
    }
}


/***/ }),

/***/ "WcRw":
/*!*****************************************************************!*\
  !*** ./src/app/shared/user-selector/user-selector.component.ts ***!
  \*****************************************************************/
/*! exports provided: UserSelectorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSelectorComponent", function() { return UserSelectorComponent; });
/* harmony import */ var _models_role__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/role */ "Y5fV");
/* harmony import */ var _login_services_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../login/services/auth.service */ "6Hrc");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_models_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/models/user */ "NlNA");
/* harmony import */ var _shared_services_user_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/services/user.service */ "kmKP");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/select */ "d3UM");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/core */ "FKr1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */











function UserSelectorComponent_mat_option_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "mat-option", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const u_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("value", u_r2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](u_r2.getDisplayName());
} }
class UserSelectorComponent {
    constructor(userService, authService) {
        this.userService = userService;
        this.authService = authService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_2__["EventEmitter"]();
        this.users = [];
    }
    ngOnInit() {
        this.authService.getCurrentUser().then(currentUser => {
            let getUsers = Promise.resolve([currentUser]);
            if (currentUser.role <= _models_role__WEBPACK_IMPORTED_MODULE_0__["Role"].Admin) {
                getUsers = this.userService.getUsers();
            }
            getUsers.then((users) => {
                let activeUsers = users.filter(u => u.enabled); // only display activated users.
                if (this.filter) {
                    this.users = activeUsers.filter(this.filter);
                }
                else {
                    this.users = activeUsers;
                }
                this.setupSelectedUser();
            });
        });
    }
    ngAfterContentInit() {
    }
    ngOnChanges() {
        this.setupSelectedUser();
    }
    setupSelectedUser() {
        if (!this.user) {
            this.selectedUser = null;
        }
        else {
            this.selectedUser = this.users.find(u => u.id == this.user.id);
        }
    }
    get Users() {
        return this.users;
    }
    get selectedUserId() {
        return this._selectedUserId;
    }
    set selectedUserId(v) {
        this._selectedUserId = v;
    }
    selectUser(selected) {
        let user = selected.value;
        this.selected.emit(user);
    }
}
UserSelectorComponent.ɵfac = function UserSelectorComponent_Factory(t) { return new (t || UserSelectorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_shared_services_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_login_services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"])); };
UserSelectorComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: UserSelectorComponent, selectors: [["user-selector"]], inputs: { allowEmpty: "allowEmpty", user: "user", filter: "filter" }, outputs: { selected: "selected" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵNgOnChangesFeature"]], decls: 5, vars: 2, consts: [["placeholder", "Choose a user", 1, "colorful-select", "dropdown-primary", 3, "value", "selectionChange", "valueChange"], ["select", ""], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"]], template: function UserSelectorComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "mat-select", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("selectionChange", function UserSelectorComponent_Template_mat_select_selectionChange_0_listener($event) { return ctx.selectUser($event); })("valueChange", function UserSelectorComponent_Template_mat_select_valueChange_0_listener($event) { return ctx.selectedUser = $event; });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "mat-option");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3, "None");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](4, UserSelectorComponent_mat_option_4_Template, 2, 2, "mat-option", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("value", ctx.selectedUser);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", ctx.Users);
    } }, directives: [_angular_material_select__WEBPACK_IMPORTED_MODULE_5__["MatSelect"], _angular_material_core__WEBPACK_IMPORTED_MODULE_6__["MatOption"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC91c2VyLXNlbGVjdG9yL3VzZXItc2VsZWN0b3IuY29tcG9uZW50LmNzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](UserSelectorComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"],
        args: [{
                selector: 'user-selector',
                templateUrl: './user-selector.component.html',
                styleUrls: ['./user-selector.component.css']
            }]
    }], function () { return [{ type: _shared_services_user_service__WEBPACK_IMPORTED_MODULE_4__["UserService"] }, { type: _login_services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"] }]; }, { selected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Output"]
        }], allowEmpty: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"]
        }], user: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"]
        }], filter: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Input"]
        }] }); })();


/***/ }),

/***/ "WpHV":
/*!****************************************!*\
  !*** ./src/app/shared/models/order.ts ***!
  \****************************************/
/*! exports provided: Order */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Order", function() { return Order; });
class Order {
    constructor() {
        this.id = null;
        this.status = 'pending';
        this.orderItems = [];
        this.total = 0;
        this.discount = 0;
        this.creation_date = new Date();
        this.last_update_date = new Date();
    }
}


/***/ }),

/***/ "X3zk":
/*!***************************************!*\
  !*** ./src/app/login/login.module.ts ***!
  \***************************************/
/*! exports provided: LoginModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginModule", function() { return LoginModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./login/login.component */ "gEuR");
/* harmony import */ var _services_auth_guard_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./services/auth-guard.service */ "w0ua");
/* harmony import */ var _services_admin_guard_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/admin-guard.service */ "xVLz");
/* harmony import */ var _logout_logout_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./logout/logout.component */ "nC1Y");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shared/shared.module */ "PCNd");
/* harmony import */ var _admin_login_admin_login_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./admin-login/admin-login.component */ "Mjyu");
/* harmony import */ var _login_header_login_header_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./login-header/login-header.component */ "8zWb");
/* harmony import */ var _login_dialog_login_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./login-dialog/login-dialog.component */ "f5yX");
/* harmony import */ var app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/login/has-permission/has-permission */ "mlUz");
/* harmony import */ var _sso_sso_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./sso/sso.component */ "0Kit");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _services_auth_guard_login_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./services/auth-guard-login.service */ "H8G6");
/* harmony import */ var _admin_login_finalize_admin_login_finalize_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./admin-login-finalize/admin-login-finalize.component */ "LTHS");
/* harmony import */ var _login_finalize_login_finalize_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./login-finalize/login-finalize.component */ "6lBM");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */













// import { ForgotPasswordComponent } from './forgot-password/forgot-password.component';
// import { AmplifyAuthService } from './services/amplify-auth-service';

// import { RequireNewPasswordComponent } from './require-new-password/require-new-password.component';
// import { SignInComponent } from './sign-in/sign-in.component';
// import { ConfirmSignInComponent } from './confirm-sign-in/confirm-sign-in.component';




class LoginModule {
}
LoginModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: LoginModule });
LoginModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function LoginModule_Factory(t) { return new (t || LoginModule)(); }, providers: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"], _services_admin_guard_service__WEBPACK_IMPORTED_MODULE_4__["AdminGuard"], _services_auth_guard_login_service__WEBPACK_IMPORTED_MODULE_14__["AuthGuardLogin"]
        // , AmplifyAuthService
        // ,{
        //   provide: AMPLIFY_AUTH_SERVICE, useValue: Auth
        // }
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_12__["CommonModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_13__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ReactiveFormsModule"]
            // ,AmplifyAngularModule
            ,
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](LoginModule, { declarations: [_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"], _logout_logout_component__WEBPACK_IMPORTED_MODULE_5__["LogoutComponent"], _admin_login_admin_login_component__WEBPACK_IMPORTED_MODULE_7__["AdminLoginComponent"], _admin_login_finalize_admin_login_finalize_component__WEBPACK_IMPORTED_MODULE_15__["AdminLoginFinalizeComponent"], _login_finalize_login_finalize_component__WEBPACK_IMPORTED_MODULE_16__["LoginFinalizeComponent"],
        _login_header_login_header_component__WEBPACK_IMPORTED_MODULE_8__["LoginHeaderComponent"], _login_dialog_login_dialog_component__WEBPACK_IMPORTED_MODULE_9__["LoginDialogComponent"], app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_10__["HasPermissionDirective"], _sso_sso_component__WEBPACK_IMPORTED_MODULE_11__["SsoComponent"]
        // , ForgotPasswordComponent, RequireNewPasswordComponent, SignInComponent, ConfirmSignInComponent
    ], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_12__["CommonModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_13__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ReactiveFormsModule"]
        // ,AmplifyAngularModule
        ,
        _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"]], exports: [_logout_logout_component__WEBPACK_IMPORTED_MODULE_5__["LogoutComponent"], _login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"], _admin_login_admin_login_component__WEBPACK_IMPORTED_MODULE_7__["AdminLoginComponent"],
        _admin_login_finalize_admin_login_finalize_component__WEBPACK_IMPORTED_MODULE_15__["AdminLoginFinalizeComponent"], _login_finalize_login_finalize_component__WEBPACK_IMPORTED_MODULE_16__["LoginFinalizeComponent"],
        app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_10__["HasPermissionDirective"], _sso_sso_component__WEBPACK_IMPORTED_MODULE_11__["SsoComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_12__["CommonModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_13__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_13__["ReactiveFormsModule"]
                    // ,AmplifyAngularModule
                    ,
                    _shared_shared_module__WEBPACK_IMPORTED_MODULE_6__["SharedModule"]
                ],
                entryComponents: [_login_dialog_login_dialog_component__WEBPACK_IMPORTED_MODULE_9__["LoginDialogComponent"]],
                declarations: [_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"], _logout_logout_component__WEBPACK_IMPORTED_MODULE_5__["LogoutComponent"], _admin_login_admin_login_component__WEBPACK_IMPORTED_MODULE_7__["AdminLoginComponent"], _admin_login_finalize_admin_login_finalize_component__WEBPACK_IMPORTED_MODULE_15__["AdminLoginFinalizeComponent"], _login_finalize_login_finalize_component__WEBPACK_IMPORTED_MODULE_16__["LoginFinalizeComponent"],
                    _login_header_login_header_component__WEBPACK_IMPORTED_MODULE_8__["LoginHeaderComponent"], _login_dialog_login_dialog_component__WEBPACK_IMPORTED_MODULE_9__["LoginDialogComponent"], app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_10__["HasPermissionDirective"], _sso_sso_component__WEBPACK_IMPORTED_MODULE_11__["SsoComponent"]
                    // , ForgotPasswordComponent, RequireNewPasswordComponent, SignInComponent, ConfirmSignInComponent
                ],
                providers: [_services_auth_guard_service__WEBPACK_IMPORTED_MODULE_3__["AuthGuard"], _services_admin_guard_service__WEBPACK_IMPORTED_MODULE_4__["AdminGuard"], _services_auth_guard_login_service__WEBPACK_IMPORTED_MODULE_14__["AuthGuardLogin"]
                    // , AmplifyAuthService
                    // ,{
                    //   provide: AMPLIFY_AUTH_SERVICE, useValue: Auth
                    // }
                ],
                exports: [_logout_logout_component__WEBPACK_IMPORTED_MODULE_5__["LogoutComponent"], _login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"], _admin_login_admin_login_component__WEBPACK_IMPORTED_MODULE_7__["AdminLoginComponent"],
                    _admin_login_finalize_admin_login_finalize_component__WEBPACK_IMPORTED_MODULE_15__["AdminLoginFinalizeComponent"], _login_finalize_login_finalize_component__WEBPACK_IMPORTED_MODULE_16__["LoginFinalizeComponent"],
                    app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_10__["HasPermissionDirective"], _sso_sso_component__WEBPACK_IMPORTED_MODULE_11__["SsoComponent"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "XMJk":
/*!*************************************************!*\
  !*** ./src/app/shared/toast/toast.component.ts ***!
  \*************************************************/
/*! exports provided: ToastComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToastComponent", function() { return ToastComponent; });
/* harmony import */ var _toast_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toast-config */ "U6Kg");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _toast_animation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toast-animation */ "m+jd");
/* harmony import */ var _toast_ref__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toast-ref */ "565i");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0, a1) { return { fadeIn: a0, fadeOut: a1 }; };
const _c2 = function (a0, a1) { return { value: a0, params: a1 }; };
class ToastComponent {
    constructor(data, ref
    // @Inject(TOAST_CONFIG_TOKEN) private toastConfig: ToastConfig
    ) {
        this.data = data;
        this.ref = ref;
        this.animationState = 'default';
        this.toastConfig = _toast_config__WEBPACK_IMPORTED_MODULE_0__["defaultToastConfig"];
        this.type = data.type;
        switch (data.type) {
            case 'success':
                this.iconClass = 'check';
                break;
            case 'danger':
            case 'warning':
                this.iconClass = 'exclamation-circle';
                break;
            case 'info':
                this.iconClass = 'info-circle';
                break;
        }
    }
    ngOnInit() {
        let delay = this.data.timeToDisplay || this.toastConfig.timeToDisplay || 5000;
        this.intervalId = setTimeout(() => {
            this.close();
        }, delay);
    }
    ngOnDestroy() {
        clearTimeout(this.intervalId);
    }
    close() {
        this.ref.close();
    }
    onFadeFinished(event) {
        const { toState } = event;
        const isFadeOut = toState === 'closing';
        const itFinished = this.animationState === 'closing';
        if (isFadeOut && itFinished) {
            this.close();
        }
    }
    get Config() {
        return this.toastConfig;
    }
}
ToastComponent.ɵfac = function ToastComponent_Factory(t) { return new (t || ToastComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_toast_config__WEBPACK_IMPORTED_MODULE_0__["ToastData"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_toast_ref__WEBPACK_IMPORTED_MODULE_3__["ToastRef"])); };
ToastComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: ToastComponent, selectors: [["dac-toast"]], decls: 5, vars: 14, consts: [[1, "alert", 3, "ngClass"], ["aria-hidden", "true", 1, "alert-type-icon", "fa", 3, "ngClass"], [1, "alert-message"], ["aria-hidden", "true", 1, "fa", "fa-times", 3, "click"]], template: function ToastComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("@fadeAnimation.done", function ToastComponent_Template_div_animation_fadeAnimation_done_0_listener($event) { return ctx.onFadeFinished($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "i", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "i", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function ToastComponent_Template_i_click_4_listener() { return ctx.close(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](4, _c0, "alert-" + ctx.type))("@fadeAnimation", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](9, _c2, ctx.animationState, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](6, _c1, ctx.Config.animation.fadeIn, ctx.Config.animation.fadeOut)));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](12, _c0, "fa-" + ctx.iconClass));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.data.text);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"]], encapsulation: 2, data: { animation: [_toast_animation__WEBPACK_IMPORTED_MODULE_2__["toastAnimations"].fadeToast] } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ToastComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'dac-toast',
                templateUrl: './toast.component.html',
                animations: [_toast_animation__WEBPACK_IMPORTED_MODULE_2__["toastAnimations"].fadeToast],
            }]
    }], function () { return [{ type: _toast_config__WEBPACK_IMPORTED_MODULE_0__["ToastData"] }, { type: _toast_ref__WEBPACK_IMPORTED_MODULE_3__["ToastRef"] }]; }, null); })();


/***/ }),

/***/ "Xehb":
/*!*********************************************!*\
  !*** ./src/app/shared/models/Assignment.ts ***!
  \*********************************************/
/*! exports provided: Assignment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Assignment", function() { return Assignment; });
class Assignment {
    constructor() {
        this.dateAssigned = null;
        this.appointmentId = null;
        this.type = "Assessment";
        this.items = [];
    }
    get Id() {
        return this.id;
    }
    set Id(v) {
        this.id = v;
    }
    get AppointmentId() {
        return this.appointmentId;
    }
    set AppointmentId(v) {
        this.appointmentId = v;
    }
    get DateAssigned() {
        return this.dateAssigned;
    }
    set DateAssigned(v) {
        this.dateAssigned = v;
    }
    get DateCompleted() {
        return this.dateCompleted;
    }
    set DateCompleted(v) {
        this.dateCompleted = v;
    }
    setDateAssigned(time) {
        this.DateAssigned = new Date(time);
        return this.DateAssigned;
    }
    get IsComplete() {
        return this.dateCompleted != null;
    }
    get Type() {
        return this.type;
    }
    set Type(v) {
        this.type = v;
    }
    get Items() {
        return this.items;
    }
    set Items(v) {
        v = v || []; // make sure we always get an array here
        this.items = v;
    }
    get isGroup() {
        return false;
    }
    hasItem(v) {
        if (!(v && v.Id)) {
            return false;
        }
        if (this.items.find(i => i.Id == v.Id) !== undefined) {
            return true;
        }
        return false;
    }
    getTotalAssignments() {
        return this.items.length;
    }
    getAssignmentsCompleted() {
        return this.items.filter(i => i.IsComplete).length;
    }
    get hasStarted() {
        return this.getAssignmentsCompleted() > 0;
    }
    getNextAssignmentItemToComplete() {
        return this.items.find(i => !i.IsComplete);
    }
    markCompleted(assignment) {
        let item = this.items.find(i => i.Id == assignment.Id);
        if (item) {
            item.DateCompleted = new Date();
        }
        if (this.Items.every(i => i.IsComplete)) {
            this.DateCompleted = new Date();
        }
    }
    getResultIds() {
        return this.Items.filter(i => i.IsComplete).map(i => i.ResultId);
    }
    getAssessmentResultIds() {
        return this.Items.filter(i => i.IsComplete && i.Type == 'Assessment').map(i => i.ResultId);
    }
    getQuestionnaireResponseItems() {
        return this.Items.filter(i => i.IsComplete && (i.Type == 'Questionnaire' || i.Type == 'ExternalQuestionnaire'));
    }
}


/***/ }),

/***/ "Xetn":
/*!*******************************************************!*\
  !*** ./src/app/shared/models/AssignedLibraryAsset.ts ***!
  \*******************************************************/
/*! exports provided: AssignedLibraryAsset */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignedLibraryAsset", function() { return AssignedLibraryAsset; });
/* harmony import */ var _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AssignmentItem */ "z8B+");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class AssignedLibraryAsset extends _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__["AssignmentItem"] {
    constructor() {
        super();
    }
    get AssetUuid() {
        return this.assetUuid;
    }
    set AssetUuid(v) {
        this.assetUuid = v;
    }
    get AssetId() {
        return this.assetId;
    }
    set AssetId(v) {
        this.assetId = v;
    }
}


/***/ }),

/***/ "Y5fV":
/*!***************************************!*\
  !*** ./src/app/shared/models/role.ts ***!
  \***************************************/
/*! exports provided: Role */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Role", function() { return Role; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
var Role;
(function (Role) {
    Role[Role["SuperUser"] = 1] = "SuperUser";
    Role[Role["Owner"] = 2] = "Owner";
    Role[Role["Admin"] = 3] = "Admin";
    Role[Role["Registered"] = 4] = "Registered";
    Role[Role["Client"] = 5] = "Client";
    Role[Role["UnAuthenticated"] = 6] = "UnAuthenticated";
})(Role || (Role = {}));


/***/ }),

/***/ "YEXO":
/*!***************************************************************************************************!*\
  !*** ./src/app/reports/report-items/therapist-scale-results/therapist-scale-results.component.ts ***!
  \***************************************************************************************************/
/*! exports provided: TherapistScaleResultsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TherapistScaleResultsComponent", function() { return TherapistScaleResultsComponent; });
/* harmony import */ var _shared_models_assessment_result__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/models/assessment-result */ "TNk8");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_models_scale_list_data_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/reports/models/scale-list-data-component */ "Rj0n");
/* harmony import */ var app_reports_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/reports/services/report-navigator.service */ "5IhB");
/* harmony import */ var app_assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/assessment-charts/summary-scales-chart/summary-scales-chart.component */ "7gIF");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _scale_range_content_scale_range_content_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../scale-range-content/scale-range-content.component */ "xuKX");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");
/* harmony import */ var _scale_sub_list_scale_sub_list_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../scale-sub-list/scale-sub-list.component */ "E8QE");












const _c0 = ["summaryScaleChart"];
const _c1 = function (a0) { return [a0]; };
function TherapistScaleResultsComponent_div_5_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "app-summary-scales-chart", 15, 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("showNames", false)("scaleResults", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](4, _c1, scaleResult_r1))("showRangeScore", ctx_r4.ShowRangeScore)("reverseDirection", ctx_r4.shouldReverseScaleGraph(scaleResult_r1));
} }
function TherapistScaleResultsComponent_div_5_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "app-scale-range-content", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("scaleResult", scaleResult_r1);
} }
function TherapistScaleResultsComponent_div_5_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "app-scale-questions-list", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("QuestionActions", ctx_r6.getActionByScale(scaleResult_r1.scale))("Questions", ctx_r6.getQuestionsForScaleResult(scaleResult_r1));
} }
function TherapistScaleResultsComponent_div_5_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "dac-scale-sub-list", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("SubScales", ctx_r7.getSubScales(scaleResult_r1));
} }
const _c2 = function (a0, a1) { return { "force-page-break": a0, "mb-3": a1 }; };
function TherapistScaleResultsComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, TherapistScaleResultsComponent_div_5_div_7_Template, 4, 6, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, TherapistScaleResultsComponent_div_5_div_8_Template, 2, 1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, TherapistScaleResultsComponent_div_5_div_9_Template, 2, 2, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, TherapistScaleResultsComponent_div_5_div_10_Template, 2, 1, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = ctx.$implicit;
    const index_r2 = ctx.index;
    const last_r3 = ctx.last;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("id", ctx_r0.getScaleResultNavigatorId(scaleResult_r1))("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](9, _c2, ctx_r0.shouldPrintBreak(index_r2), !last_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate3"]("", scaleResult_r1.scale == null ? null : scaleResult_r1.scale.name, " (Scored ", scaleResult_r1.getScoreForDisplay(), " / ", scaleResult_r1.scale.getMaxScore(), ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r0.SkipGraph);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r0.SkipContent);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.shouldShowQuestionList(scaleResult_r1));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.shouldShowSubScalesList(scaleResult_r1));
} }
class TherapistScaleResultsComponent extends app_reports_models_scale_list_data_component__WEBPACK_IMPORTED_MODULE_2__["ScaleDataSectionComponent"] {
    constructor(navigator, el) {
        super();
        this.navigator = navigator;
        this.el = el;
        this._skipContent = false;
        this._skipGraph = false;
        this._skipTable = false;
        this._showRangeScore = true;
        this._rollUpQuestions = false;
    }
    ngOnInit() {
        // coming from the decorator.
        // assign all the data that comes from the navigator.
        if (this.externalScalesPerPage) {
            this._scales_per_page = this.externalScalesPerPage;
        }
        if (this.externalScaleResults) {
            this.ScaleResults.push(...this.externalScaleResults);
        }
        if (this.externalAssessmentResult) {
            this.AssessmentResult = this.externalAssessmentResult;
        }
        if (this.externalTitle) {
            this._title = this.externalTitle;
        }
    }
    ngAfterViewInit() {
        if (this.ScaleResults) {
            this.populateNavigator(this.ScaleResults);
        }
        super.ngAfterViewInit();
    }
    ngOnDestroy() {
        this.cleanupNavigator();
    }
    getPrintContent() {
        let documentFragment = new DocumentFragment();
        // clone ourselves so we can manipulate our dom
        documentFragment.appendChild(this.el.nativeElement.cloneNode(true));
        let chartContainer = documentFragment.querySelector(".scale-chart-container");
        let chartImage = this.summaryScaleChartComponent.getChartAsHtmlImageElement();
        chartImage.className = chartContainer.className;
        chartContainer.replaceWith(chartImage);
        return documentFragment.firstElementChild;
    }
    getLegendLabels(scaleResult) {
        return scaleResult.scale.ranges.map(r => r.displayName);
    }
    getTitle() {
        return this._title;
    }
    setReportData(data, results, variables) {
        super.setReportData(data, results, variables);
        if (data && data.hasOwnProperty('expandContent') && data.expandContent === false) {
            this.expandContent = false;
        }
        if (data && data.title) {
            this._title = data.title;
        }
        else {
            this._title = this.Assessment.name;
        }
        if (data && data.scales_per_page) {
            this._scales_per_page = +data.scales_per_page;
        }
        else if (this.ScaleResults) {
            // this makes it so we never force a page break here.
            this._scales_per_page = this.ScaleResults.length + 1;
        }
        else {
            console.error("No scales found for component");
            this._scales_per_page = 0;
        }
        if (data) {
            this._skipTable = data.skipTable == true;
            this._skipGraph = data.skipGraph == true;
            this._skipContent = data.skipContent == true;
            // default is to show them... so we want to check for false instead of true.
            // so that old reports always shows the score range...
            this._showRangeScore = data.showRangeScore !== false;
            this._rollUpQuestions = data.rollUpQuestions == true;
            if (data.hasTableAction) {
                let questionById = this.Assessment.getQuestionsListById();
                this._questionActions = (data.tableActions || []).map(ta => {
                    let question = questionById[ta.questionId] || {};
                    return {
                        scale: question.scale,
                        question: question,
                        action: ta.action,
                        label: data.tableActionLabel,
                        data: ta.data
                    };
                });
                // this._questionActionsByScale = {};
                // (data.tableActions || []).forEach(ta => {
                //
                //   let scaleResult = this.ScaleResults.find(sr => sr.scale.id == ta.scaleId);
                //   if (!scaleResult) {
                //     console.error("Could not find scale result with scale id ", ta.scaleId);
                //   } else if (!this._questionActionsByScale[scaleResult.scale.id]) {
                //     this._questionActionsByScale[scaleResult.scale.id] = [];
                //   }
                //   let action = {
                //     scale: scaleResult.scale
                //     ,question: questions[ta.questionId]
                //     ,action: ta.action
                //     ,label: data.tableActionLabel
                //     ,data: ta.data
                //   };
                //   this._questionActionsByScale[ta.scaleId].push(action);
                // })
            }
        }
    }
    shouldShowQuestionList(scaleResult) {
        if (this.SkipTable) {
            return false;
        }
        if (this.hasSubScales(scaleResult) && !this.shouldRollUpQuestions(scaleResult)) {
            return false;
        }
        return true;
    }
    shouldRollUpQuestions(scaleResult) {
        if (this.RollUpQuestions) {
            return true;
        }
        return scaleResult && scaleResult.scale && scaleResult.scale.rollUpSubScales === true;
    }
    shouldShowSubScalesList(scaleResult) {
        if (this.SkipTable) {
            return false;
        }
        if (this.hasSubScales(scaleResult)) {
            if (!this.shouldRollUpQuestions(scaleResult)) {
                return true;
            }
        }
        return false;
    }
    getQuestionsForScaleResult(scaleResult, depth = 0) {
        let questionList = [];
        if (depth > 50) {
            console.error("Max recursive depth reached");
            return questionList;
        }
        if (this.hasSubScales(scaleResult)) {
            let subScaleResults = this.getSubScales(scaleResult);
            questionList = subScaleResults.map(sr => this.getQuestionsForScaleResult(sr, depth + 1))
                .reduce((prev, curr) => prev.concat(curr), []);
        }
        else {
            questionList = this.Assessment.getQuestionsForScale(scaleResult.scale);
        }
        return questionList;
    }
    getActionByScale(scale) {
        return this._questionActions; // for now we just return everything
        // return this._questionActionsByScale[scale.id];
    }
    populateNavigator(scaleResults) {
        scaleResults.forEach(sr => {
            let rootElement = this.el.nativeElement;
            let element = rootElement.querySelector("#" + this.getScaleResultNavigatorId(sr));
            if (element) {
                this.navigator.registerItem(sr.scale.id, element);
            }
        });
    }
    getScaleResultNavigatorId(scaleResult) {
        return "id-" + scaleResult.scale.id;
    }
    cleanupNavigator() {
        this.ScaleResults.forEach(sr => {
            this.navigator.unregisterItem(sr.scale.id);
        });
    }
    shouldPrintBreak(index) {
        // since index is 0 based the the user scales per page is 1 based we convert.
        return ((index + 1) % this._scales_per_page == 0);
    }
    shouldReverseScaleGraph(scaleResult) {
        return scaleResult && scaleResult.scale && scaleResult.scale.negativeToPositiveRanges;
    }
    get ScalesPerPage() {
        return this._scales_per_page;
    }
    get Assessment() {
        if (this.AssessmentResult) {
            return this.AssessmentResult.assessment;
        }
        return null;
    }
    get SkipContent() {
        return this._skipContent;
    }
    get SkipGraph() {
        return this._skipGraph;
    }
    get SkipTable() {
        return this._skipTable;
    }
    get ShowRangeScore() {
        return this._showRangeScore;
    }
    get RollUpQuestions() {
        return this._rollUpQuestions;
    }
    hasSubScales(scaleResult) {
        return scaleResult && scaleResult.scale && scaleResult.scale.hasSubScales();
    }
    getSubScales(scaleResult) {
        if (scaleResult.scale.hasSubScales()) {
            return scaleResult.scale.getSubScaleIds().map(si => this.AssessmentResult.getScaleResultByScaleId(si));
        }
        return [];
    }
}
TherapistScaleResultsComponent.ɵfac = function TherapistScaleResultsComponent_Factory(t) { return new (t || TherapistScaleResultsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](app_reports_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_3__["ReportNavigatorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])); };
TherapistScaleResultsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: TherapistScaleResultsComponent, selectors: [["app-therapist-scale-results"]], viewQuery: function TherapistScaleResultsComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.summaryScaleChartComponent = _t.first);
    } }, inputs: { expandContent: "expandContent", externalScalesPerPage: ["scalesPerPage", "externalScalesPerPage"], externalScaleResults: ["scaleResults", "externalScaleResults"], externalAssessmentResult: ["assessmentResult", "externalAssessmentResult"], externalTitle: ["resultTitle", "externalTitle"] }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵInheritDefinitionFeature"]], decls: 6, vars: 2, consts: [[1, "card", "card-cascade", "d-print-block-visible"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], ["class", "report-print-page mb-3 row", 3, "id", "ngClass", 4, "ngFor", "ngForOf"], [1, "report-print-page", "mb-3", "row", 3, "id", "ngClass"], [1, "col"], [1, "card", "card-cascade"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "card-body", "pt-1", "pt-md-3"], ["class", "row justify-content-center", 4, "ngIf"], ["class", "row mb-0 mt-3", 4, "ngIf"], ["class", "row", 4, "ngIf"], [1, "row", "justify-content-center"], [1, "col-8", "ml-auto", "mr-auto"], [1, "card", "card-body", "row", "pt-1", "pt-md-3", 3, "showNames", "scaleResults", "showRangeScore", "reverseDirection"], ["summaryScaleChart", ""], [1, "row", "mb-0", "mt-3"], [1, "col", 3, "scaleResult"], [1, "row"], [1, "col-12", "d-report-print-page", 3, "QuestionActions", "Questions"], [1, "col-12", "d-report-print-page", 3, "SubScales"]], template: function TherapistScaleResultsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, TherapistScaleResultsComponent_div_5_Template, 11, 12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx.getTitle());
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.ScaleResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], app_assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_4__["SummaryScalesChartComponent"], _scale_range_content_scale_range_content_component__WEBPACK_IMPORTED_MODULE_6__["ScaleRangeContentComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_7__["ScaleQuestionsListComponent"], _scale_sub_list_scale_sub_list_component__WEBPACK_IMPORTED_MODULE_8__["ScaleSubListComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TherapistScaleResultsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'app-therapist-scale-results',
                templateUrl: './therapist-scale-results.component.html'
            }]
    }], function () { return [{ type: app_reports_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_3__["ReportNavigatorService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"] }]; }, { expandContent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], externalScalesPerPage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"],
            args: ["scalesPerPage"]
        }], externalScaleResults: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"],
            args: ["scaleResults"]
        }], externalAssessmentResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"],
            args: ["assessmentResult"]
        }], externalTitle: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"],
            args: ["resultTitle"]
        }], summaryScaleChartComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ["summaryScaleChart"]
        }] }); })();


/***/ }),

/***/ "Yc7l":
/*!*********************************************!*\
  !*** ./src/app/shared/models/capability.ts ***!
  \*********************************************/
/*! exports provided: Capability */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Capability", function() { return Capability; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
/**
 * Used for more granular permissions
 */
var Capability;
(function (Capability) {
    // Can the user access the shop, buy from the shop, etc.
    Capability[Capability["CAN_SHOP"] = 1] = "CAN_SHOP";
    Capability[Capability["CAN_BUY_TOKENS"] = 2] = "CAN_BUY_TOKENS";
})(Capability || (Capability = {}));


/***/ }),

/***/ "Z6BE":
/*!*************************************************************!*\
  !*** ./src/app/library-assets/article/article.component.ts ***!
  \*************************************************************/
/*! exports provided: ArticleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArticleComponent", function() { return ArticleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_library_assets_models_library_asset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/library-assets/models/library-asset */ "0B44");
/* harmony import */ var app_library_assets_models_library_asset_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/library-assets/models/library-asset-result */ "UIUU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





const _c0 = ["journal"];
function ArticleComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "h4", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ArticleComponent_div_0_Template_input_click_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.print(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.article == null ? null : ctx_r0.article.title);
} }
function ArticleComponent_div_2_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 19, 20);
} }
function ArticleComponent_div_2_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 21, 20);
} }
function ArticleComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h4", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "i", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Time for Reflection");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "h5", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, ArticleComponent_div_2_div_8_Template, 2, 0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, ArticleComponent_div_2_div_9_Template, 2, 0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.article == null ? null : ctx_r1.article.journal);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.result);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.result);
} }
function ArticleComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "h4", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "input", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ArticleComponent_div_3_Template_input_click_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.submit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.article == null ? null : ctx_r2.article.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx_r2.disabled);
} }
class ArticleComponent {
    constructor() {
        this.onSubmit = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.hideHeaders = false;
    }
    ngOnInit() {
        // we've sanitized this on the server, and we need to get the ids
        if (this.article && this.article.content) {
            this.ArticleContent = this.article.content;
        }
    }
    print() {
        if (window && window.print) {
            window.print();
        }
    }
    get hasJournal() {
        if (this.article.journal) {
            return true;
        }
        return false;
    }
    populateExerciseJournal(journal) {
        if (this.journal && journal) {
            this.journal.nativeElement.innerText = journal;
        }
    }
    submit() {
        let journalEntry = null;
        if (this.journal) {
            journalEntry = this.journal.nativeElement.innerText;
        }
        let result = new app_library_assets_models_library_asset_result__WEBPACK_IMPORTED_MODULE_2__["LibraryAssetResult"]();
        result.asset = this.article;
        result.answers = []; // answers have to be an empty array
        result.journal = journalEntry;
        this.onSubmit.next(result);
    }
}
ArticleComponent.ɵfac = function ArticleComponent_Factory(t) { return new (t || ArticleComponent)(); };
ArticleComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ArticleComponent, selectors: [["dac-article"]], viewQuery: function ArticleComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.journal = _t.first);
    } }, inputs: { article: "article", result: "result", disabled: "disabled", hideHeaders: "hideHeaders" }, outputs: { onSubmit: "onSubmit" }, decls: 4, vars: 4, consts: [["class", "row p-2", 4, "ngIf"], [3, "innerHTML"], ["class", "card card-cascade wider mt-4 col-md-8 journalContainer", 4, "ngIf"], ["class", "row p-2 d-print-none", 4, "ngIf"], [1, "row", "p-2"], [1, "col-md-12", "card", "card-body"], [1, "row"], [1, "col-6", "col-sm-3", "col-md-2", "order-1"], [1, "col-12", "col-sm-6", "col-md-8", "text-center", "order-3", "order-md-2"], [1, "h4-responsive"], [1, "col-6", "col-sm-3", "col-md-2", "text-right", "order-2", "order-md-3"], ["type", "button", "value", "Print", 1, "btn", "btn-secondary", "d-print-none", 3, "click"], [1, "card", "card-cascade", "wider", "mt-4", "col-md-8", "journalContainer"], [1, "view", "gradient-card-header", "secondary-gradient"], [1, "fa", "fa-pencil", "p-2"], [1, "card-body"], [1, "text-center"], ["contenteditable", "true", "class", "form-control journal", 4, "ngIf"], ["class", "form-control journal", 4, "ngIf"], ["contenteditable", "true", 1, "form-control", "journal"], ["journal", ""], [1, "form-control", "journal"], [1, "row", "p-2", "d-print-none"], [1, "col", "card", "card-body"], ["type", "button", "value", "Next", 1, "btn", "btn-primary", 3, "disabled", "click"]], template: function ArticleComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ArticleComponent_div_0_Template, 9, 1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ArticleComponent_div_2_Template, 10, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ArticleComponent_div_3_Template, 9, 2, "div", 3);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hideHeaders);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.ArticleContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasJournal);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hideHeaders);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS1hc3NldHMvYXJ0aWNsZS9hcnRpY2xlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9saWJyYXJ5LWFzc2V0cy9hcnRpY2xlL2FydGljbGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjIgRGlzY292ZXIgYW5kIENoYW5nZSBAYXV0aG9yIFN0ZXBoZW4gTmllbHNvbiA8c25pZWxzb25AZGlzY292ZXJhbmRjaGFuZ2UuY29tPlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBGb3IgTGljZW5zZSBpbmZvcm1hdGlvbiBzZWUgTElDRU5TRS5tZCBpbiB0aGUgcm9vdCBmb2xkZXIgb2YgdGhpcyBwcm9qZWN0LlxuICovXG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ArticleComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-article',
                templateUrl: './article.component.html',
                styleUrls: ['./article.component.scss']
            }]
    }], function () { return []; }, { article: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], result: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], onSubmit: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], disabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["disabled"]
        }], hideHeaders: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], journal: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['journal']
        }] }); })();


/***/ }),

/***/ "ZAI4":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app-routing.module */ "vY5A");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shared/shared.module */ "PCNd");
/* harmony import */ var _login_login_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./login/login.module */ "X3zk");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "Sy1n");
/* harmony import */ var _theme_theme_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme/theme.module */ "BLWB");
/* harmony import */ var _reports_reports_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./reports/reports.module */ "uHdG");
/* harmony import */ var _companies_companies_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./companies/companies.module */ "Nt43");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/platform-browser/animations */ "R1ws");
/* harmony import */ var _account_owner_settings_account_owner_settings_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./account-owner-settings/account-owner-settings.component */ "h4nx");
/* harmony import */ var _navigation_navigation_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./navigation/navigation.component */ "k5x5");
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/cdk/layout */ "0MNC");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/toolbar */ "/t3+");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/button */ "bTqV");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/sidenav */ "XhcP");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/icon */ "NFeN");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/list */ "MutI");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material/dialog */ "0IaG");
/* harmony import */ var _debug_debug_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./debug/debug.module */ "z7D9");





// import { HomeComponent } from './home/home.component';




// import { HelpComponent } from './help/help.component';

// import { BaaComponent } from './baa/baa.component';
// import { PrivacyComponent } from './privacy/privacy.component';
// import { TermsAndConditionsComponent } from './terms-and-conditions/terms-and-conditions.component';











// import { ToastModule } from './shared/toast/toast.module';
class AppModule {
}
AppModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AppModule, bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]] });
AppModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AppModule_Factory(t) { return new (t || AppModule)(); }, providers: [
        { provide: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__["MAT_DIALOG_DEFAULT_OPTIONS"], useValue: {
                panelClass: ['d-block', 'white', 'mr-3', 'ml-3'],
                hasBackdrop: true,
                closeOnNavigation: true
            } }
    ], imports: [[
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_8__["BrowserAnimationsModule"],
            _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__["MatDialogModule"],
            // Not sure why we have to import the MDB modules here in root
            // instead of in our theme folder but I guess this works.
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"].forRoot(),
            _login_login_module__WEBPACK_IMPORTED_MODULE_3__["LoginModule"],
            _reports_reports_module__WEBPACK_IMPORTED_MODULE_6__["ReportsModule"],
            _theme_theme_module__WEBPACK_IMPORTED_MODULE_5__["ThemeModule"],
            _companies_companies_module__WEBPACK_IMPORTED_MODULE_7__["CompaniesModule"],
            _debug_debug_module__WEBPACK_IMPORTED_MODULE_18__["DebugModule"],
            _app_routing_module__WEBPACK_IMPORTED_MODULE_1__["AppRoutingModule"],
            _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_11__["LayoutModule"],
            _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_12__["MatToolbarModule"],
            _angular_material_button__WEBPACK_IMPORTED_MODULE_13__["MatButtonModule"],
            _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_14__["MatSidenavModule"],
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__["MatIconModule"],
            _angular_material_list__WEBPACK_IMPORTED_MODULE_16__["MatListModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AppModule, { declarations: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
        _account_owner_settings_account_owner_settings_component__WEBPACK_IMPORTED_MODULE_9__["AccountOwnerSettingsComponent"],
        _navigation_navigation_component__WEBPACK_IMPORTED_MODULE_10__["NavigationComponent"]], imports: [_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_8__["BrowserAnimationsModule"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__["MatDialogModule"], _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"], _login_login_module__WEBPACK_IMPORTED_MODULE_3__["LoginModule"],
        _reports_reports_module__WEBPACK_IMPORTED_MODULE_6__["ReportsModule"],
        _theme_theme_module__WEBPACK_IMPORTED_MODULE_5__["ThemeModule"],
        _companies_companies_module__WEBPACK_IMPORTED_MODULE_7__["CompaniesModule"],
        _debug_debug_module__WEBPACK_IMPORTED_MODULE_18__["DebugModule"],
        _app_routing_module__WEBPACK_IMPORTED_MODULE_1__["AppRoutingModule"],
        _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_11__["LayoutModule"],
        _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_12__["MatToolbarModule"],
        _angular_material_button__WEBPACK_IMPORTED_MODULE_13__["MatButtonModule"],
        _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_14__["MatSidenavModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__["MatIconModule"],
        _angular_material_list__WEBPACK_IMPORTED_MODULE_16__["MatListModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [
                    _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
                    _account_owner_settings_account_owner_settings_component__WEBPACK_IMPORTED_MODULE_9__["AccountOwnerSettingsComponent"],
                    _navigation_navigation_component__WEBPACK_IMPORTED_MODULE_10__["NavigationComponent"],
                ],
                imports: [
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_8__["BrowserAnimationsModule"],
                    _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__["MatDialogModule"],
                    // Not sure why we have to import the MDB modules here in root
                    // instead of in our theme folder but I guess this works.
                    _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"].forRoot(),
                    _login_login_module__WEBPACK_IMPORTED_MODULE_3__["LoginModule"],
                    _reports_reports_module__WEBPACK_IMPORTED_MODULE_6__["ReportsModule"],
                    _theme_theme_module__WEBPACK_IMPORTED_MODULE_5__["ThemeModule"],
                    _companies_companies_module__WEBPACK_IMPORTED_MODULE_7__["CompaniesModule"],
                    _debug_debug_module__WEBPACK_IMPORTED_MODULE_18__["DebugModule"],
                    _app_routing_module__WEBPACK_IMPORTED_MODULE_1__["AppRoutingModule"],
                    _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_11__["LayoutModule"],
                    _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_12__["MatToolbarModule"],
                    _angular_material_button__WEBPACK_IMPORTED_MODULE_13__["MatButtonModule"],
                    _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_14__["MatSidenavModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_15__["MatIconModule"],
                    _angular_material_list__WEBPACK_IMPORTED_MODULE_16__["MatListModule"],
                ],
                schemas: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["NO_ERRORS_SCHEMA"]],
                providers: [
                    { provide: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_17__["MAT_DIALOG_DEFAULT_OPTIONS"], useValue: {
                            panelClass: ['d-block', 'white', 'mr-3', 'ml-3'],
                            hasBackdrop: true,
                            closeOnNavigation: true
                        } }
                ],
                bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "a46E":
/*!****************************************!*\
  !*** ./src/app/tabs/tabs.component.ts ***!
  \****************************************/
/*! exports provided: TabsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TabsComponent", function() { return TabsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






const _c0 = function (a0) { return { active: a0 }; };
function TabsComponent_li_4_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TabsComponent_li_4_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const tab_r4 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.toggleActive(tab_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c0, tab_r4.isActive));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c0, tab_r4.isActive));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", tab_r4.heading, " ");
} }
function TabsComponent_ng_content_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0, 0, ["*ngIf", "!router; else routerContent"]);
} }
function TabsComponent_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "router-outlet");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c1 = ["*"];
class TabsComponent {
    constructor(_router, route) {
        this._router = _router;
        this.route = route;
        /**
         * If we want to improve the way these tabs work, or deal with dynamic tabs
         * we can follow these tutorials:
         * https://juristr.com/blog/2016/02/learning-ng2-creating-tab-component/
         * https://juristr.com/blog/2017/07/ng2-dynamic-tab-component/
         *
         * Used this share to figure out the routing piece.
         * https://stackoverflow.com/a/55100616
         */
        // typescript needs to know what properties will exist on class instances
        this.tabs = [];
        this.router = false;
        this.headerColor = "primary";
        this._router.events.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["filter"])(event => event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["NavigationEnd"]), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((endEvent) => {
            let child = this.route.firstChild;
            if (child && child.snapshot && child.snapshot.url && child.snapshot.url.length) {
                return child.snapshot.url[0].path;
            }
        }))
            .subscribe(activeRoute => {
            this.activeRoute = activeRoute;
            this.setupActiveTabFromRoute(this.activeRoute);
        });
    }
    get tabGroupClasses() {
        if (this.headerColor) {
            return this.headerColor + "-color";
        }
    }
    ngOnInit() {
    }
    ngAfterContentInit() {
        if (this.tabs) {
            if (!this.router) {
                this.toggleActive(this.tabs[0]);
            }
            else {
                let missingRouters = this.tabs.filter(t => !t.routerLink);
                missingRouters.forEach((t, i) => {
                    console.error("routerLink is missing from tab[", i, "] with title", t.heading);
                });
                this.setupActiveTabFromRoute(this.activeRoute);
            }
        }
    }
    setupActiveTabFromRoute(activeRoute) {
        if (this.tabs.length) {
            let tab = this.tabs.find(t => t.routerLink == activeRoute);
            this.toggleActive(tab);
        }
    }
    addTab(tab) {
        this.tabs.push(tab);
    }
    toggleActive(tab) {
        if (this.activeTab != tab) {
            this.tabs.forEach(t => t.isActive = t === tab);
            this.activeTab = tab;
            if (this.router) {
                this._router.navigate([tab.routerLink], { relativeTo: this.route });
            }
        }
    }
}
TabsComponent.ɵfac = function TabsComponent_Factory(t) { return new (t || TabsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"])); };
TabsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TabsComponent, selectors: [["dac-tabs"]], inputs: { router: "router", headerColor: "headerColor" }, ngContentSelectors: _c1, decls: 9, vars: 4, consts: [[1, "container-fluid"], [1, "row"], [1, "col-md-12"], ["role", "group", 1, "nav", "nav-tabs", "tabs-3", "primary-color", 3, "ngClass"], ["class", "nav-item", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], [4, "ngIf", "ngIfElse"], ["routerContent", ""], [1, "nav-item", 3, "ngClass", "click"], [1, "nav-link", "waves-light", "z-depth-0", 3, "ngClass"], [1, "tab-content", "card", "card-cascade", "col-12"], [1, "col"]], template: function TabsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ul", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, TabsComponent_li_4_Template, 3, 7, "li", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, TabsComponent_ng_content_6_Template, 1, 0, "ng-content", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, TabsComponent_ng_template_7_Template, 4, 0, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.tabGroupClasses);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.tabs);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.router)("ngIfElse", _r2);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterOutlet"]], styles: ["[_nghost-%COMP%] {\n  display: block;\n}\n[_nghost-%COMP%]   .nav-item[_ngcontent-%COMP%] {\n  color: #fff;\n}\n[_nghost-%COMP%]   .tab-header[_ngcontent-%COMP%] {\n  margin-left: 2rem;\n  margin-right: 2rem;\n  padding: 0.7rem;\n  margin-bottom: -2rem;\n  z-index: 5;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFicy90YWJzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUE7QUFLQTtFQUNFLGNBQUE7QUFDRjtBQUFFO0VBQ0MsV0FBQTtBQUVIO0FBQUU7RUFDRSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLG9CQUFBO0VBQ0EsVUFBQTtBQUVKIiwiZmlsZSI6InNyYy9hcHAvdGFicy90YWJzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgLm5hdi1pdGVtIHtcbiAgIGNvbG9yOiAjZmZmO1xuICB9XG4gIC50YWItaGVhZGVyIHtcbiAgICBtYXJnaW4tbGVmdDogMnJlbTtcbiAgICBtYXJnaW4tcmlnaHQ6IDJyZW07XG4gICAgcGFkZGluZzogLjdyZW07XG4gICAgbWFyZ2luLWJvdHRvbTogLTJyZW07XG4gICAgei1pbmRleDogNTtcblxuICB9XG59XG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TabsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-tabs',
                templateUrl: './tabs.component.html',
                styleUrls: ['./tabs.component.scss']
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }]; }, { router: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], headerColor: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "aXiC":
/*!******************************************************************!*\
  !*** ./src/app/reports/scale-summary/scale-summary.component.ts ***!
  \******************************************************************/
/*! exports provided: ScaleSummaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleSummaryComponent", function() { return ScaleSummaryComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/models/scale-result */ "+u/X");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assessment-charts/scale-chart/scale-chart.component */ "GzvG");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





function ScaleSummaryComponent_p_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "No scale result found\"");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleSummaryComponent_app_scale_chart_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-scale-chart", 6);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("show-ranges", false)("scale-result", ctx_r1.scaleResult)("show-scale-name", false);
} }
class ScaleSummaryComponent {
    constructor() { }
    ngOnInit() {
    }
}
ScaleSummaryComponent.ɵfac = function ScaleSummaryComponent_Factory(t) { return new (t || ScaleSummaryComponent)(); };
ScaleSummaryComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleSummaryComponent, selectors: [["app-scale-summary"]], inputs: { scaleResult: "scaleResult" }, decls: 9, vars: 4, consts: [[1, "chart"], [1, "row", "col-xs-12", "no-gutter"], [4, "ngIf"], [3, "show-ranges", "scale-result", "show-scale-name", 4, "ngIf"], [1, "text-center", "graph-title", "scale-name"], [1, "text-center", "graph-title", "range-name"], [3, "show-ranges", "scale-result", "show-scale-name"]], template: function ScaleSummaryComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ScaleSummaryComponent_p_2_Template, 2, 0, "p", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ScaleSummaryComponent_app_scale_chart_3_Template, 1, 3, "app-scale-chart", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "h4", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "h5", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.scaleResult);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.scaleResult);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.scaleResult == null ? null : ctx.scaleResult.scale == null ? null : ctx.scaleResult.scale.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.scaleResult == null ? null : ctx.scaleResult.range == null ? null : ctx.scaleResult.range.displayName);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_3__["ScaleChartComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleSummaryComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-scale-summary',
                templateUrl: './scale-summary.component.html'
            }]
    }], function () { return []; }, { scaleResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "b5Sj":
/*!**********************************************!*\
  !*** ./src/app/shared/models/scale-range.ts ***!
  \**********************************************/
/*! exports provided: ScaleRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleRange", function() { return ScaleRange; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class ScaleRange {
    constructor() {
        this.id = null;
        this.rangeStart = 0;
        this.rangeEnd = 0;
        this.name = "";
        this.displayName = "";
        this.clientContent = "";
        this.therapistContent = "";
        // for now we go to video... if we change to anything
        // else we can handle it from this flag.
        this.mediaType = "video";
        this.mediaURL = null;
        this.assignmentURL = null;
    }
    get id() {
        return this._id;
    }
    set id(v) {
        this._id = v;
    }
    get mediaType() {
        return this._mediaType;
    }
    set mediaType(v) {
        this._mediaType = v;
    }
    get mediaURL() {
        return this._mediaURL;
    }
    set mediaURL(v) {
        this._mediaURL = v;
    }
    hasMedia() {
        return this._mediaType == 'video' && this._mediaURL;
    }
    get assignmentURL() {
        return this._assignmentURL;
    }
    set assignmentURL(v) {
        this._assignmentURL = v;
    }
    get midPoint() {
        let mid = this.rangeStart + Math.ceil(Math.abs(this.rangeEnd - this.rangeStart) / 2);
        return mid;
    }
    getPercentageForRange(score) {
        let minRange = this.rangeStart;
        let maxRange = this.rangeEnd;
        if (score < minRange || score > maxRange) {
            throw new Error("Score(" + score + ") is out of range(" + minRange + "," + maxRange + ")");
        }
        // we make it inclusive and start our scores off one based if the rangeStart is a 0
        // if (minRange > 0) {
        // 	// we are inclusive so we are adding one to the endInterval
        // 	maxRange += 1;
        // }
        let maxInterval = Math.max(maxRange - minRange, 1);
        let interval = score - minRange;
        let normalizedPercentage = 0;
        // NOTE: APSATS request, if the interval range is only 1, and a user scores a 0 value we want the graph to show in the middle
        // instead of at the very beginning of the range.
        if (maxInterval == 1) {
            normalizedPercentage = interval == 0 ? 50 : 100;
        }
        else {
            normalizedPercentage = Math.round((interval / maxInterval) * 100);
        }
        return normalizedPercentage;
    }
    get rangeStart() {
        return this._rangeStart;
    }
    set rangeStart(v) {
        this._rangeStart = v;
    }
    get rangeEnd() {
        return this._rangeEnd;
    }
    set rangeEnd(v) {
        this._rangeEnd = v;
    }
    get name() {
        return this._name;
    }
    set name(v) {
        this._name = v;
    }
    get displayName() {
        return this._displayName;
    }
    set displayName(v) {
        this._displayName = v;
    }
    get therapistContent() {
        return this._content;
    }
    set therapistContent(v) {
        this._content = v;
    }
    get clientContent() {
        return this._clientContent;
    }
    set clientContent(value) {
        this._clientContent = value;
    }
}


/***/ }),

/***/ "b7og":
/*!***************************************************!*\
  !*** ./src/app/shared/models/assessment-group.ts ***!
  \***************************************************/
/*! exports provided: AssessmentGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentGroup", function() { return AssessmentGroup; });
class AssessmentGroup {
    constructor() {
        this.assessments = [];
        this.created = new Date();
        this.updated = new Date();
    }
    get ProfileId() {
        return this.profileId;
    }
    set ProfileId(id) {
        this.profileId = id;
    }
    get Id() {
        return this.id;
    }
    set Id(v) {
        this.id = v;
    }
    get Name() {
        return this.name;
    }
    set Name(v) {
        this.name = v;
    }
    get Assessments() {
        return this.assessments;
    }
    set Assessments(v) {
        this.assessments = v;
    }
    get Created() {
        return this.created;
    }
    set Created(v) {
        this.created = v;
    }
    get Updated() {
        return this.updated;
    }
    set Updated(v) {
        this.updated = v;
    }
}


/***/ }),

/***/ "bAL6":
/*!*********************************************************!*\
  !*** ./src/app/shared/spin-icon/spin-icon.component.ts ***!
  \*********************************************************/
/*! exports provided: SpinIconComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpinIconComponent", function() { return SpinIconComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



function SpinIconComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Loading...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SpinIconComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Loading...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class SpinIconComponent {
    constructor() {
        this.spinnerType = "small";
    }
    ngOnInit() {
    }
}
SpinIconComponent.ɵfac = function SpinIconComponent_Factory(t) { return new (t || SpinIconComponent)(); };
SpinIconComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SpinIconComponent, selectors: [["app-spin-icon"]], inputs: { spinnerType: "spinnerType" }, decls: 3, vars: 2, consts: [["class", "spinner-border text-info", "style", "width: 3rem; height: 3rem;", "role", "status", 4, "ngIf", "ngIfElse"], ["smallSpinner", ""], ["role", "status", 1, "spinner-border", "text-info", 2, "width", "3rem", "height", "3rem"], [1, "sr-only"]], template: function SpinIconComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SpinIconComponent_div_0_Template, 3, 0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SpinIconComponent_ng_template_1_Template, 3, 0, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.spinnerType == "big")("ngIfElse", _r1);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"]], styles: [".glyphicon-refresh-animate[_ngcontent-%COMP%] {\n    -animation: spin .7s infinite linear;\n    -webkit-animation: spin2 .7s infinite linear;\n}\n@-webkit-keyframes spin2 {\n    from { -webkit-transform: rotate(0deg);}\n    to { -webkit-transform: rotate(360deg);}\n}\n@-webkit-keyframes spin {\n    from { transform: scale(1) rotate(0deg);}\n    to { transform: scale(1) rotate(360deg);}\n}\n@keyframes spin {\n    from { transform: scale(1) rotate(0deg);}\n    to { transform: scale(1) rotate(360deg);}\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL3NwaW4taWNvbi9zcGluLWljb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRTtBQUNGO0lBQ0ksb0NBQW9DO0lBQ3BDLDRDQUE0QztBQUNoRDtBQUVBO0lBQ0ksT0FBTywrQkFBK0IsQ0FBQztJQUN2QyxLQUFLLGlDQUFpQyxDQUFDO0FBQzNDO0FBRUE7SUFDSSxPQUFPLGdDQUFnQyxDQUFDO0lBQ3hDLEtBQUssa0NBQWtDLENBQUM7QUFDNUM7QUFIQTtJQUNJLE9BQU8sZ0NBQWdDLENBQUM7SUFDeEMsS0FBSyxrQ0FBa0MsQ0FBQztBQUM1QyIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9zcGluLWljb24vc3Bpbi1pY29uLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEV4YW1wbGUgY2FtZSBmcm9tOiBodHRwczovL3d3dy5ib290cGx5LmNvbS8xMjgwNjJcbioqL1xuLmdseXBoaWNvbi1yZWZyZXNoLWFuaW1hdGUge1xuICAgIC1hbmltYXRpb246IHNwaW4gLjdzIGluZmluaXRlIGxpbmVhcjtcbiAgICAtd2Via2l0LWFuaW1hdGlvbjogc3BpbjIgLjdzIGluZmluaXRlIGxpbmVhcjtcbn1cblxuQC13ZWJraXQta2V5ZnJhbWVzIHNwaW4yIHtcbiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTt9XG4gICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7fVxufVxuXG5Aa2V5ZnJhbWVzIHNwaW4ge1xuICAgIGZyb20geyB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgwZGVnKTt9XG4gICAgdG8geyB0cmFuc2Zvcm06IHNjYWxlKDEpIHJvdGF0ZSgzNjBkZWcpO31cbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SpinIconComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-spin-icon',
                templateUrl: './spin-icon.component.html',
                styleUrls: ['./spin-icon.component.css']
            }]
    }], function () { return []; }, { spinnerType: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "bDMA":
/*!****************************************************!*\
  !*** ./src/app/shared/models/flagged-condition.ts ***!
  \****************************************************/
/*! exports provided: FlaggedCondition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlaggedCondition", function() { return FlaggedCondition; });
/* harmony import */ var app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/shared/models/question-type */ "F+TI");

class FlaggedCondition {
    constructor() {
        this.flagDirection = null;
        this.clearFlagValues();
    }
    clearFlagValues() {
        this._flagValues = [];
    }
    addFlagValue(lbl) {
        let index = this._flagValues.findIndex(fl => fl.id == lbl.id);
        if (index !== -1) {
            this._flagValues[index] = lbl;
        }
        this._flagValues.push(lbl);
    }
    removeFlagValue(lbl) {
        this._flagValues = this._flagValues.filter(fl => fl.id != lbl.id);
    }
    get flagValues() {
        return this._flagValues;
    }
    set flagDirection(v) {
        this._flagDirection = v;
    }
    get flagDirection() {
        return this._flagDirection;
    }
    shouldFlagQuestion(question, questionSet) {
        if (!question.hasAnswer) {
            return false;
        }
        if (question.type == app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_0__["QuestionType"].Textbox
            || question.type == app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_0__["QuestionType"].SingleChoice) {
            return true;
        }
        // TODO: Stephen need to handle custom labels here, which we are not handling flagged questions for.
        let lbls = questionSet.labels;
        if (question.type == app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_0__["QuestionType"].MultipleChoice) {
            let mcQuestion = question;
            // there is only one with multiple choice questions
            let flagValue = this._flagValues[0];
            let index = lbls.findIndex(l => l.id == flagValue.id);
            let answerIndex = lbls.findIndex(l => l.id == mcQuestion.answer.id);
            if (this.flagDirection == 'greaterOrEqual') {
                return answerIndex >= index;
            }
            else {
                return answerIndex <= index;
            }
        }
        if (question.type == app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_0__["QuestionType"].Checklist) {
            let clQuestion = question;
            let answers = clQuestion.answerForSave;
            let flagAnswer = lbls.some(l => answers[l.id]);
            return flagAnswer;
        }
        return false;
    }
}


/***/ }),

/***/ "bm9c":
/*!***********************************************************************************************************!*\
  !*** ./src/app/reports/report-items/scale-results-sections-list/scale-results-sections-list.component.ts ***!
  \***********************************************************************************************************/
/*! exports provided: ScaleResultsSectionsListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleResultsSectionsListComponent", function() { return ScaleResultsSectionsListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_models_scale_list_data_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/reports/models/scale-list-data-component */ "Rj0n");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../assessment-charts/scale-chart/scale-chart.component */ "GzvG");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");






function ScaleResultsSectionsListComponent_h2_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.AssessmentResult == null ? null : ctx_r0.AssessmentResult.assessment.creator);
} }
function ScaleResultsSectionsListComponent_h2_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.AssessmentResult == null ? null : ctx_r1.AssessmentResult.assessment.creatorUrl);
} }
function ScaleResultsSectionsListComponent_div_6_div_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 12);
} if (rf & 2) {
    const scaleResult_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", scaleResult_r3 == null ? null : scaleResult_r3.range == null ? null : scaleResult_r3.range.clientContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function ScaleResultsSectionsListComponent_div_6_app_scale_questions_list_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-scale-questions-list", 13);
} if (rf & 2) {
    const scaleResult_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", scaleResult_r3.questions);
} }
function ScaleResultsSectionsListComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "em");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "em");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Score:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "h4", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "em");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Your Category:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](14, "app-scale-chart", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, ScaleResultsSectionsListComponent_div_6_div_15_Template, 1, 1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, ScaleResultsSectionsListComponent_div_6_app_scale_questions_list_16_Template, 1, 1, "app-scale-questions-list", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", scaleResult_r3.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](scaleResult_r3.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", scaleResult_r3.score, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", scaleResult_r3.range == null ? null : scaleResult_r3.range.displayName, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scale-result", scaleResult_r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", scaleResult_r3 == null ? null : scaleResult_r3.range == null ? null : scaleResult_r3.range.clientContent);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", scaleResult_r3.questions);
} }
class ScaleResultsSectionsListComponent extends app_reports_models_scale_list_data_component__WEBPACK_IMPORTED_MODULE_1__["ScaleDataSectionComponent"] {
    constructor() {
        super();
    }
    getHTMLClassNames() {
        return ["scale-results", "report-item-component"];
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
}
ScaleResultsSectionsListComponent.ɵfac = function ScaleResultsSectionsListComponent_Factory(t) { return new (t || ScaleResultsSectionsListComponent)(); };
ScaleResultsSectionsListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleResultsSectionsListComponent, selectors: [["app-scale-results-sections-list"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 7, vars: 5, consts: [[1, "well", "row", "col-xs-12", "assessment-overview"], [4, "ngIf"], [3, "innerHTML"], ["class", "well row col-xs-12 assessment-scale-result", 4, "ngFor", "ngForOf"], [1, "well", "row", "col-xs-12", "assessment-scale-result"], [1, "row"], [1, "col-xs-12", "text-center", 3, "id"], [1, "col-xs-12", "text-center"], [1, "col-xs-12", "col-sm-offset-1", "col-sm-10", "col-md-offset-2", "col-md-8"], [3, "scale-result"], ["class", "col-xs-12", 3, "innerHTML", 4, "ngIf"], ["class", "col-xs-12", 3, "Questions", 4, "ngIf"], [1, "col-xs-12", 3, "innerHTML"], [1, "col-xs-12", 3, "Questions"]], template: function ScaleResultsSectionsListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ScaleResultsSectionsListComponent_h2_3_Template, 2, 1, "h2", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, ScaleResultsSectionsListComponent_h2_4_Template, 2, 1, "h2", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, ScaleResultsSectionsListComponent_div_6_Template, 17, 7, "div", 3);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.creator);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.creatorUrl);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.description, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.ScaleResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_3__["ScaleChartComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_4__["ScaleQuestionsListComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleResultsSectionsListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-scale-results-sections-list',
                templateUrl: './scale-results-sections-list.component.html'
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "d+6K":
/*!*************************************************************!*\
  !*** ./src/app/shared/services/assessment-token.service.ts ***!
  \*************************************************************/
/*! exports provided: AssessmentTokenService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentTokenService", function() { return AssessmentTokenService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var _dac_config_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dac-config.service */ "OApS");
/* harmony import */ var app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/login/services/auth.service */ "6Hrc");
/* harmony import */ var _models_capability__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/capability */ "Yc7l");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */









class AssessmentTokenService {
    constructor(
    // TODO: stephen replace $http here with our dac$http
    _dac$http, authService, dacConfig) {
        this._dac$http = _dac$http;
        this.authService = authService;
        this.dacConfig = dacConfig;
        this.authService.getLoginState().subscribe(state => {
            this.tokensEnabled = false;
            if (!this.dacConfig.isFeatureEnabled("assessments.tokens.enabled")) {
                return;
            }
            if (state.isLoggedIn && state.user) {
                this.tokensEnabled = state.user.hasCapability(_models_capability__WEBPACK_IMPORTED_MODULE_4__["Capability"].CAN_BUY_TOKENS);
            }
        });
        // TODO: stephen if we remove tokens all together we want to remove this feature.
        if (this.dacConfig.isFeatureEnabled("assessments.tokens.enabled")) {
            this.tokensEnabled = true;
            this.authService.getCurrentUser().then(user => {
                if (!user.hasCapability(_models_capability__WEBPACK_IMPORTED_MODULE_4__["Capability"].CAN_BUY_TOKENS)) {
                    this.tokensEnabled = false;
                }
            });
        }
        else {
            this.tokensEnabled = false;
        }
        this.assessmentQuotas = new Map();
    }
    isTokensEnabled() {
        return this.tokensEnabled;
    }
    getGroupRemainingTokens(group) {
        let numTests = group.Assessments ? group.Assessments.length : 0;
        if (numTests <= 0) {
            return 0;
        }
        var tokensRemaining = 9999999999; // obscenely large number
        // the smallest number of tokens in the group determines how much more the group
        // can be used.
        group.Assessments.forEach((a) => {
            let testCount = this.getRemainingTokens(a);
            tokensRemaining = Math.min(testCount, tokensRemaining);
        });
        return tokensRemaining;
    }
    hasTokens(assessment) {
        return this.getRemainingTokens(assessment) > 0;
    }
    getTotalTokens(assessment) {
        let quota = this.getItemForUid(assessment.uid);
        return quota ? quota.total_tokens : 0;
    }
    getUsedTokens(assessment) {
        let quota = this.getItemForUid(assessment.uid);
        return quota ? quota.used_tokens : 0;
    }
    getRemainingTokens(assessment) {
        let quota = this.getItemForUid(assessment.uid);
        return quota ? quota.remaining_tokens : 0;
    }
    consumeToken(assessmentUid) {
        // TODO: do we throw an exception if there are no tokens?
        let quota = this.getItemForUid(assessmentUid);
        if (quota) {
            quota.remaining_tokens -= 1;
            quota.used_tokens += 1;
        }
        else {
            console.error("No quota found for assessment with uid ", assessmentUid);
        }
    }
    freeToken(assessmentUid) {
        let quota = this.getItemForUid(assessmentUid);
        if (quota) {
            quota.remaining_tokens += 1;
            quota.used_tokens -= 1;
        }
        else {
            console.error("No quota found for assessment with uid ", assessmentUid);
        }
    }
    addTokensForGroup(group, tokens) {
        group.Assessments.map(a => this.addTokens(a, tokens));
    }
    addTokens(assessment, tokens) {
        let quota = this.getItemForUid(assessment.uid);
        if (quota) {
            quota.remaining_tokens += tokens;
        }
        else {
            console.error("No quota found for assessment with uid ", assessment.uid);
        }
    }
    loadAssessmentTokens() {
        // nothing to do here if the tokens are not enabled.
        if (!this.tokensEnabled) {
            return Promise.resolve();
        }
        return this._dac$http.get("tokens").then((data) => {
            data.forEach((item) => {
                this.assessmentQuotas[item.assessment_uid] = item;
            });
        });
    }
    getItemForUid(uid) {
        return this.assessmentQuotas[uid];
    }
}
AssessmentTokenService.ɵfac = function AssessmentTokenService_Factory(t) { return new (t || AssessmentTokenService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_dac_config_service__WEBPACK_IMPORTED_MODULE_2__["DacConfig"])); };
AssessmentTokenService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AssessmentTokenService, factory: AssessmentTokenService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssessmentTokenService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"] }, { type: app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"] }, { type: _dac_config_service__WEBPACK_IMPORTED_MODULE_2__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "d8w3":
/*!********************************************************************************!*\
  !*** ./src/app/reports/scale-questions-list/scale-questions-list.component.ts ***!
  \********************************************************************************/
/*! exports provided: ScaleQuestionsListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleQuestionsListComponent", function() { return ScaleQuestionsListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_question_action_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/question-action.service */ "ijKF");
/* harmony import */ var app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/copy-clipboard.service */ "V0KM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/login/has-permission/has-permission */ "mlUz");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








function ScaleQuestionsListComponent_th_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Question");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleQuestionsListComponent_th_3_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Answer ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "i", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleQuestionsListComponent_th_3_Template_i_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.copyTable(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleQuestionsListComponent_th_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Question");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleQuestionsListComponent_th_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Answer");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleQuestionsListComponent_th_6_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Action ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "i", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleQuestionsListComponent_th_6_Template_i_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.copyTable(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleQuestionsListComponent_th_7_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Scale ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "i", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleQuestionsListComponent_th_7_Template_i_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.copyTable(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleQuestionsListComponent_tr_8_h3_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h3", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ScaleQuestionsListComponent_tr_8_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", question_r13.computedScore, ")");
} }
function ScaleQuestionsListComponent_tr_8_td_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](question_r13.scale);
} }
function ScaleQuestionsListComponent_tr_8_td_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "td", 23);
} }
function ScaleQuestionsListComponent_tr_8_td_10_Template(rf, ctx) { if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleQuestionsListComponent_tr_8_td_10_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); const question_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r21.handleAction(question_r13); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](question_r13.actionLabel);
} }
const _c0 = function (a0) { return { flagged: a0 }; };
const _c1 = function (a0, a1) { return { "col-8 col-md-9": a0, "col-7 col-md-8": a1 }; };
const _c2 = function (a0, a1, a2) { return { "red-text": a0, "col-4 col-md-3": a1, "col-3 col-md-2": a2 }; };
function ScaleQuestionsListComponent_tr_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ScaleQuestionsListComponent_tr_8_h3_2_Template, 2, 0, "h3", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "em");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ScaleQuestionsListComponent_tr_8_div_7_Template, 2, 1, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, ScaleQuestionsListComponent_tr_8_td_8_Template, 2, 1, "td", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, ScaleQuestionsListComponent_tr_8_td_9_Template, 1, 0, "td", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, ScaleQuestionsListComponent_tr_8_td_10_Template, 3, 1, "td", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r13 = ctx.$implicit;
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c0, question_r13.isFlaggedForReview));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](12, _c1, !ctx_r6.HasThirdColumn, ctx_r6.HasThirdColumn));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", question_r13.isFlaggedForReview);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](question_r13.prompt);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](15, _c2, question_r13.isFlaggedForReview, !ctx_r6.HasThirdColumn, ctx_r6.HasThirdColumn));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", question_r13.answerDisplayText, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hasPermission", "SuperUser");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r6.shouldDisplayScale(question_r13.scale));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r6.shouldDisplayEmptyActionColumn(question_r13));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r6.shouldDisplayActionColumn(question_r13));
} }
class ScaleQuestionsListComponent {
    constructor(actionService, copyClipboardService) {
        this.actionService = actionService;
        this.copyClipboardService = copyClipboardService;
        this.hasThirdColumn = false;
        this.hasQuestionActions = true;
        // by default flag the prompts
        this.flagPrompts = true;
        this.hasThirdColumn = false;
        this.hasQuestionActions = false;
        this.displayScale = false;
        this.QuestionActions = [];
    }
    ngOnInit() {
        let actionsByQuestionId = (this.QuestionActions || []).reduce((prev, curr) => { prev[curr.question.id] = curr; return prev; }, {});
        if (this.QuestionActions && this.QuestionActions.length) {
            this.hasQuestionActions = true;
            this.hasThirdColumn = true;
        }
        this.QuestionDisplays = this.Questions.map(q => {
            let display = { prompt: q.prompt, answerDisplayText: q.answerDisplayText, scale: "" };
            if (q.assessment_scale && q.assessment_scale.name) {
                display.scale = q.assessment_scale.name;
            }
            if (actionsByQuestionId[q.id]) {
                display.action = actionsByQuestionId[q.id];
                display.actionLabel = display.action.label;
            }
            display.isFlaggedForReview = this.flagQuestion(q);
            display.computedScore = q.getComputedScore();
            return display;
        });
        this.hasThirdColumn = this.displayScale == true;
    }
    copyTable() {
        /**
         * <div class="cell-data col-8 col-md-9" *ngIf="!HasThirdColumn">Question</div>
            <div class="cell-data col-4 col-md-3" *ngIf="!HasThirdColumn">Answer</div>
    
            <div class="cell-data col-7 col-md-8" *ngIf="HasThirdColumn">Question</div>
            <div class="cell-data col-2 col-md-2" *ngIf="HasThirdColumn">Answer</div>
            <div class="cell-data col-2 col-md-2" *ngIf="HasThirdColumn && hasQuestionActions">Action</div>
            <div class="cell-data col-2 col-md-2" *ngIf="HasThirdColumn && displayScale">Scale</div>
         */
        let copyTable = [];
        copyTable.push(["Question", "Answer"]);
        if (this.hasThirdColumn && this.displayScale) {
            copyTable[0].push("Scale");
        }
        if (this.QuestionDisplays.length) {
            this.QuestionDisplays.forEach(qd => {
                let row = [];
                row.push('"' + qd.prompt + '"');
                row.push('"' + qd.answerDisplayText + '"');
                if (this.hasThirdColumn && this.displayScale) {
                    row.push('"' + qd.scale + '"');
                }
                copyTable.push(row);
            });
        }
        this.copyClipboardService.copyTableToText(copyTable);
    }
    get HasThirdColumn() {
        return this.hasThirdColumn;
    }
    shouldDisplayScale(scale) {
        return this.displayScale === true;
    }
    shouldDisplayEmptyActionColumn(question) {
        if (!this.displayScale && this.hasQuestionActions) {
            return question.action === "" || question.action === undefined;
        }
        return false;
    }
    shouldDisplayActionColumn(question) {
        if (!this.displayScale && this.hasQuestionActions) {
            return question.action !== "" && question.action !== undefined;
        }
        return false;
    }
    flagQuestion(question) {
        return this.flagPrompts && question.isFlaggedForReview;
    }
    handleAction(questionDisplay) {
        console.log("Handling action: ", questionDisplay.action);
        this.actionService.handleAction(questionDisplay.action);
    }
}
ScaleQuestionsListComponent.ɵfac = function ScaleQuestionsListComponent_Factory(t) { return new (t || ScaleQuestionsListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_question_action_service__WEBPACK_IMPORTED_MODULE_1__["QuestionActionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_2__["CopyClipboardService"])); };
ScaleQuestionsListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleQuestionsListComponent, selectors: [["app-scale-questions-list"]], inputs: { Questions: "Questions", QuestionActions: "QuestionActions", flagPrompts: "flagPrompts", displayScale: "displayScale" }, decls: 9, vars: 7, consts: [[1, "table", "table-striped", "col"], [1, "table-header", "row", "secondary-color", "text-white", "mt-3"], ["class", "cell-data col-8 col-md-9", 4, "ngIf"], ["class", "cell-data col-4 col-md-3", 4, "ngIf"], ["class", "cell-data col-7 col-md-8", 4, "ngIf"], ["class", "cell-data col-2 col-md-2", 4, "ngIf"], ["class", "row", 3, "ngClass", 4, "ngFor", "ngForOf"], [1, "cell-data", "col-8", "col-md-9"], [1, "cell-data", "col-4", "col-md-3"], ["title", "Copy Table", "alt", "Copy Table", 1, "fa", "fa-clipboard", "float-right", 3, "click"], [1, "cell-data", "col-7", "col-md-8"], [1, "cell-data", "col-2", "col-md-2"], [1, "row", 3, "ngClass"], ["data-label", "Question", 1, "col-8", "col-md-9", "cell-data", "prompt", 3, "ngClass"], ["class", "h3-responsive d-inline red-text", 4, "ngIf"], ["data-label", "Answer", 1, "col-4", "col-md-3", "cell-data", "answer", 3, "ngClass"], ["class", "d-inline-block", 4, "hasPermission"], ["data-label", "Scale", "class", "cell-data col-2", 4, "ngIf"], ["data-label", "Action", "class", "cell-data col-2", 4, "ngIf"], [1, "h3-responsive", "d-inline", "red-text"], [1, "fa", "fa-flag"], [1, "d-inline-block"], ["data-label", "Scale", 1, "cell-data", "col-2"], ["data-label", "Action", 1, "cell-data", "col-2"], [1, "btn", "btn-sm", "btn-secondary", 3, "click"]], template: function ScaleQuestionsListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "tr", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ScaleQuestionsListComponent_th_2_Template, 2, 0, "th", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ScaleQuestionsListComponent_th_3_Template, 3, 0, "th", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, ScaleQuestionsListComponent_th_4_Template, 2, 0, "th", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, ScaleQuestionsListComponent_th_5_Template, 2, 0, "th", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, ScaleQuestionsListComponent_th_6_Template, 3, 0, "th", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, ScaleQuestionsListComponent_th_7_Template, 3, 0, "th", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, ScaleQuestionsListComponent_tr_8_Template, 11, 19, "tr", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.HasThirdColumn);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.HasThirdColumn);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.HasThirdColumn);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.HasThirdColumn);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.HasThirdColumn && ctx.hasQuestionActions);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.HasThirdColumn && ctx.displayScale);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.QuestionDisplays);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgClass"], app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_4__["HasPermissionDirective"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleQuestionsListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-scale-questions-list',
                templateUrl: './scale-questions-list.component.html'
            }]
    }], function () { return [{ type: _services_question_action_service__WEBPACK_IMPORTED_MODULE_1__["QuestionActionService"] }, { type: app_shared_services_copy_clipboard_service__WEBPACK_IMPORTED_MODULE_2__["CopyClipboardService"] }]; }, { Questions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], QuestionActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], flagPrompts: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayScale: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "dTcr":
/*!******************************************************************************************!*\
  !*** ./src/app/reports/questionnaire-result-view/questionnaire-result-view.component.ts ***!
  \******************************************************************************************/
/*! exports provided: QuestionnaireResultViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionnaireResultViewComponent", function() { return QuestionnaireResultViewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/services/modal.service */ "JK/P");
/* harmony import */ var app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/services/questionnaire.service */ "Dhxs");
/* harmony import */ var _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../report-items/therapist-scale-results/therapist-scale-results.component */ "YEXO");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");
/* harmony import */ var _peer_clinic_result_viewer_peer_clinic_result_viewer_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../peer-clinic-result-viewer/peer-clinic-result-viewer.component */ "yI1f");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../scale-questions-list/scale-questions-list.component */ "d8w3");


















const _c0 = ["therapistScaleResults"];
function QuestionnaireResultViewComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function QuestionnaireResultViewComponent_div_2_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.goBack(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function QuestionnaireResultViewComponent_div_6_input_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function QuestionnaireResultViewComponent_div_6_input_1_Template_input_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r7.print(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function QuestionnaireResultViewComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, QuestionnaireResultViewComponent_div_6_input_1_Template, 1, 0, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.allowPrinting);
} }
function QuestionnaireResultViewComponent_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "p", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-spin-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " Loading Report data...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function QuestionnaireResultViewComponent_div_12_dac_peer_clinic_result_viewer_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "dac-peer-clinic-result-viewer", 22);
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("result", ctx_r9.result);
} }
function QuestionnaireResultViewComponent_div_12_app_scale_questions_list_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-scale-questions-list", 23);
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", ctx_r10.Questions);
} }
function QuestionnaireResultViewComponent_div_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, QuestionnaireResultViewComponent_div_12_dac_peer_clinic_result_viewer_3_Template, 1, 1, "dac-peer-clinic-result-viewer", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, QuestionnaireResultViewComponent_div_12_app_scale_questions_list_4_Template, 1, 1, "app-scale-questions-list", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.isPeerQuestionnaire(ctx_r3.result));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r3.isPeerQuestionnaire(ctx_r3.result));
} }
const _c1 = function (a0, a1) { return { "col-8": a0, "col-12 text-center": a1 }; };
/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class QuestionnaireResultViewComponent {
    constructor(route, questionnaireService, alertService, changeDetection, location, modalService, dacConfig) {
        this.route = route;
        this.questionnaireService = questionnaireService;
        this.alertService = alertService;
        this.changeDetection = changeDetection;
        this.location = location;
        this.modalService = modalService;
        this.dacConfig = dacConfig;
        this.disable = true;
        this.allowPrinting = false;
        // this.allowPrinting = this.dacConfig.isFeatureEnabled("pdf.printing");
        this.allowPrinting = true;
        this._questions = [];
    }
    ngOnInit() {
        this.route.params.subscribe((params) => {
            let resultId = params['resultId'];
            this.hasLoadedResults = false;
            this.questionnaireService.getQuestionnaireResponseAsAssessmentResult(resultId)
                .then(response => {
                this.hasLoadedResults = true;
                this._questions = response.assessment.getQuestionsList();
                this.changeDetection.detectChanges(); // make sure we update before saying the report loaded.
                this.result = response;
                // we need to let outside listeners like the server pdf generator know we have finished loading so we can generate the report
                console.log("adding dac-report-loaded class");
                document.body.classList.add("dac-report-loaded");
            })
                .catch((error) => {
                console.error(error);
                if (error && error.status === 404 || error.status === 400) {
                    this.alertService.error("404 This item could not be found");
                }
                else {
                    this.alertService.error("There was a server error in loading this item.  Check your internet connection or contact support");
                }
            });
        });
    }
    ngAfterViewInit() {
    }
    isPeerQuestionnaire(result) {
        if (!result || !result.assessment) {
            return false;
        }
        return result.assessment.uid == 'PEER Initial Assessment' || result.assessment.uid == 'PEER Follow Up Assessment' || result.assessment.uid == 'PEER After Visit Assessment';
    }
    get Questions() {
        return this._questions;
    }
    goBack() {
        this.location.back();
    }
    closePrintDialog() {
        // reset it once we've closed the dialog.
        this.showPrintDialog = false;
    }
    showCommandButtons() {
        return !this.dacConfig.seamlessMode;
    }
    print() {
        window.print();
        // this.modalService.openDialog(PrintDialogComponent, {hideNotesOption: true});
    }
}
QuestionnaireResultViewComponent.ɵfac = function QuestionnaireResultViewComponent_Factory(t) { return new (t || QuestionnaireResultViewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_5__["QuestionnaireService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_4__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_3__["DacConfig"])); };
QuestionnaireResultViewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: QuestionnaireResultViewComponent, selectors: [["dac-questionnaire-result-view"]], viewQuery: function QuestionnaireResultViewComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.therapistScaleResults = _t.first);
    } }, decls: 13, vars: 10, consts: [[1, "col", "itemsContainer", "d-print-block-visible"], [1, "row", "report-controls"], ["class", "col-2", 4, "ngIf"], [3, "ngClass"], [1, "h1-responsive", "report-name", "text-center"], ["class", "col-2 ml-auto", 4, "ngIf"], [1, "row", "d-none", "d-print-block-visible"], [1, "col-12", "text-center"], ["class", "row", 4, "ngIf"], ["class", "row d-print-block-visible", 4, "ngIf"], [1, "col-2"], ["type", "button", "value", "Back", 1, "btn", "btn-primary", 3, "click"], [1, "col-2", "ml-auto"], ["class", "btn btn-secondary", "type", "button", "value", "Print", 3, "click", 4, "ngIf"], ["type", "button", "value", "Print", 1, "btn", "btn-secondary", 3, "click"], [1, "row"], [1, "col"], [1, "alert", "alert-warning"], [1, "row", "d-print-block-visible"], [1, "col", "d-print-block-visible"], ["class", "col-12 col-md-8 ml-auto mr-auto", 3, "result", 4, "ngIf"], ["class", "col-12 d-report-print-page", 3, "Questions", 4, "ngIf"], [1, "col-12", "col-md-8", "ml-auto", "mr-auto", 3, "result"], [1, "col-12", "d-report-print-page", 3, "Questions"]], template: function QuestionnaireResultViewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, QuestionnaireResultViewComponent_div_2_Template, 2, 0, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "h1", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, QuestionnaireResultViewComponent_div_6_Template, 2, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "h1", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, QuestionnaireResultViewComponent_div_11_Template, 5, 0, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, QuestionnaireResultViewComponent_div_12_Template, 5, 2, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](7, _c1, ctx.showCommandButtons(), !ctx.showCommandButtons()));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.result == null ? null : ctx.result.assessment.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.result == null ? null : ctx.result.assessment.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasLoadedResults);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoadedResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgClass"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_8__["SpinIconComponent"], _peer_clinic_result_viewer_peer_clinic_result_viewer_component__WEBPACK_IMPORTED_MODULE_9__["PeerClinicResultViewerComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_10__["ScaleQuestionsListComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuestionnaireResultViewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-questionnaire-result-view',
                templateUrl: './questionnaire-result-view.component.html'
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }, { type: app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_5__["QuestionnaireService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"] }, { type: app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_4__["ModalService"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_3__["DacConfig"] }]; }, { therapistScaleResults: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["therapistScaleResults"]
        }] }); })();


/***/ }),

/***/ "e30I":
/*!****************************************************************************************!*\
  !*** ./src/app/theme/admin-login-finalize-page/admin-login-finalize-page.component.ts ***!
  \****************************************************************************************/
/*! exports provided: AdminLoginFinalizePageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminLoginFinalizePageComponent", function() { return AdminLoginFinalizePageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _login_admin_login_finalize_admin_login_finalize_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../login/admin-login-finalize/admin-login-finalize.component */ "LTHS");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class AdminLoginFinalizePageComponent {
    constructor() { }
    ngOnInit() {
        console.log("got here");
    }
}
AdminLoginFinalizePageComponent.ɵfac = function AdminLoginFinalizePageComponent_Factory(t) { return new (t || AdminLoginFinalizePageComponent)(); };
AdminLoginFinalizePageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AdminLoginFinalizePageComponent, selectors: [["app-admin-login-finalize-page"]], decls: 4, vars: 0, consts: [[1, "container-fluid", "mb-3"], [1, "row", "justify-content-center"], [1, "col-12", "col-md-8", "col-lg-4"]], template: function AdminLoginFinalizePageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-admin-login-finalize");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, directives: [_login_admin_login_finalize_admin_login_finalize_component__WEBPACK_IMPORTED_MODULE_1__["AdminLoginFinalizeComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminLoginFinalizePageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-admin-login-finalize-page',
                templateUrl: './admin-login-finalize-page.component.html'
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "eCmV":
/*!**********************************************************!*\
  !*** ./src/app/theme/login-page/login-page.component.ts ***!
  \**********************************************************/
/*! exports provided: LoginPageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginPageComponent", function() { return LoginPageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_card_card_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/card/card.component */ "Fe25");
/* harmony import */ var _login_login_login_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../login/login/login.component */ "gEuR");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




class LoginPageComponent {
    constructor() { }
    ngOnInit() {
    }
}
LoginPageComponent.ɵfac = function LoginPageComponent_Factory(t) { return new (t || LoginPageComponent)(); };
LoginPageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoginPageComponent, selectors: [["app-login-page"]], decls: 5, vars: 3, consts: [[1, "container-fluid", "mb-3"], [1, "row", "justify-content-center"], [1, "col-12", "col-md-8", "col-lg-4"], [1, "mt-4", 3, "icon", "title", "color"]], template: function LoginPageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "dac-card", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "app-login");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("icon", "lock")("title", "Client Login")("color", "primary");
    } }, directives: [_shared_card_card_component__WEBPACK_IMPORTED_MODULE_1__["CardComponent"], _login_login_login_component__WEBPACK_IMPORTED_MODULE_2__["LoginComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RoZW1lL2xvZ2luLXBhZ2UvbG9naW4tcGFnZS5jb21wb25lbnQuY3NzIn0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginPageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-login-page',
                templateUrl: './login-page.component.html',
                styleUrls: ['./login-page.component.css']
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "ee6g":
/*!*******************************************************************!*\
  !*** ./src/app/shared/condition-edit/condition-edit.component.ts ***!
  \*******************************************************************/
/*! exports provided: ConditionEditComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConditionEditComponent", function() { return ConditionEditComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_models_assessment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/models/assessment */ "WWiz");
/* harmony import */ var _shared_models_display_condition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/models/display-condition */ "/srF");
/* harmony import */ var _models_list_question__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/list-question */ "Kt/y");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







function ConditionEditComponent_option_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_set_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", question_set_r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](question_set_r3.title);
} }
function ConditionEditComponent_select_19_option_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", question_r5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](question_r5.prompt);
} }
function ConditionEditComponent_select_19_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "select", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function ConditionEditComponent_select_19_Template_select_ngModelChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.condition.question = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ConditionEditComponent_select_19_option_1_Template, 2, 2, "option", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r1.condition.question);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.condition.questionSet.questions);
} }
function ConditionEditComponent_div_20_select_4_option_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const label_r11 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", label_r11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](label_r11.label);
} }
function ConditionEditComponent_div_20_select_4_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "select", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function ConditionEditComponent_div_20_select_4_Template_select_ngModelChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r12.condition.answer = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ConditionEditComponent_div_20_select_4_option_1_Template, 2, 2, "option", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r8.condition.answer);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r8.getLabels());
} }
function ConditionEditComponent_div_20_p_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "This question has no answers to key off of.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ConditionEditComponent_div_20_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Answer");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, ConditionEditComponent_div_20_select_4_Template, 2, 2, "select", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, ConditionEditComponent_div_20_p_5_Template, 2, 0, "p", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.hasLabels());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.hasLabels());
} }
class ConditionEditComponent {
    constructor() { }
    ngOnInit() {
    }
    getLabels() {
        let labels = [];
        if (this.condition && this.condition.question) {
            let question = this.condition.question;
            if (question instanceof _models_list_question__WEBPACK_IMPORTED_MODULE_3__["ListQuestion"]) {
                labels = question.CustomLabels ? question.CustomLabels : [];
            }
            else {
                labels = this.condition.questionSet ? this.condition.questionSet.labels : [];
            }
        }
        return labels;
    }
    hasLabels() {
        return this.getLabels().length > 0;
    }
    hasQuestion() {
        return this.condition.question != null;
    }
}
ConditionEditComponent.ɵfac = function ConditionEditComponent_Factory(t) { return new (t || ConditionEditComponent)(); };
ConditionEditComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ConditionEditComponent, selectors: [["condition-edit"]], inputs: { condition: "condition", assessment: "assessment" }, decls: 21, vars: 5, consts: [[1, "row"], [1, "col-sm-12", "col-md-4"], [1, "col-sm-12", "col-md-8"], [1, "browser-default", "form-control", 3, "ngModel", "ngModelChange"], ["value", "show"], ["value", "hide"], [1, "browser-default", "form-control", "w-100", 3, "ngModel", "ngModelChange"], [3, "ngValue", 4, "ngFor", "ngForOf"], ["class", "browser-default form-control w-100", 3, "ngModel", "ngModelChange", 4, "ngIf"], ["class", "row", 4, "ngIf"], [3, "ngValue"], ["class", "alert alert-danger", 4, "ngIf"], [1, "alert", "alert-danger"]], template: function ConditionEditComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Type");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "select", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function ConditionEditComponent_Template_select_ngModelChange_4_listener($event) { return ctx.condition.displayType = $event; });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "option", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "Show");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "option", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "Hide");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Question Set");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "select", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function ConditionEditComponent_Template_select_ngModelChange_13_listener($event) { return ctx.condition.questionSet = $event; });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, ConditionEditComponent_option_14_Template, 2, 2, "option", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](17, "Question");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](19, ConditionEditComponent_select_19_Template, 2, 2, "select", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](20, ConditionEditComponent_div_20_Template, 6, 2, "div", 9);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.condition.displayType);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.condition.questionSet);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.assessment.question_sets);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.condition.questionSet);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasQuestion());
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["SelectControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgModel"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_x"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2NvbmRpdGlvbi1lZGl0L2NvbmRpdGlvbi1lZGl0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFJRSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9jb25kaXRpb24tZWRpdC9jb25kaXRpb24tZWRpdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ConditionEditComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'condition-edit',
                templateUrl: './condition-edit.component.html',
                styleUrls: ['./condition-edit.component.css']
            }]
    }], function () { return []; }, { condition: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["condition"]
        }], assessment: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["assessment"]
        }] }); })();


/***/ }),

/***/ "f4Y8":
/*!*********************************************************************************************!*\
  !*** ./src/app/reports/report-items/question-action-list/question-action-list.component.ts ***!
  \*********************************************************************************************/
/*! exports provided: QuestionActionListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionActionListComponent", function() { return QuestionActionListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_models_scale_list_data_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/reports/models/scale-list-data-component */ "Rj0n");
/* harmony import */ var app_reports_services_question_action_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/reports/services/question-action.service */ "ijKF");
/* harmony import */ var app_reports_services_scale_result_question_finder_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/reports/services/scale-result-question-finder.service */ "qoW1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/login/has-permission/has-permission */ "mlUz");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */









function QuestionActionListComponent_div_4_div_12_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", question_r5.computedScore, ")");
} }
function QuestionActionListComponent_div_4_div_12_a_12_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function QuestionActionListComponent_div_4_div_12_a_12_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const question_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r9.handleAction(question_r5); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r7.getActionLabel(question_r5));
} }
function QuestionActionListComponent_div_4_div_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Question");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "em", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "Answer");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, QuestionActionListComponent_div_4_div_12_div_10_Template, 2, 1, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, QuestionActionListComponent_div_4_div_12_a_12_Template, 2, 1, "a", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const question_r5 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](question_r5.prompt);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", question_r5.answerDisplayText, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hasPermission", "SuperUser");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.hasAction(question_r5));
} }
function QuestionActionListComponent_div_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Question");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Answer");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Action");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, QuestionActionListComponent_div_4_div_12_Template, 13, 4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](scaleResult_r1.scale == null ? null : scaleResult_r1.scale.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.getQuestionsForScaleResult(scaleResult_r1));
} }
class QuestionActionListComponent extends app_reports_models_scale_list_data_component__WEBPACK_IMPORTED_MODULE_1__["ScaleDataSectionComponent"] {
    constructor(questionActionService, questionFinder) {
        super();
        this.questionActionService = questionActionService;
        this.questionFinder = questionFinder;
        this._questionsByScale = {};
        this._questionActions = {};
    }
    ngOnInit() {
    }
    setReportData(data, results, variables) {
        super.setReportData(data, results, variables);
        this._title = data.title || "Questions";
        let questionById = this.AssessmentResult.assessment.getQuestionsListById();
        this._questionActions = {};
        (data.tableActions || []).forEach(ta => {
            let question = { scale: null };
            if (questionById.has(ta.questionId)) {
                question = questionById.get(ta.questionId);
            }
            this._questionActions[ta.questionId] = {
                scale: question.scale,
                question: question,
                action: ta.action,
                label: data.tableActionLabel,
                data: ta.data
            };
        });
        this._questionsByScale = {};
        this.ScaleResults.forEach(sr => {
            this._questionsByScale[sr.scale.id] = this.questionFinder.getQuestionsForScaleResult(this.AssessmentResult, sr);
        });
    }
    getTitle() {
        return this._title;
    }
    getQuestionsForScaleResult(scaleResult) {
        //
        if (this._questionsByScale[scaleResult.scale.id]) {
            return this._questionsByScale[scaleResult.scale.id];
        }
        return [];
    }
    getActionLabel(question) {
        if (this._questionActions[question.id]) {
            return this._questionActions[question.id].label;
        }
        return "";
    }
    hasAction(question) {
        return this._questionActions[question.id] !== undefined;
    }
    handleAction(question) {
        let questionAction = this._questionActions[question.id];
        if (questionAction) {
            this.questionActionService.handleAction(questionAction);
        }
        else {
            console.error("handleAction called with question " + question.id + " and no action found for it ");
        }
    }
}
QuestionActionListComponent.ɵfac = function QuestionActionListComponent_Factory(t) { return new (t || QuestionActionListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_reports_services_question_action_service__WEBPACK_IMPORTED_MODULE_2__["QuestionActionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_reports_services_scale_result_question_finder_service__WEBPACK_IMPORTED_MODULE_3__["ScaleResultQuestionFinderService"])); };
QuestionActionListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: QuestionActionListComponent, selectors: [["dac-question-action-list"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 5, vars: 2, consts: [[1, "card", "card-cascade", "d-print-block-visible"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], ["class", "card-body pl-1 pr-1 pl-sm-2 pr-sm-2", 4, "ngFor", "ngForOf"], [1, "card-body", "pl-1", "pr-1", "pl-sm-2", "pr-sm-2"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "table", "table-striped", "col"], [1, "table-header", "row", "secondary-color", "text-white", "mt-3"], [1, "cell-data", "d-none", "d-sm-block", "col-7", "col-md-8"], [1, "cell-data", "d-none", "d-sm-block", "col-2", "col-md-2"], [1, "cell-data", "d-none", "d-sm-block", "col-2", "col-md-2", "text-center"], ["class", "row", 4, "ngFor", "ngForOf"], [1, "row"], ["data-label", "Question", 1, "col-12", "col-sm-7", "col-md-8", "cell-data", "prompt"], [1, "d-block", "d-sm-none", "view", "primary-gradient", "text-light", "text-center", "h6-responsive", "p-2", "mb-2"], [1, "text-center", "text-sm-left"], ["data-label", "Answer", 1, "col-12", "col-sm-2", "col-md-2", "cell-data", "answer", "p-2", "mb-2", "text-center", "text-sm-left"], ["class", "d-inline-block", 4, "hasPermission"], ["data-label", "Action", 1, "cell-data", "col-12", "col-sm-2", "col-md-2", "text-center", "mt-xs-0"], ["class", "btn btn-sm btn-secondary", 3, "click", 4, "ngIf"], [1, "d-inline-block"], [1, "btn", "btn-sm", "btn-secondary", 3, "click"]], template: function QuestionActionListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, QuestionActionListComponent_div_4_Template, 13, 2, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getTitle());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.ScaleResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_5__["HasPermissionDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtaXRlbXMvcXVlc3Rpb24tYWN0aW9uLWxpc3QvcXVlc3Rpb24tYWN0aW9uLWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHMvcmVwb3J0LWl0ZW1zL3F1ZXN0aW9uLWFjdGlvbi1saXN0L3F1ZXN0aW9uLWFjdGlvbi1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuestionActionListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-question-action-list',
                templateUrl: './question-action-list.component.html',
                styleUrls: ['./question-action-list.component.scss']
            }]
    }], function () { return [{ type: app_reports_services_question_action_service__WEBPACK_IMPORTED_MODULE_2__["QuestionActionService"] }, { type: app_reports_services_scale_result_question_finder_service__WEBPACK_IMPORTED_MODULE_3__["ScaleResultQuestionFinderService"] }]; }, null); })();


/***/ }),

/***/ "f5yX":
/*!**************************************************************!*\
  !*** ./src/app/login/login-dialog/login-dialog.component.ts ***!
  \**************************************************************/
/*! exports provided: LoginDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginDialogComponent", function() { return LoginDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth.service */ "6Hrc");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/dialog */ "0IaG");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








class LoginDialogComponent {
    // private _userSubscription:ISubscription;
    constructor(authService, router, dialogRef) {
        this.authService = authService;
        this.router = router;
        this.dialogRef = dialogRef;
    }
    close() {
        this.closeDialog();
    }
    goToAdminLogin() {
        this.authService.logout().then(() => {
            this.router.navigate(['/loginAdmin']).then(() => {
                this.closeDialog();
            });
        });
    }
    goToClientLogin() {
        this.authService.logout().then(() => {
            this.router.navigate(['/login']).then(() => {
                this.closeDialog();
            });
        });
    }
    closeDialog() {
        this.dialogRef.close();
    }
    ngOnInit() {
        // if we are logging in... this dialog should not even be open... unless we allow the login to happen
        // inside the dialog...
        // this._userSubscription = this.authService.getLoginState().subscribe((loginState) => {
        //   if (loginState.isLoggedIn) {
        //     this.closeDialog();
        //   }
        // });
    }
    ngOnDestroy() {
        // this._userSubscription.unsubscribe();
    }
}
LoginDialogComponent.ɵfac = function LoginDialogComponent_Factory(t) { return new (t || LoginDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"])); };
LoginDialogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoginDialogComponent, selectors: [["app-login-dialog"]], decls: 22, vars: 0, consts: [[1, "container"], [1, "row"], [1, "col"], [1, "h4-responsive", "modal-title", "text-center"], [1, "fa", "fa-times", "float-right", 3, "click"], [1, "col", "text-center"], ["type", "button", "value", "Client Login", 1, "btn", "btn-primary", 3, "click"], ["type", "button", "value", "Therapist Login", 1, "btn", "btn-primary", 3, "click"]], template: function LoginDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h4", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " Login Required ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function LoginDialogComponent_Template_i_click_5_listener() { return ctx.close(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, "You've requested access to a secure resource or you have been logged out.");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "Please login again.");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function LoginDialogComponent_Template_input_click_17_listener() { return ctx.goToClientLogin(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function LoginDialogComponent_Template_input_click_18_listener() { return ctx.goToAdminLogin(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](21, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLWRpYWxvZy9sb2dpbi1kaWFsb2cuY29tcG9uZW50LmNzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginDialogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-login-dialog',
                templateUrl: './login-dialog.component.html',
                styleUrls: ['./login-dialog.component.css']
            }]
    }], function () { return [{ type: _services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_3__["MatDialogRef"] }]; }, null); })();


/***/ }),

/***/ "f7Qs":
/*!****************************************!*\
  !*** ./src/app/shared/models/scale.ts ***!
  \****************************************/
/*! exports provided: Scale */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Scale", function() { return Scale; });
class Scale {
    constructor() {
        this.id = null;
        this.name = "";
        this.instructions = "";
        this.answer_start_value = 1;
        this.display_order = 1;
        this.ranges = [];
        this.isDeleted = false;
        this.multiplier = 1;
        this.negativeToPositiveRanges = false;
        this._subScales = {};
        this._type = "Sum";
        this._gradingData = {};
        this._includeInReports = true;
        this._rollUpSubScaleQuestions = false;
    }
    get type() {
        return this._type;
    }
    set type(v) {
        this._type = v;
    }
    get gradingData() {
        return this._gradingData;
    }
    set gradingData(v) {
        this._gradingData = v;
    }
    hasSubScales() {
        return this.getSubScaleIds().length > 0;
    }
    getSubScaleIds() {
        return Object.keys(this._subScales);
    }
    addSubScale(scale) {
        if (!scale) {
            throw new Error("scale object cannot be null");
        }
        if (!scale.id) {
            throw new Error("scale object must have an id");
        }
        this._subScales[scale.id] = scale;
    }
    removeSubScale(scale) {
        if (!scale) {
            throw new Error("scale object cannot be null");
        }
        if (!scale.id) {
            throw new Error("scale object must have an id");
        }
        if (!this._subScales[scale.id]) {
            throw new Error("Subscale " + scale.id + " not found to be removed inside scale " + this.id);
        }
        delete this._subScales[scale.id];
    }
    hasSubScale(scale) {
        if (!scale) {
            throw new Error("scale object cannot be null");
        }
        if (!scale.id) {
            throw new Error("scale object must have an id");
        }
        return this._subScales[scale.id] !== undefined && this._subScales[scale.id] !== null;
    }
    getAvailableSubScales(potentialScales) {
        let availableScales = new Map();
        potentialScales = potentialScales.filter(s => s.id != this.id); // filter out ourselves.
        // first init everything as true
        potentialScales.forEach(ps => {
            availableScales.set(ps, true);
        });
        potentialScales.forEach(ps => {
            // turn off all scales reachable by current sub scales.
            if (this._subScales[ps.id]) {
                availableScales.set(ps, false);
                // now set all the sub to be false
                // TODO: stephen we still working on the reachability aspect of this but we'll punt on this for now.
                // this.getConnectedSubScales(ps, 0).forEach(s => availableScales.set(s, false));
            }
            // if we are a sub scale of the potential scale we need to skip it...
            if (ps.hasSubScale(this)) {
                availableScales.set(ps, false);
            }
        });
        return availableScales;
    }
    getConnectedSubScales(scale, depth) {
        let uniqueScales = {};
        if (!scale.SubScales) {
            return [];
        }
        if (depth > 50) {
            throw new Error("Exceeded scale depth limit on getConnectedSubScales()  scale depth should not exceed count of 50");
        }
        for (let id in scale.SubScales) {
            if (scale.SubScales.hasOwnProperty(id)) {
                this.getConnectedSubScales(scale.SubScales[id], depth + 1).forEach(ss => uniqueScales[ss.id] = ss);
            }
        }
        return Object.keys(uniqueScales).map(id => uniqueScales[id]);
    }
    get SubScales() {
        return this._subScales;
    }
    get negativeToPositiveRanges() {
        return this._negativeToPositiveRanges;
    }
    set negativeToPositiveRanges(value) {
        this._negativeToPositiveRanges = value;
    }
    get multiplier() {
        return this._multiplier;
    }
    set multiplier(v) {
        this._multiplier = v;
    }
    get isDeleted() {
        return this._deleted;
    }
    set isDeleted(v) {
        this._deleted = v;
    }
    get id() {
        return this._id;
    }
    set id(id) {
        this._id = id;
    }
    get display_order() {
        return this._display_order;
    }
    set display_order(order) {
        this._display_order = order;
    }
    get name() {
        return this._name;
    }
    set name(v) {
        this._name = v;
    }
    get instructions() {
        return this._instructions;
    }
    set instructions(v) {
        this._instructions = v;
    }
    get answer_start_value() {
        return this._answer_start_value;
    }
    set answer_start_value(v) {
        this._answer_start_value = v;
    }
    get ranges() {
        return this._ranges;
    }
    set ranges(v) {
        this._ranges = v;
    }
    get descriptionClient() {
        return this._descriptionClient;
    }
    set descriptionClient(value) {
        this._descriptionClient = value;
    }
    get descriptionTherapist() {
        return this._descriptionTherapist;
    }
    set descriptionTherapist(value) {
        this._descriptionTherapist = value;
    }
    get includeInReports() {
        return this._includeInReports;
    }
    set includeInReports(value) {
        this._includeInReports = value;
    }
    get rollUpSubScales() {
        return this._rollUpSubScaleQuestions;
    }
    set rollUpSubScales(value) {
        this._rollUpSubScaleQuestions = value;
    }
    addRange(range) {
        this.ranges.push(range);
    }
    removeRange(range) {
        let index = this.ranges.indexOf(range);
        if (index >= 0) {
            this.ranges.splice(index, 1);
        }
    }
    getMaxRange() {
        if (!this.ranges.length) {
            return null;
        }
        let maxRange = this.ranges[0];
        for (var index in this.ranges) {
            if (this.ranges.hasOwnProperty(index)) {
                if (this.ranges[index].rangeEnd > maxRange.rangeEnd) {
                    maxRange = this.ranges[index];
                }
            }
        }
        return maxRange;
    }
    getRangeForScore(score) {
        // there should only be one here...
        if (this.ranges.length) {
            let minRange = this.ranges[0];
            let maxRange = this.ranges[this.ranges.length - 1];
            // if the score is lower than the smallest range, return the first one
            if (score < minRange.rangeStart) {
                return minRange;
            }
            // if the score is greater than the largest range just return the highest range.
            if (score > maxRange.rangeEnd) {
                return maxRange;
            }
            var ranges = this.ranges.filter(r => r.rangeStart <= score && r.rangeEnd >= score);
            if (ranges.length) {
                return ranges[0];
            }
        }
        return null;
    }
    getIntervalPercentage(startInterval, endInterval) {
        // we make it inclusive and start our scores off one based if the rangeStart is a 0
        let minRange = this.ranges[0].rangeStart;
        let maxRange = this.ranges[this.ranges.length - 1].rangeEnd;
        if (startInterval > 0) {
            // we are inclusive so we are adding one to the endInterval
            endInterval += 1;
        }
        let maxInterval = Math.max(maxRange - minRange, 1);
        let interval = endInterval - startInterval;
        let normalizedPercentage = Math.round((interval / maxInterval) * 100);
        return normalizedPercentage;
    }
    getMaxScore() {
        let range = this.getMaxRange();
        if (range) {
            return range.rangeEnd;
        }
        return 0;
    }
    getPercentageForScore(score) {
        if (!this.ranges.length) {
            return 0;
        }
        if (score < 0) {
            return 0;
        }
        let minRange = this.ranges[0].rangeStart;
        let maxRange = this.ranges[this.ranges.length - 1].rangeEnd;
        return this.getIntervalPercentage(minRange, score);
        // // interval needs to at least be 1
        // let interval = Math.max(maxRange - minRange, 1);
        // let scoreBottom = score - minRange;
        // let normalizedScore = Math.round(scoreBottom * 100 / interval * 100) / 100;
        // return normalizedScore;
    }
}


/***/ }),

/***/ "fkaD":
/*!**************************************************!*\
  !*** ./src/app/shared/models/billing-details.ts ***!
  \**************************************************/
/*! exports provided: BillingDetails */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BillingDetails", function() { return BillingDetails; });
class BillingDetails {
    constructor() {
        this._cards = [];
        this._subscriptions = [];
        // let sub = new BillingSubscription("Active");
        // sub.dateCanceled = new Date();
        // sub.dateRenewal = new Date();
        // sub.id = "Sub-1";
        // sub.name = "Discover and Change Membership";
        // sub.price = 2230;
        // sub.quantity = 77;
        // sub.unit = "Users";
        // this._subscriptions = [sub];
    }
    get subscriptions() {
        return this._subscriptions;
    }
    set subscriptions(v) {
        this._subscriptions = v;
    }
    /**
     * Getter email
     * @return {string}
     */
    get email() {
        return this._email;
    }
    /**
     * Setter email
     * @param {string} value
     */
    set email(value) {
        this._email = value;
    }
    /**
     * Getter customerId
     * @return {string}
     */
    get customerId() {
        return this._customerId;
    }
    /**
     * Setter customerId
     * @param {string} value
     */
    set customerId(value) {
        this._customerId = value;
    }
    /**
     * Getter cards
     * @return {BillingCard[]}
     */
    get cards() {
        return this._cards;
    }
    /**
     * Setter cards
     * @param {BillingCard[]} value
     */
    set cards(value) {
        this._cards = value;
    }
    hasCards() {
        return this.cards && this.cards.length > 0;
    }
    hasSubscriptions() {
        return this.subscriptions && this.subscriptions.length > 0;
    }
}


/***/ }),

/***/ "g0DQ":
/*!******************************************************************!*\
  !*** ./src/app/shared/validators/password-strength.directive.ts ***!
  \******************************************************************/
/*! exports provided: passwordStrengthValidator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "passwordStrengthValidator", function() { return passwordStrengthValidator; });
function passwordStrengthValidator() {
    return (control) => {
        let password = control.value;
        let passwordPolicyMsg = "Password must be 8 characters or more, contain at least one number(0-9), one uppercase letter(a-z), and one lowercase letter(A-Z)";
        let errors = [];
        if (!password || password.length < 8) {
            errors.push(passwordPolicyMsg);
        }
        else if (!password.match(/[0-9]+/)) {
            errors.push(passwordPolicyMsg);
        }
        else if (!password.match(/[A-Z]+/)) {
            errors.push(passwordPolicyMsg);
        }
        else if (!password.match(/[a-z]+/)) {
            errors.push(passwordPolicyMsg);
        }
        if (errors.length) {
            return { "passwordStrength": errors.join("") };
        }
        return null;
    };
}


/***/ }),

/***/ "gEuR":
/*!************************************************!*\
  !*** ./src/app/login/login/login.component.ts ***!
  \************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth.service */ "6Hrc");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/services/fhir-service */ "y+jN");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */










class LoginComponent {
    constructor(authService, router, alertService, fhirService) {
        this.authService = authService;
        this.router = router;
        this.alertService = alertService;
        this.fhirService = fhirService;
        this.termsAndConditionsAgreed = false;
    }
    ngOnInit() {
        // TODO: @adunsulag if we are already authorized we want to skip this step.
        this.fhirService.authorizeClient('/loginFinalize');
        // this.route.queryParams
        //   .subscribe(params => this.returnUrl = params['return'] || '/admin/');
    }
    get token() {
        return this._token;
    }
    set token(v) {
        this._token = v;
    }
    handleSubmit(event) {
        if (event && event.charCode === 13) {
            this.login();
        }
    }
    login() {
        if (!this._token || this._token.trim() === "") {
            this.alertService.error("Enter in your client token to continue");
            return;
        }
        // if (!this.termsAndConditionsAgreed) {
        //   this.alertService.error("You must agree to the terms and conditions before continuing.");
        //   return;
        // }
        // clear out any spaces
        this.authService.authenticateClient(this._token.trim())
            .then((clientId) => {
            this.router.navigate(["/assessments/dashboard"]);
        })
            .catch((error) => {
            console.error(error);
            this.alertService.error(error.message);
        });
    }
}
LoginComponent.ɵfac = function LoginComponent_Factory(t) { return new (t || LoginComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_4__["FhirService"])); };
LoginComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoginComponent, selectors: [["app-login"]], decls: 2, vars: 0, consts: [[1, "alert", "alert-info"]], template: function LoginComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Loading Login Authorization Form");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MifQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-login',
                templateUrl: './login.component.html',
                styleUrls: ['./login.component.css']
            }]
    }], function () { return [{ type: _services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }, { type: app_shared_services_fhir_service__WEBPACK_IMPORTED_MODULE_4__["FhirService"] }]; }, null); })();


/***/ }),

/***/ "gcVD":
/*!**************************************************!*\
  !*** ./src/app/shared/services/authenticator.ts ***!
  \**************************************************/
/*! exports provided: Authenticator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Authenticator", function() { return Authenticator; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");


/**
 * Eventually will handle JWT authentication tokens, but for now it simply wraps around
 * a shared token.
 */
class Authenticator {
    constructor(_token) {
        this._token = _token;
    }
    get AuthenticationToken() {
        return this._token;
    }
    set AuthenticationToken(v) {
        this._token = v;
    }
}
Authenticator.ɵfac = function Authenticator_Factory(t) { return new (t || Authenticator)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"]("AuthToken")); };
Authenticator.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: Authenticator, factory: Authenticator.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Authenticator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: ["AuthToken"]
            }] }]; }, null); })();


/***/ }),

/***/ "gqDk":
/*!****************************************************************!*\
  !*** ./src/app/reports/print-dialog/print-dialog.component.ts ***!
  \****************************************************************/
/*! exports provided: PrintDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrintDialogComponent", function() { return PrintDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_print_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/print-settings */ "E27K");
/* harmony import */ var _shared_services_pdf_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/pdf.service */ "jyk5");
/* harmony import */ var _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/services/alert.service */ "Cmua");
/* harmony import */ var app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/services/metrics.service */ "SPHu");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/dialog */ "0IaG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */












function PrintDialogComponent_div_10_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PrintDialogComponent_div_10_Template_input_click_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.updateTherapistNoteSettings($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Include Therapist Notes?");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function PrintDialogComponent_input_13_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PrintDialogComponent_input_13_Template_input_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.handlePrint(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function PrintDialogComponent_input_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "input", 13);
} }
function PrintDialogComponent_a_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Download PDF");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("href", ctx_r3.downloadFileUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
class PrintDialogComponent {
    constructor(pdfService, alertService, metrics
    // this feels like a leaky extraction.. not sure I like it.
    , data, dialogRef) {
        this.pdfService = pdfService;
        this.alertService = alertService;
        this.metrics = metrics;
        this.data = data;
        this.dialogRef = dialogRef;
        this.METRICS_CATEGORY = "PrintDialog";
        this.hideNotesOption = false;
        if (this.data) {
            if (this.data.assignment) {
                this.assignment = this.data.assignment;
            }
            if (this.data.hideNotesOption === true) {
                this.data.hideNotesOption = true;
            }
        }
        this.printSettings = new _models_print_settings__WEBPACK_IMPORTED_MODULE_1__["PrintSettings"]();
        this._hasPrinted = false;
        this.hideNotesOption = false;
    }
    ngOnInit() {
    }
    get printingComplete() {
        return !this.printing && this._hasPrinted;
    }
    handlePrint() {
        this._hasPrinted = false;
        this.printing = true;
        let url = window.location.href;
        let metricMessage = "Print called " + (this.assignment ? "with" : "without") + " assignment";
        if (this.printSettings.showTherapistNotes) {
            url += "?notes=1";
            metricMessage += " and therapist notes";
            this.metrics.trackEvent(this.METRICS_CATEGORY, 'handlePrint', metricMessage);
        }
        // 2 minutes to time out for generating the report.
        let alert = this.alertService.info("Generating PDF Report", 120000);
        this.pdfService.generate(url, this.assignment)
            .then((fileId) => {
            this.metrics.trackEvent(this.METRICS_CATEGORY, 'handlePrint', "PDF report generated");
            this.filePrintId = fileId;
            this.alertService.clearAlert(alert);
            this.printing = false;
            this._hasPrinted = true;
            this.alertService.success("PDF report successfully generated");
        })
            .catch((error) => {
            this.metrics.trackEvent(this.METRICS_CATEGORY, 'handlePrint', "PDF report failed to generate");
            this.printing = false;
            console.error(error);
            this.alertService.clearAlert(alert);
            this.alertService.error("PDF failed to generate.  Check your internet connection and try again.  Contact customer support if you keep experiencing problems");
        });
    }
    get downloadFileUrl() {
        if (!this.printingComplete) {
            return "";
        }
        return this.pdfService.getPDFUrl(this.filePrintId);
    }
    updateTherapistNoteSettings(event) {
        let target = event.target;
        this.printSettings.showTherapistNotes = target.checked;
    }
    close() {
        this.dialogRef.close();
    }
}
PrintDialogComponent.ɵfac = function PrintDialogComponent_Factory(t) { return new (t || PrintDialogComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_pdf_service__WEBPACK_IMPORTED_MODULE_2__["PdfService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_4__["MetricsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MAT_DIALOG_DATA"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogRef"])); };
PrintDialogComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PrintDialogComponent, selectors: [["dac-print-dialog"]], decls: 24, vars: 4, consts: [[1, "container"], [1, "row"], [1, "col"], [1, "h4-responsive", "modal-title", "text-center"], [1, "fa", "fa-times", "float-right", 3, "click"], ["class", "col text-center", 4, "ngIf"], [1, "col", "text-center"], ["type", "button", "class", "btn btn-primary", "value", "Generate Report", 3, "click", 4, "ngIf"], ["type", "button", "class", "btn btn-secondary", "disabled", "", "value", "Generating PDF...", 4, "ngIf"], ["class", "btn btn-secondary", 3, "href", 4, "ngIf"], ["id", "printSettingsDialogIncludeTherapistNotes", "type", "checkbox", 1, "form-control", 3, "click"], ["for", "printSettingsDialogIncludeTherapistNotes"], ["type", "button", "value", "Generate Report", 1, "btn", "btn-primary", 3, "click"], ["type", "button", "disabled", "", "value", "Generating PDF...", 1, "btn", "btn-secondary"], [1, "btn", "btn-secondary", 3, "href"]], template: function PrintDialogComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h4", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " PDF Report Configuration ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "i", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PrintDialogComponent_Template_i_click_5_listener() { return ctx.close(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, PrintDialogComponent_div_10_Template, 4, 0, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, PrintDialogComponent_input_13_Template, 1, 0, "input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, PrintDialogComponent_input_14_Template, 1, 0, "input", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, PrintDialogComponent_a_15_Template, 2, 1, "a", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "h6");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, "Important Notice");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20, "Note the pdf printing can take a few seconds up to a few minutes depending on how large the report is and how many reports are currently being printed.");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](23, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hideNotesOption);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.printing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.printing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.printingComplete);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9wcmludC1kaWFsb2cvcHJpbnQtZGlhbG9nLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9yZXBvcnRzL3ByaW50LWRpYWxvZy9wcmludC1kaWFsb2cuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjIgRGlzY292ZXIgYW5kIENoYW5nZSBAYXV0aG9yIFN0ZXBoZW4gTmllbHNvbiA8c25pZWxzb25AZGlzY292ZXJhbmRjaGFuZ2UuY29tPlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBGb3IgTGljZW5zZSBpbmZvcm1hdGlvbiBzZWUgTElDRU5TRS5tZCBpbiB0aGUgcm9vdCBmb2xkZXIgb2YgdGhpcyBwcm9qZWN0LlxuICovXG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PrintDialogComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-print-dialog',
                templateUrl: './print-dialog.component.html',
                styleUrls: ['./print-dialog.component.scss']
            }]
    }], function () { return [{ type: _shared_services_pdf_service__WEBPACK_IMPORTED_MODULE_2__["PdfService"] }, { type: _shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }, { type: app_shared_services_metrics_service__WEBPACK_IMPORTED_MODULE_4__["MetricsService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MAT_DIALOG_DATA"]]
            }] }, { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_5__["MatDialogRef"] }]; }, null); })();


/***/ }),

/***/ "h4nx":
/*!****************************************************************************!*\
  !*** ./src/app/account-owner-settings/account-owner-settings.component.ts ***!
  \****************************************************************************/
/*! exports provided: AccountOwnerSettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AccountOwnerSettingsComponent", function() { return AccountOwnerSettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_company_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/company.service */ "Hu2X");
/* harmony import */ var app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/login/services/auth.service */ "6Hrc");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */










function AccountOwnerSettingsComponent_p_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Loading settings");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AccountOwnerSettingsComponent_div_7_div_9_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AccountOwnerSettingsComponent_div_7_div_9_Template_input_ngModelChange_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r3.Company.sendNotificationsCopyToRegularUsers = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Send notification copies to Non-Admin assigned users");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r2.Company.sendNotificationsCopyToRegularUsers);
} }
function AccountOwnerSettingsComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AccountOwnerSettingsComponent_div_7_Template_input_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.Company.sendAssessmentsCompleteNotifications = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Send Email Notifications When Client Completes All Assignments");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AccountOwnerSettingsComponent_div_7_Template_input_ngModelChange_6_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.Company.sendNotificationsToPrimaryContact = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "label", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "Send all Notifications to Primary Account Holder");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, AccountOwnerSettingsComponent_div_7_div_9_Template, 4, 1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "input", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function AccountOwnerSettingsComponent_div_7_Template_input_ngModelChange_11_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.Company.disableShopRegisteredUsers = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "label", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Disable shop access from everyone except administrators");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "input", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AccountOwnerSettingsComponent_div_7_Template_input_click_16_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.save(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r1.Company.sendAssessmentsCompleteNotifications);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r1.Company.sendNotificationsToPrimaryContact);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.Company.sendNotificationsToPrimaryContact);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r1.Company.disableShopRegisteredUsers);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx_r1.isSaving);
} }
class AccountOwnerSettingsComponent {
    constructor(companyService, authService, alertService) {
        this.companyService = companyService;
        this.authService = authService;
        this.alertService = alertService;
    }
    ngOnInit() {
        this.loaded = false;
        this.authService.getCurrentUser().then(user => {
            this.companyService.getAccountOwnerCompany(user.companyID).then(c => {
                this.loaded = true;
                this._company = c;
            })
                .catch(e => {
                this.alertService.error("Failed to get company settings.  Check your internet connection and try again");
                console.error(e);
            });
        }).catch(error => {
            console.error(error);
            this.alertService.error("Failed to retrieve account settings.  Check your internet connection and try again");
        });
    }
    save() {
        this.isSaving = true;
        this.companyService.saveAccountOwnerCompany(this._company).then(result => {
            this._company = result;
            this.isSaving = false;
            this.alertService.success("Company settings saved!");
        })
            .catch(e => {
            this.alertService.error("Failed to save company settings.  Check your internet connection and try again.");
            console.error(e);
            this.isSaving = false;
        });
    }
    get Company() {
        return this._company;
    }
}
AccountOwnerSettingsComponent.ɵfac = function AccountOwnerSettingsComponent_Factory(t) { return new (t || AccountOwnerSettingsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_company_service__WEBPACK_IMPORTED_MODULE_1__["CompanyService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"])); };
AccountOwnerSettingsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AccountOwnerSettingsComponent, selectors: [["dac-account-owner-settings"]], decls: 8, vars: 2, consts: [[1, "col"], [1, "col-md-10", "col-lg-8", "col-12", "ml-auto", "mr-auto", "card", "card-cascade", "wider"], [1, "view", "view-cascade", "gradient-card-header", "secondary-gradient", "pt-2", "pb-2"], [1, "card-body-cascade", "card-body"], ["class", "alert alert-danger", 4, "ngIf"], ["class", "form-horizontal", 4, "ngIf"], [1, "alert", "alert-danger"], [1, "form-horizontal"], [1, "form-group"], ["id", "sendAssessmentsCompleteNotifications", "type", "checkbox", 1, "form-control", 3, "ngModel", "ngModelChange"], ["for", "sendAssessmentsCompleteNotifications"], ["id", "sendNotificationsToPrimaryContact", "type", "checkbox", 1, "form-control", 3, "ngModel", "ngModelChange"], ["for", "sendNotificationsToPrimaryContact"], ["class", "form-group", 4, "ngIf"], ["id", "disableShopAccess", "type", "checkbox", 1, "form-control", 3, "ngModel", "ngModelChange"], ["for", "disableShopAccess"], [1, "form-group", "text-center"], [1, "col-sm-12"], ["type", "button", "value", "Save", 1, "btn", "btn-primary", 3, "disabled", "click"], ["id", "sendNotificationsCopyToRegularUsers", "type", "checkbox", 1, "form-control", 3, "ngModel", "ngModelChange"], ["for", "sendNotificationsCopyToRegularUsers"]], template: function AccountOwnerSettingsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h4");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Update Settings");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AccountOwnerSettingsComponent_p_6_Template, 2, 0, "p", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, AccountOwnerSettingsComponent_div_7_Template, 17, 5, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.loaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loaded);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["CheckboxControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__["NgModel"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWNjb3VudC1vd25lci1zZXR0aW5ncy9hY2NvdW50LW93bmVyLXNldHRpbmdzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9hY2NvdW50LW93bmVyLXNldHRpbmdzL2FjY291bnQtb3duZXItc2V0dGluZ3MuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjIgRGlzY292ZXIgYW5kIENoYW5nZSBAYXV0aG9yIFN0ZXBoZW4gTmllbHNvbiA8c25pZWxzb25AZGlzY292ZXJhbmRjaGFuZ2UuY29tPlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBGb3IgTGljZW5zZSBpbmZvcm1hdGlvbiBzZWUgTElDRU5TRS5tZCBpbiB0aGUgcm9vdCBmb2xkZXIgb2YgdGhpcyBwcm9qZWN0LlxuICovXG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AccountOwnerSettingsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-account-owner-settings',
                templateUrl: './account-owner-settings.component.html',
                styleUrls: ['./account-owner-settings.component.scss']
            }]
    }], function () { return [{ type: app_shared_services_company_service__WEBPACK_IMPORTED_MODULE_1__["CompanyService"] }, { type: app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_3__["AlertService"] }]; }, null); })();


/***/ }),

/***/ "hUI+":
/*!***********************************************************!*\
  !*** ./src/app/shared/models/assessment-group-display.ts ***!
  \***********************************************************/
/*! exports provided: AssessmentGroupDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentGroupDisplay", function() { return AssessmentGroupDisplay; });
/* harmony import */ var _shared_models_assessment_group__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/models/assessment-group */ "b7og");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class AssessmentGroupDisplay extends _shared_models_assessment_group__WEBPACK_IMPORTED_MODULE_0__["AssessmentGroup"] {
    constructor() {
        super();
        this.ShowAdd = false;
        this.Show = false;
    }
}


/***/ }),

/***/ "hYe5":
/*!******************************************************************!*\
  !*** ./src/app/reports/report-viewer/report-viewer.component.ts ***!
  \******************************************************************/
/*! exports provided: ReportViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportViewerComponent", function() { return ReportViewerComponent; });
/* harmony import */ var _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/services/dac-config.service */ "OApS");
/* harmony import */ var _theme_services_nav_bar_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../theme/services/nav-bar.service */ "z37e");
/* harmony import */ var _shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/unique-id.service */ "rx/G");
/* harmony import */ var _shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/services/assessment.service */ "7myg");
/* harmony import */ var _shared_services_client_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/services/client.service */ "oR8h");
/* harmony import */ var _shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/services/assessment-hydrator.service */ "RKwW");
/* harmony import */ var _services_report_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/report.service */ "iW2n");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! app/shared/services/sso-cross-domain-messenger */ "hkrp");
/* harmony import */ var app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/shared/services/modal.service */ "JK/P");
/* harmony import */ var _print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../print-dialog/print-dialog.component */ "gqDk");
/* harmony import */ var app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! app/shared/services/questionnaire.service */ "Dhxs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");
/* harmony import */ var _report_reviewer_container_report_viewer_container_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../report-reviewer-container/report-viewer-container.component */ "vK7k");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




























const _c0 = ["container"];
function ReportViewerComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "input", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function ReportViewerComponent_div_2_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return ctx_r4.goBack(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
function ReportViewerComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function ReportViewerComponent_div_6_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](); return ctx_r6.browserPrint(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
function ReportViewerComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](2, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "app-spin-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4, " Loading Report data...");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} }
function ReportViewerComponent_div_8_dac_report_viewer_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "dac-report-viewer-container", 18);
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("report", ctx_r8.report)("results", ctx_r8.assessmentResults);
} }
function ReportViewerComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, ReportViewerComponent_div_8_dac_report_viewer_container_2_Template, 1, 2, "dac-report-viewer-container", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r3.report);
} }
const _c1 = function (a0, a1) { return { "col-8": a0, "col-12 text-center": a1 }; };
class ReportViewerComponent {
    constructor(resolver, assessmentService, clientService, hydrator, route, reportService, uniqueIdService, navBarService, dacConfig, crossDomainMessenger, elementRef, modalService, questionnaireResponseService) {
        this.resolver = resolver;
        this.assessmentService = assessmentService;
        this.clientService = clientService;
        this.hydrator = hydrator;
        this.route = route;
        this.reportService = reportService;
        this.uniqueIdService = uniqueIdService;
        this.navBarService = navBarService;
        this.dacConfig = dacConfig;
        this.crossDomainMessenger = crossDomainMessenger;
        this.elementRef = elementRef;
        this.modalService = modalService;
        this.questionnaireResponseService = questionnaireResponseService;
        this._reportItemClassNames = ["report-item-component"];
        this.menuItems = [];
        this.componentItems = [];
        this.componentItemsById = new Map();
        this.hasLoadedResults = false;
        this.displayTherapistNotes = false;
        this.reportId = "";
    }
    ngOnInit() {
        this.queryParamsSubscription = this.route.queryParams.subscribe(params => {
            if (params['notes'] && params['notes'] == '1') {
                this.displayTherapistNotes = true;
            }
            else {
                this.displayTherapistNotes = false;
            }
        });
        this.routeParamsSubscription = this.route.params.subscribe(params => {
            let clientId = params['id'];
            if (!clientId || typeof clientId !== "string") {
                // this.router.navigate(['../']);
                return;
            }
            this.navBarService.setupReportSidebar(clientId);
            let reportId = params['reportId'];
            if (!reportId || typeof reportId !== "string") {
                console.error("Missing reportid, can't continue");
                return;
            }
            let assignmentId = params['assignmentId'];
            if (!assignmentId || typeof reportId !== "string") {
                console.error("Missing assignmentId, can't continue");
                return;
            }
            this.loadReport(clientId, reportId, assignmentId);
        });
    }
    showCommandButtons() {
        return !this.dacConfig.seamlessMode;
    }
    getClasses() {
        let obj = { 'display-therapist-notes': this.displayTherapistNotes };
        obj[this.reportId] = true;
        return obj;
    }
    ngOnDestroy() {
        if (this.queryParamsSubscription) {
            this.queryParamsSubscription.unsubscribe();
        }
        if (this.routeParamsSubscription) {
            this.routeParamsSubscription.unsubscribe();
        }
        this.navBarService.clearReportSidebar();
    }
    loadReport(clientId, reportId, assignmentId) {
        // get the client, get the reportData
        Promise.all([this.clientService.getClient(clientId), this.reportService.get(reportId)])
            .then((results) => {
            let client = results[0];
            this.report = results[1];
            this.reportId = reportId;
            if (!client || !client.assignments || !client.assignments.length) {
                throw new Error("No assessments to generate a report");
            }
            let assignment = client.getAssignment(assignmentId);
            if (!assignment) {
                throw new Error("Assignment could not be found with this id");
            }
            else {
                this.assignment = assignment;
            }
            if (!this.report) {
                throw new Error("No report data to display");
            }
            this._reportData = this.report;
            // TODO: stephen this is a bug as it loads ALL of the client's assessments they've taken.
            let assessmentResultIds = assignment.getAssessmentResultIds();
            let qrResultItems = assignment.getQuestionnaireResponseItems();
            let arResults = this.assessmentService.getAssessmentResultList(clientId, assessmentResultIds);
            let qrResults = this.questionnaireResponseService.getQuestionnaireResponsesAsAssessmentResults(qrResultItems);
            // let completedResultIds = assignment.getResultIds();
            // let resultPromises:Promise<AssessmentResult>[] = completedResultIds.map(r => this.assessmentService.getAssessmentResult(clientId, r));
            // return Promise.all(resultPromises);
            return Promise.all([arResults, qrResults]).then(resultPromises => {
                return resultPromises[0].concat(resultPromises[1]);
            });
        })
            .then((results) => {
            this.assessmentResults = results;
            this.hasLoadedResults = true;
        });
    }
    get ReportName() {
        if (this._reportData) {
            return this._reportData.name;
        }
        return "";
    }
    goBack() {
        // TODO: stephen we are dependent on a global here.. should inject angular dependency.
        window.history.back();
    }
    browserPrint() {
        if (window && window.print) {
            window.print();
        }
    }
    print() {
        this.modalService.openDialog(_print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_11__["PrintDialogComponent"], { assignment: this.assignment });
        // this.showPrintDialog = true;
    }
}
ReportViewerComponent.ɵfac = function ReportViewerComponent_Factory(t) { return new (t || ReportViewerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_7__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_3__["AssessmentService"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_shared_services_client_service__WEBPACK_IMPORTED_MODULE_4__["ClientService"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_5__["AssessmentHydrator"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_services_report_service__WEBPACK_IMPORTED_MODULE_6__["ReportService"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_2__["UniqueIdService"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_theme_services_nav_bar_service__WEBPACK_IMPORTED_MODULE_1__["NavBarService"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_0__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_9__["SsoCrossDomainMessenger"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_7__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_10__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_12__["QuestionnaireService"])); };
ReportViewerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({ type: ReportViewerComponent, selectors: [["dac-report-viewer"]], viewQuery: function ReportViewerComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵloadQuery"]()) && (ctx.container = _t.first);
    } }, hostAttrs: [1, "row", "d-print-block-visible"], decls: 9, vars: 10, consts: [[1, "col", "itemsContainer", "d-print-block-visible", 3, "ngClass"], [1, "row", "report-controls"], ["class", "col-2", 4, "ngIf"], [3, "ngClass"], [1, "h1-responsive", "report-name", "text-center"], ["class", "col-2 ml-auto", 4, "ngIf"], ["class", "row", 4, "ngIf"], ["class", "row d-print-block-visible", 4, "ngIf"], [1, "col-2"], ["type", "button", "value", "Back", 1, "btn", "btn-primary", 3, "click"], [1, "col-2", "ml-auto"], ["type", "button", "value", "Print", 1, "btn", "btn-secondary", "d-print-none", 3, "click"], [1, "row"], [1, "col"], [1, "alert", "alert-warning"], [1, "row", "d-print-block-visible"], [1, "col", "d-print-block-visible"], [3, "report", "results", 4, "ngIf"], [3, "report", "results"]], template: function ReportViewerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, ReportViewerComponent_div_2_Template, 2, 0, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](4, "h1", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](6, ReportViewerComponent_div_6_Template, 2, 0, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](7, ReportViewerComponent_div_7_Template, 5, 0, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](8, ReportViewerComponent_div_8_Template, 3, 1, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", ctx.getClasses());
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction2"](7, _c1, ctx.showCommandButtons(), !ctx.showCommandButtons()));
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](ctx.ReportName);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.showCommandButtons());
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx.hasLoadedResults);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.hasLoadedResults);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_13__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_13__["NgIf"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_14__["SpinIconComponent"], _report_reviewer_container_report_viewer_container_component__WEBPACK_IMPORTED_MODULE_15__["ReportViewerContainerComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵsetClassMetadata"](ReportViewerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["Component"],
        args: [{
                selector: 'dac-report-viewer',
                templateUrl: './report-viewer.component.html',
                host: { 'class': 'row d-print-block-visible' }
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ComponentFactoryResolver"] }, { type: _shared_services_assessment_service__WEBPACK_IMPORTED_MODULE_3__["AssessmentService"] }, { type: _shared_services_client_service__WEBPACK_IMPORTED_MODULE_4__["ClientService"] }, { type: _shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_5__["AssessmentHydrator"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_8__["ActivatedRoute"] }, { type: _services_report_service__WEBPACK_IMPORTED_MODULE_6__["ReportService"] }, { type: _shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_2__["UniqueIdService"] }, { type: _theme_services_nav_bar_service__WEBPACK_IMPORTED_MODULE_1__["NavBarService"] }, { type: _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_0__["DacConfig"] }, { type: app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_9__["SsoCrossDomainMessenger"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ElementRef"] }, { type: app_shared_services_modal_service__WEBPACK_IMPORTED_MODULE_10__["ModalService"] }, { type: app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_12__["QuestionnaireService"] }]; }, { container: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewChild"],
            args: ["container", { read: _angular_core__WEBPACK_IMPORTED_MODULE_7__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "hdOu":
/*!***************************************************************************************************************!*\
  !*** ./src/app/reports/report-items/flagged-questions-list-simple/flagged-questions-list-simple.component.ts ***!
  \***************************************************************************************************************/
/*! exports provided: FlaggedQuestionsListSimpleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FlaggedQuestionsListSimpleComponent", function() { return FlaggedQuestionsListSimpleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _flagged_questions_list_flagged_questions_list_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../flagged-questions-list/flagged-questions-list.component */ "NEzX");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





function FlaggedQuestionsListSimpleComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 7);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r0.description, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function FlaggedQuestionsListSimpleComponent_p_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "There were no flagged items of concern to address.");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function FlaggedQuestionsListSimpleComponent_app_scale_questions_list_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-scale-questions-list", 9);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", ctx_r2.FlaggedQuestions)("flagPrompts", true)("displayScale", true);
} }
class FlaggedQuestionsListSimpleComponent extends _flagged_questions_list_flagged_questions_list_component__WEBPACK_IMPORTED_MODULE_1__["FlaggedQuestionsListComponent"] {
    constructor() {
        super();
        this.flaggedQuestions = [];
    }
    ngOnInit() {
        this.flaggedQuestions = this.Assessments.map(a => a.getFlaggedQuestions()).reduce((prev, curr) => curr.concat(prev), []);
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    get FlaggedQuestions() {
        return this.flaggedQuestions;
    }
}
FlaggedQuestionsListSimpleComponent.ɵfac = function FlaggedQuestionsListSimpleComponent_Factory(t) { return new (t || FlaggedQuestionsListSimpleComponent)(); };
FlaggedQuestionsListSimpleComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: FlaggedQuestionsListSimpleComponent, selectors: [["dac-flagged-questions-list-simple"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 8, vars: 4, consts: [[1, "card", "card-wider", "card-cascade"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], [3, "innerHTML", 4, "ngIf"], ["class", "h4 text-center", 4, "ngIf"], [3, "Questions", "flagPrompts", "displayScale", 4, "ngIf"], [3, "innerHTML"], [1, "h4", "text-center"], [3, "Questions", "flagPrompts", "displayScale"]], template: function FlaggedQuestionsListSimpleComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, FlaggedQuestionsListSimpleComponent_div_5_Template, 1, 1, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, FlaggedQuestionsListSimpleComponent_p_6_Template, 2, 0, "p", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, FlaggedQuestionsListSimpleComponent_app_scale_questions_list_7_Template, 1, 3, "app-scale-questions-list", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.description);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasFocusQuestions);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasFocusQuestions);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_3__["ScaleQuestionsListComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtaXRlbXMvZmxhZ2dlZC1xdWVzdGlvbnMtbGlzdC1zaW1wbGUvZmxhZ2dlZC1xdWVzdGlvbnMtbGlzdC1zaW1wbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHMvcmVwb3J0LWl0ZW1zL2ZsYWdnZWQtcXVlc3Rpb25zLWxpc3Qtc2ltcGxlL2ZsYWdnZWQtcXVlc3Rpb25zLWxpc3Qtc2ltcGxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FlaggedQuestionsListSimpleComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-flagged-questions-list-simple',
                templateUrl: './flagged-questions-list-simple.component.html',
                styleUrls: ['./flagged-questions-list-simple.component.scss']
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "hkrp":
/*!***************************************************************!*\
  !*** ./src/app/shared/services/sso-cross-domain-messenger.ts ***!
  \***************************************************************/
/*! exports provided: SsoCrossDomainMessenger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SsoCrossDomainMessenger", function() { return SsoCrossDomainMessenger; });
/* harmony import */ var _dac_config_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dac-config.service */ "OApS");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




class SsoCrossDomainMessenger {
    constructor(dacConfig) {
        this.dacConfig = dacConfig;
    }
    sendMessage(type, sendData) {
        let data = Object.assign({}, sendData);
        data.type = type;
        // TODO: stephen do we want to whitelist the events here??
        if (this.dacConfig.seamlessMode && this.dacConfig.ssoIssuer) {
            // we are embedded in an iframe so let's post to our parent window
            if (window && window.document) {
                // TODO: stephen need to figure out the best way to post this message.
                window.parent.postMessage(data, this.dacConfig.ssoIssuer);
            }
        }
    }
}
SsoCrossDomainMessenger.ɵfac = function SsoCrossDomainMessenger_Factory(t) { return new (t || SsoCrossDomainMessenger)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_dac_config_service__WEBPACK_IMPORTED_MODULE_0__["DacConfig"])); };
SsoCrossDomainMessenger.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: SsoCrossDomainMessenger, factory: SsoCrossDomainMessenger.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SsoCrossDomainMessenger, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _dac_config_service__WEBPACK_IMPORTED_MODULE_0__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "i413":
/*!**********************************************************!*\
  !*** ./src/app/pricing-table/pricing-table.component.ts ***!
  \**********************************************************/
/*! exports provided: PricingTableComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PricingTableComponent", function() { return PricingTableComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





const _c0 = function () { return ["/contact"]; };
class PricingTableComponent {
    constructor(dacConfig) {
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.freeTrialPeriod = dacConfig.freeTrialPeriod;
    }
    ngOnInit() {
    }
    selectPlan(type) {
        this.selected.next(type);
    }
}
PricingTableComponent.ɵfac = function PricingTableComponent_Factory(t) { return new (t || PricingTableComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"])); };
PricingTableComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PricingTableComponent, selectors: [["dac-pricing-table"]], outputs: { selected: "selected" }, decls: 104, vars: 3, consts: [["id", "one", 1, "pricing-table", "d-flex", "align-items-center", "text-left"], [1, "container"], [1, "row"], [1, "text-light", "text-center", "mb-3", "col"], [1, "row", "justify-content-center"], [1, "col-lg-4"], [1, "card", "mb-5", "mb-lg-0"], [1, "card-body"], [1, "card-title", "grey-text", "text-uppercase", "text-center"], [1, "card-price", "text-center"], [1, "term"], [1, "my-4"], [1, "fa-ul"], [1, "fa-li"], [1, "fa", "fa-check"], [1, "grey-text"], [1, "fa", "fa-times"], [1, "btn", "btn-block", "btn-primary", "z-depth-0", "btn-rounded", "my-2", 3, "click"], [1, "btn", "btn-block", "btn-primary", "z-depth-0", "btn-rounded", "my-2", 3, "routerLink"]], template: function PricingTableComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "section", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h2", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Pricing");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "h5", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "Standard");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "h6", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, "$30");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "span", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "/user/month");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "hr", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "ul", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](19, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20, "1-50 Users");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](23, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24, "Unlimited clients");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](27, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28, "Unlimited assessments and assessment batteries");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](29, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](31, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](32, "Unlimited homework exercises and articles");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](34, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](35, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](36, "Assignment completion notifications");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "li", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](38, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](39, "i", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](40, "Whitelabel Domain ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](41, "li", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](42, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](43, "i", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](44, "Whitelabel Emails ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](45, "li", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](46, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](47, "i", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](48, "Whitelabel Reports ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](49, "li", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](50, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](51, "i", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](52, "Embed assessments on external site");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](53, "a", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PricingTableComponent_Template_a_click_53_listener() { return ctx.selectPlan("Therapist"); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](54);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](55, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](56, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](57, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](58, "h5", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](59, "Custom");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](60, "h6", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](61, "span", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](62, "By Quote");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](63, "hr", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](64, "ul", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](65, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](66, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](67, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](68, "strong");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](69, "50+ Users");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](70, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](71, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](72, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](73, "Unlimited clients");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](74, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](75, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](76, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](77, "Unlimited assessments and assessment batteries");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](78, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](79, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](80, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](81, "Unlimited homework exercises and articles");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](82, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](83, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](84, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](85, "Assignment completion notifications");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](86, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](87, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](88, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](89, "Whitelabel Domain");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](90, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](91, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](92, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](93, "Whitelabel Emails");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](94, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](95, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](96, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](97, "Whitelabel Reports");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](98, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](99, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](100, "i", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](101, "Embed assessments on external site");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](102, "a", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](103, "Contact Us");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](54);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Signup for ", ctx.freeTrialPeriod, " day free trial");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](48);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](2, _c0));
    } }, directives: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterLinkWithHref"]], styles: [".pricing-table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] {\n  transition: all 0.2s;\n  border-radius: 15px;\n}\n.pricing-table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%] {\n  font-size: 1rem;\n  letter-spacing: 0.2rem;\n  font-weight: 500;\n}\n.pricing-table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%] {\n  font-size: 2.7rem;\n}\n.pricing-table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]   .term[_ngcontent-%COMP%] {\n  font-size: 0.875rem;\n}\n.pricing-table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .fa-ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child) {\n  margin-bottom: 1rem;\n}\n@media (min-width: 992px) {\n  .pricing-table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover {\n    margin-top: -0.25rem;\n    margin-bottom: 0.25rem;\n    box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.3);\n  }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcHJpY2luZy10YWJsZS9wcmljaW5nLXRhYmxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUE7QUFNSTtFQUdJLG9CQUFBO0VBRUEsbUJBQUE7QUFBUjtBQUVRO0VBQ0ksZUFBQTtFQUNBLHNCQUFBO0VBQ0EsZ0JBQUE7QUFBWjtBQUdRO0VBQ0ksaUJBQUE7QUFEWjtBQUVZO0VBQ0ksbUJBQUE7QUFBaEI7QUFJUTtFQUNJLG1CQUFBO0FBRlo7QUFNQTtFQUNJO0lBQ0Usb0JBQUE7SUFDQSxzQkFBQTtJQUVBLDhDQUFBO0VBSEo7QUFDRiIsImZpbGUiOiJzcmMvYXBwL3ByaWNpbmctdGFibGUvcHJpY2luZy10YWJsZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMiBEaXNjb3ZlciBhbmQgQ2hhbmdlIEBhdXRob3IgU3RlcGhlbiBOaWVsc29uIDxzbmllbHNvbkBkaXNjb3ZlcmFuZGNoYW5nZS5jb20+XG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEZvciBMaWNlbnNlIGluZm9ybWF0aW9uIHNlZSBMSUNFTlNFLm1kIGluIHRoZSByb290IGZvbGRlciBvZiB0aGlzIHByb2plY3QuXG4gKi9cbi5wcmljaW5nLXRhYmxlIHtcbiAgICAuY2FyZCB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIDAuMnM7XG4gICAgICAgIC1vLXRyYW5zaXRpb246IGFsbCAwLjJzO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcbiAgICAgICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuXG4gICAgICAgIC5jYXJkLXRpdGxlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAuMnJlbTtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1wcmljZSB7XG4gICAgICAgICAgICBmb250LXNpemU6IDIuN3JlbTtcbiAgICAgICAgICAgIC50ZXJtIHtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IC44NzVyZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAuZmEtdWwgbGk6bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgICAgICB9XG4gICAgfVxufVxuQG1lZGlhIChtaW4td2lkdGg6IDk5MnB4KSB7XG4gICAgLnByaWNpbmctdGFibGUgLmNhcmQ6aG92ZXIge1xuICAgICAgbWFyZ2luLXRvcDogLS4yNXJlbTtcbiAgICAgIG1hcmdpbi1ib3R0b206IC4yNXJlbTtcbiAgICAgIC13ZWJraXQtYm94LXNoYWRvdzogMCAwLjVyZW0gMXJlbSAwIHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgICAgIGJveC1zaGFkb3c6IDAgMC41cmVtIDFyZW0gMCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgfVxufVxuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PricingTableComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-pricing-table',
                templateUrl: './pricing-table.component.html',
                styleUrls: ['./pricing-table.component.scss']
            }]
    }], function () { return [{ type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"] }]; }, { selected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "iFyB":
/*!***********************************************************************!*\
  !*** ./src/app/shared/services/assessment-result-hydrator.service.ts ***!
  \***********************************************************************/
/*! exports provided: AssessmentResultHydrator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentResultHydrator", function() { return AssessmentResultHydrator; });
/* harmony import */ var _models_list_question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/list-question */ "Kt/y");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assessment-hydrator.service */ "RKwW");
/* harmony import */ var _models_assessment_result__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/assessment-result */ "TNk8");
/* harmony import */ var _models_scale_result__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/scale-result */ "+u/X");
/* harmony import */ var app_shared_models_question_set_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/models/question-set-type */ "AUW9");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








class AssessmentResultHydrator {
    constructor(assessmentHydrator) {
        this._assessmentHydrator = assessmentHydrator;
    }
    hydrate(data) {
        let assessmentResult = new _models_assessment_result__WEBPACK_IMPORTED_MODULE_3__["AssessmentResult"]();
        let answerMap = {};
        assessmentResult.id = data.id || data._id || "";
        let assessment = data._assessment || data.assessment;
        let answers = data._answers || [];
        let scaleResults = data._scaleResults || data.scaleResults || [];
        let flaggedQuestions = data._flaggedQuestions || data.flaggedQuestions || [];
        let dateCompleted = data._dateCompleted || data.dateCompleted || new Date().toISOString();
        if (assessment) {
            assessmentResult.assessment = this._assessmentHydrator.hydrate(assessment);
            let questionMap = this.createQuestionMap(assessmentResult.assessment);
            let answerMap = this.createAnswerMap(answers);
            this.fillInAnswers(assessmentResult, answerMap);
            assessmentResult.flaggedQuestions = this.getFlaggedQuestions(flaggedQuestions, questionMap);
            assessmentResult.scaleResults = scaleResults.map(sr => this.hydrateScaleResult(assessmentResult.assessment, sr));
        }
        try {
            assessmentResult.dateCompleted = new Date(dateCompleted);
        }
        catch (error) {
            console.error("Failed to get valid date completed string for result ", assessmentResult.id);
            console.error(error);
        }
        return assessmentResult;
    }
    getFlaggedQuestions(flaggedQuestions, questionMap) {
        return flaggedQuestions.map(id => {
            let fq = questionMap.get(id);
            fq.isFlaggedForReview = true; // make sure we mark the question as flagged.
            if (!fq) {
                console.error("Flagged Question not found with id ", id);
            }
            return fq;
        })
            .filter(fq => fq != null);
    }
    createQuestionMap(assessment) {
        let map = new Map();
        assessment.question_sets
            .map(qs => qs.questions)
            .reduce((prev, curr) => curr.concat(prev), [])
            .forEach(q => map.set(q.id, q));
        return map;
    }
    fillInAnswers(assessmentResult, answerMap) {
        // populate the answers for the questions from the result set.
        assessmentResult.assessment
            .question_sets.forEach(qs => qs.questions.forEach(q => this.fillInQuestion(q, qs, answerMap)));
    }
    fillInQuestion(q, questionSet, answerMap) {
        if (!answerMap[q.id]) {
            return;
        }
        // if the question has it's own custom labels we use those instead.
        let score = answerMap[q.id].hasOwnProperty('score') ? answerMap[q.id].score : null;
        q.setComputedScore(score);
        if (questionSet.display_type == app_shared_models_question_set_type__WEBPACK_IMPORTED_MODULE_5__["QuestionSetType"].QUESTION_LIST
            && q instanceof _models_list_question__WEBPACK_IMPORTED_MODULE_0__["ListQuestion"]) {
            q.setSavedAnswer(answerMap[q.id].answer, q.CustomLabels);
        }
        else {
            q.setSavedAnswer(answerMap[q.id].answer, questionSet.labels);
        }
    }
    createAnswerMap(answers) {
        let answerMap = {};
        answers.forEach(a => answerMap[a._question_id] = { answer: a._answer, score: a._score });
        return answerMap;
    }
    hydrateScaleResult(assessment, srData) {
        let scaleResult = new _models_scale_result__WEBPACK_IMPORTED_MODULE_4__["ScaleResult"]();
        let score = srData.score || srData._score;
        if (score) {
            scaleResult.score = +score;
        }
        let scaleData = srData._scale || srData.scale;
        if (scaleData) {
            scaleResult.scale = this._assessmentHydrator.hydrateScale(scaleData);
        }
        else if (srData._scaleId) {
            let scale = assessment.scales.find(s => s.id == srData._scaleId);
            if (!scale && assessment.scales.length) {
                scale = assessment.scales[0];
            }
            scaleResult.scale = scale;
        }
        let rangeData = srData._range || srData.range;
        if (rangeData) {
            scaleResult.range = this._assessmentHydrator.hydrateScaleRange(rangeData);
        }
        else if (srData._rangeId && scaleResult.scale) {
            let range = scaleResult.scale.ranges.find(r => r.id == srData._rangeId);
            // if for some reason we can't find it... choose the first one.
            if (!range && scaleResult.scale.ranges.length) {
                range = scaleResult.scale.ranges[0];
            }
            scaleResult.range = range;
        }
        else if (scaleResult.scale && scaleResult.scale.ranges
            && scaleResult.scale.ranges.length) {
            scaleResult.range = scaleResult.scale.ranges[0];
        }
        return scaleResult;
    }
}
AssessmentResultHydrator.ɵfac = function AssessmentResultHydrator_Factory(t) { return new (t || AssessmentResultHydrator)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentHydrator"])); };
AssessmentResultHydrator.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: AssessmentResultHydrator, factory: AssessmentResultHydrator.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](AssessmentResultHydrator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_2__["AssessmentHydrator"] }]; }, null); })();


/***/ }),

/***/ "iW2n":
/*!****************************************************!*\
  !*** ./src/app/reports/services/report.service.ts ***!
  \****************************************************/
/*! exports provided: ReportService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportService", function() { return ReportService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/services/dac-config.service */ "OApS");
/* harmony import */ var _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/http.service */ "Tdnt");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






class ReportService {
    constructor(dacConfig, http) {
        this.dacConfig = dacConfig;
        this.http = http;
        this.reports = null;
    }
    getReportObjects(showAllReports = false) {
        if (this.reports && this.allReportsIncludingHidden == showAllReports) {
            return Promise.resolve(this.reports);
        }
        return this.http.get("assessment-reports", { showAllReports: showAllReports })
            .then((reports) => {
            this.reports = reports;
            this.allReportsIncludingHidden = showAllReports;
            return this.reports;
        })
            .catch((error) => {
            console.error(error);
            return [];
        });
    }
    list(showAllReports = false) {
        return this.getReportObjects(showAllReports);
    }
    get(reportId) {
        return this.http.get("assessment-reports/" + reportId)
            .then((report) => {
            return report;
        })
            .catch(error => {
            console.error(error);
            throw Error("Could not find report with id " + reportId);
        });
    }
    create(item) {
        return this.http.compressedPost("assessment-reports", item)
            .then((result) => {
            this.reports = null; // invalidate the cache
            return result;
        });
    }
    save(item) {
        return this.http.compressedPost("assessment-reports/" + item.id, item)
            .then((result) => {
            this.reports = null; // invalidate the cache
            return item;
        });
    }
    getReportRequirements() {
        return this.getReportObjects()
            .then(reports => reports.map((r) => {
            let linkedAssessments = r.linkedAssessments || [];
            return { id: r.id, name: r.name, requirements: linkedAssessments };
        }));
    }
    getReportsForAssignment(assignment) {
        if (!assignment) {
            return Promise.resolve([]);
        }
        return this.getReportObjects().then(reports => {
            let assignmentReports = [];
            if (assignment.Type == "Assessment") {
                let assessmentAssignment = assignment.Items[0];
                assignmentReports = reports.filter(r => r.linkedAssessments && r.linkedAssessments.length == 1 && r.linkedAssessments[0] == assessmentAssignment.Uid);
            }
            else if (assignment.Type == "AssessmentGroup") {
                let group = assignment;
                assignmentReports = reports.filter(r => r.linkedGroup && r.linkedGroup.id == group.AssessmentGroupId);
            }
            else if (assignment.Type == 'LibraryAsset') {
                assignmentReports = []; // no reports for now.
            }
            else if (assignment.Type == 'Questionnaire' || assignment.Type == "ExternalQuestionnaire" || assignment.Type == "TemplateProfile") {
                let questionnaireAssignment = assignment.Items[0];
                assignmentReports = reports.filter(r => r.linkedQuestionnaires && r.linkedQuestionnaires.length == 1 && r.linkedQuestionnaires[0] == questionnaireAssignment.QuestionnaireId);
            }
            else {
                throw new Error("Unsupported assignment type");
            }
            return assignmentReports;
        });
    }
}
ReportService.ɵfac = function ReportService_Factory(t) { return new (t || ReportService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"])); };
ReportService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ReportService, factory: ReportService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ReportService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"] }, { type: _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"] }]; }, null); })();


/***/ }),

/***/ "iWIr":
/*!**********************************************************************!*\
  !*** ./src/app/theme/admin-login-page/admin-login-page.component.ts ***!
  \**********************************************************************/
/*! exports provided: AdminLoginPageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminLoginPageComponent", function() { return AdminLoginPageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_card_card_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/card/card.component */ "Fe25");
/* harmony import */ var _login_admin_login_admin_login_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../login/admin-login/admin-login.component */ "Mjyu");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




class AdminLoginPageComponent {
    constructor() { }
    ngOnInit() {
    }
}
AdminLoginPageComponent.ɵfac = function AdminLoginPageComponent_Factory(t) { return new (t || AdminLoginPageComponent)(); };
AdminLoginPageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AdminLoginPageComponent, selectors: [["app-admin-login-page"]], decls: 5, vars: 2, consts: [[1, "container-fluid", "mb-3"], [1, "row", "justify-content-center"], [1, "col-12", "col-md-8", "col-lg-4"], [1, "mt-4", 3, "icon", "title"]], template: function AdminLoginPageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "dac-card", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "app-admin-login");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("icon", "lock")("title", "Login");
    } }, directives: [_shared_card_card_component__WEBPACK_IMPORTED_MODULE_1__["CardComponent"], _login_admin_login_admin_login_component__WEBPACK_IMPORTED_MODULE_2__["AdminLoginComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RoZW1lL2FkbWluLWxvZ2luLXBhZ2UvYWRtaW4tbG9naW4tcGFnZS5jb21wb25lbnQuY3NzIn0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminLoginPageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-admin-login-page',
                templateUrl: './admin-login-page.component.html',
                styleUrls: ['./admin-login-page.component.css']
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "ijKF":
/*!*************************************************************!*\
  !*** ./src/app/reports/services/question-action.service.ts ***!
  \*************************************************************/
/*! exports provided: QuestionActionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuestionActionService", function() { return QuestionActionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/sso-cross-domain-messenger */ "hkrp");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






class QuestionActionService {
    constructor(dacConfig, crossDomainMessenger) {
        this.dacConfig = dacConfig;
        this.crossDomainMessenger = crossDomainMessenger;
    }
    handleAction(action) {
        if (action.action == 'redirect' && action.data && action.data.url) {
            this.crossDomainMessenger.sendMessage('dac.redirect', { url: action.data.url });
        }
    }
}
QuestionActionService.ɵfac = function QuestionActionService_Factory(t) { return new (t || QuestionActionService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_2__["SsoCrossDomainMessenger"])); };
QuestionActionService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: QuestionActionService, factory: QuestionActionService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QuestionActionService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_1__["DacConfig"] }, { type: app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_2__["SsoCrossDomainMessenger"] }]; }, null); })();


/***/ }),

/***/ "iwQx":
/*!*********************************************************!*\
  !*** ./src/app/assessment-charts/models/chart-color.ts ***!
  \*********************************************************/
/*! exports provided: ChartColor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChartColor", function() { return ChartColor; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class ChartColor {
    constructor(name, color) {
        this.name = name;
        this.color = color;
    }
}


/***/ }),

/***/ "j8yT":
/*!*****************************************************!*\
  !*** ./src/app/shared/models/checklist-question.ts ***!
  \*****************************************************/
/*! exports provided: ChecklistQuestion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChecklistQuestion", function() { return ChecklistQuestion; });
/* harmony import */ var _question_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./question-type */ "F+TI");
/* harmony import */ var app_shared_models_list_question__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/models/list-question */ "Kt/y");


class ChecklistQuestion extends app_shared_models_list_question__WEBPACK_IMPORTED_MODULE_1__["ListQuestion"] {
    constructor() {
        super();
        this._answers = {};
        this.type = _question_type__WEBPACK_IMPORTED_MODULE_0__["QuestionType"].Checklist;
    }
    addAnswer(label) {
        this._answers[label.id] = label;
    }
    removeAnswer(label) {
        if (this._answers.hasOwnProperty(label.id)) {
            delete this._answers[label.id];
        }
    }
    get answerDisplayText() {
        let description = this.getAnswerLabels()
            .reduce((prev, curr) => prev + curr.label + " ", "");
        return description;
    }
    hasAnswer(label) {
        return this._answers[label.id];
    }
    get isFilledOut() {
        // we let nothing be an option as well.
        // TODO: stephen we may at some point require at least one option to be checked...
        return true;
    }
    get answerForSave() {
        return Object.assign({}, this._answers); // just copy them over onto a new object
    }
    setSavedAnswer(answer, labels) {
        Object.keys(answer).forEach(key => {
            let label = labels.find(l => l.id == key);
            if (label) {
                this.addAnswer(label);
            }
        });
    }
    getAnswerLabels() {
        return Object.keys(this._answers)
            .filter(a => this._answers[a].label)
            .map(a => this._answers[a]);
    }
}


/***/ }),

/***/ "jU8f":
/*!**************************************!*\
  !*** ./src/app/admin/models/item.ts ***!
  \**************************************/
/*! exports provided: Item */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Item", function() { return Item; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class Item {
    constructor() {
        this.price = 0;
        this.name = "";
        this.quantity = 0;
        this.subItems = [];
    }
    get id() {
        return this._id;
    }
    set id(v) {
        this._id = v;
    }
    get totalPrice() {
        let totalPrice = +(this.price * this.quantity).toFixed(2);
        return totalPrice;
    }
    get price() {
        return this._price;
    }
    set price(v) {
        if (v < 0) {
            throw new Error("Price cannot be set to less than 0");
        }
        this._price = v;
    }
    get name() {
        return this._name;
    }
    set name(v) {
        this._name = v;
    }
    get quantity() {
        return this._quantity;
    }
    set quantity(v) {
        let vChecked = +v;
        if (isNaN(v)) {
            throw new Error("Quantity must be a valid number");
        }
        if (v < 0) {
            throw new Error("Quantity cannot be set to less than 0");
        }
        this._quantity = vChecked;
    }
    get subItems() {
        return this._subItems;
    }
    set subItems(v) {
        if (v == null) {
            throw new Error("subItems cannot be null");
        }
        this._subItems = v;
    }
    get assessment_uid() {
        return this._assessment_uid;
    }
    set assessment_uid(value) {
        this._assessment_uid = value;
    }
}


/***/ }),

/***/ "jyk5":
/*!************************************************!*\
  !*** ./src/app/shared/services/pdf.service.ts ***!
  \************************************************/
/*! exports provided: PdfService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfService", function() { return PdfService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




class PdfService {
    constructor(http) {
        this.http = http;
    }
    getPDFUrl(filePrintId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let addToken = true;
            return yield this.http.generateUrl("/pdf/download/" + filePrintId, addToken);
        });
    }
    generate(url, assignment) {
        let window = document.defaultView || null;
        if (!window) {
            return Promise.reject("Window missing from document.  Cannot proceed");
        }
        let data = {
            pageToGenerate: url
        };
        // TODO: stephen our single assessment result viewer is not being connected with any reports
        // that seems like a problem to me...
        if (assignment) {
            data.assignmentId = assignment.Id;
            data.type = assignment.Type;
        }
        ;
        return this.http.post("/pdf/", data).then((response) => {
            if (response.fileId) {
                return response.fileId;
            }
            else {
                throw new Error("Failed to receive file print id");
            }
        });
    }
}
PdfService.ɵfac = function PdfService_Factory(t) { return new (t || PdfService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"])); };
PdfService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({ token: PdfService, factory: PdfService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](PdfService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"] }]; }, null); })();


/***/ }),

/***/ "k1ga":
/*!*****************************************************!*\
  !*** ./src/app/shared/models/AssignedAssessment.ts ***!
  \*****************************************************/
/*! exports provided: AssignedAssessment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignedAssessment", function() { return AssignedAssessment; });
/* harmony import */ var _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AssignmentItem */ "z8B+");

class AssignedAssessment extends _AssignmentItem__WEBPACK_IMPORTED_MODULE_0__["AssignmentItem"] {
    constructor() {
        super();
        this.uid = "";
        this.Type = "Assessment";
    }
    get AssessmentUuid() {
        return this.assessmentUuid;
    }
    set AssessmentUuid(v) {
        this.assessmentUuid = v;
    }
    get AssessmentId() {
        return this.assessmentId;
    }
    set AssessmentId(v) {
        this.assessmentId = v;
    }
    get Uid() {
        return this.uid;
    }
    set Uid(v) {
        this.uid = v;
    }
}


/***/ }),

/***/ "k5x5":
/*!****************************************************!*\
  !*** ./src/app/navigation/navigation.component.ts ***!
  \****************************************************/
/*! exports provided: NavigationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavigationComponent", function() { return NavigationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/layout */ "0MNC");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/sidenav */ "XhcP");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/toolbar */ "/t3+");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/list */ "MutI");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/button */ "bTqV");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/icon */ "NFeN");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */











function NavigationComponent_button_17_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function NavigationComponent_button_17_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2); return _r0.toggle(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-icon", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "menu");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
class NavigationComponent {
    constructor(breakpointObserver) {
        this.breakpointObserver = breakpointObserver;
        this.isHandset$ = this.breakpointObserver.observe(_angular_cdk_layout__WEBPACK_IMPORTED_MODULE_1__["Breakpoints"].Handset)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(result => result.matches), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["shareReplay"])());
    }
}
NavigationComponent.ɵfac = function NavigationComponent_Factory(t) { return new (t || NavigationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_cdk_layout__WEBPACK_IMPORTED_MODULE_1__["BreakpointObserver"])); };
NavigationComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: NavigationComponent, selectors: [["navigation"]], decls: 21, vars: 12, consts: [[1, "sidenav-container"], ["fixedInViewport", "", 1, "sidenav", 3, "mode", "opened"], ["drawer", ""], ["mat-list-item", "", "href", "#"], ["color", "primary"], ["type", "button", "aria-label", "Toggle sidenav", "mat-icon-button", "", 3, "click", 4, "ngIf"], ["type", "button", "aria-label", "Toggle sidenav", "mat-icon-button", "", 3, "click"], ["aria-label", "Side nav toggle icon"]], template: function NavigationComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "mat-sidenav-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "mat-sidenav", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "mat-toolbar");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Menu");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "mat-nav-list");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "a", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "Link 1");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "a", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, "Link 2");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "a", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14, "Link 3");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "mat-sidenav-content");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "mat-toolbar", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, NavigationComponent_button_17_Template, 3, 0, "button", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](18, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20, "assessments-angular");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("mode", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 6, ctx.isHandset$) ? "over" : "side")("opened", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 8, ctx.isHandset$) === false);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("role", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, ctx.isHandset$) ? "dialog" : "navigation");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](18, 10, ctx.isHandset$));
    } }, directives: [_angular_material_sidenav__WEBPACK_IMPORTED_MODULE_3__["MatSidenavContainer"], _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_3__["MatSidenav"], _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_4__["MatToolbar"], _angular_material_list__WEBPACK_IMPORTED_MODULE_5__["MatNavList"], _angular_material_list__WEBPACK_IMPORTED_MODULE_5__["MatListItem"], _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_3__["MatSidenavContent"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _angular_material_button__WEBPACK_IMPORTED_MODULE_7__["MatButton"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_8__["MatIcon"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["AsyncPipe"]], styles: [".sidenav-container[_ngcontent-%COMP%] {\n  height: 100%;\n}\n\n.sidenav[_ngcontent-%COMP%] {\n  width: 200px;\n}\n\n.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%] {\n  background: inherit;\n}\n\n.mat-toolbar.mat-primary[_ngcontent-%COMP%] {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmF2aWdhdGlvbi9uYXZpZ2F0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSx3QkFBZ0I7RUFBaEIsZ0JBQWdCO0VBQ2hCLE1BQU07RUFDTixVQUFVO0FBQ1oiLCJmaWxlIjoic3JjL2FwcC9uYXZpZ2F0aW9uL25hdmlnYXRpb24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zaWRlbmF2LWNvbnRhaW5lciB7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnNpZGVuYXYge1xuICB3aWR0aDogMjAwcHg7XG59XG5cbi5zaWRlbmF2IC5tYXQtdG9vbGJhciB7XG4gIGJhY2tncm91bmQ6IGluaGVyaXQ7XG59XG5cbi5tYXQtdG9vbGJhci5tYXQtcHJpbWFyeSB7XG4gIHBvc2l0aW9uOiBzdGlja3k7XG4gIHRvcDogMDtcbiAgei1pbmRleDogMTtcbn1cbiJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NavigationComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'navigation',
                templateUrl: './navigation.component.html',
                styleUrls: ['./navigation.component.css']
            }]
    }], function () { return [{ type: _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_1__["BreakpointObserver"] }]; }, null); })();


/***/ }),

/***/ "kmKP":
/*!*************************************************!*\
  !*** ./src/app/shared/services/user.service.ts ***!
  \*************************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/user */ "NlNA");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "Tdnt");
/* harmony import */ var _pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pagination-results-loader-factory.service */ "9qJt");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







class UserService {
    constructor(dac$http, _paginationFactory) {
        //  let admin = new User();
        // admin.username = "admin";
        // admin.id = 1;
        // admin.role = Role.Admin;
        this.dac$http = dac$http;
        this._paginationFactory = _paginationFactory;
        // let user = new User();
        // user.username = "snielson";
        // user.id = 2;
        // let user2 = new User();
        // user2.username = "kskinner";
        // user2.id = 3;
        // this.users = [admin, user, user2];
    }
    getUserById(id) {
        return this.dac$http.get("assessment-users/" + id).then((response) => {
            let user = this.mapUser(response);
            return user;
        });
    }
    getUsers(offset) {
        // TODO: @adunsulag need to support more than 50 users
        var data = {
            _offset: offset || 0,
            _limit: 50
        };
        return this.dac$http.get("assessment-users/", data).then((data) => {
            if (data && data.results.length) {
                return data.results.map(u => this.mapUser(u));
            }
        });
    }
    createUser(userToCreate) {
        return this.dac$http.post("assessment-users/", userToCreate).then((response) => {
            return this.mapUser(response);
        });
    }
    saveUser(user) {
        return this.dac$http.post("assessment-users/" + user.id + ".json", user).then((response) => {
            return user;
        });
    }
    getUser(id) {
        return this.getUsers().then((users) => {
            let user = users.find(user => user.id == id);
            let newUser = new _models_user__WEBPACK_IMPORTED_MODULE_1__["User"]();
            let copied = Object.assign(newUser, user);
            return copied;
        });
    }
    getUserByStringId(id) {
        return this.getUsers().then((users) => {
            let user = users.find(user => (user.id + "") == id);
            if (!user) {
                throw new Error("Failed to find user with id " + id);
            }
            let newUser = new _models_user__WEBPACK_IMPORTED_MODULE_1__["User"]();
            let copied = Object.assign(newUser, user);
            return copied;
        });
    }
    isDuplicateUsername(username) {
        // need to make sure we handle special characters
        return this.dac$http.post("users/check-username", { _username: username })
            .then((response) => {
            if (response) {
                return true;
            }
        }).catch((error) => {
            if (error.status === 404) {
                return false;
            }
            throw error;
        });
    }
    restoreUser(userToRestore) {
        let user = new _models_user__WEBPACK_IMPORTED_MODULE_1__["User"]();
        Object.assign(user, userToRestore);
        user.enabled = true;
        return this.saveUser(user).then(savedUser => {
            userToRestore.enabled = true;
            return userToRestore;
        });
    }
    archiveUser(userToArchive) {
        let user = new _models_user__WEBPACK_IMPORTED_MODULE_1__["User"]();
        Object.assign(user, userToArchive);
        user.enabled = false;
        return this.saveUser(user).then(savedUser => {
            userToArchive.enabled = false;
            return userToArchive;
        });
    }
    // we removed the API endpoint to delete users
    // TODO: stephen if we ever enable user deletion again add this back in.
    // deleteUser(userToDelete:User, userToReassignTo:User) {
    //     return this.dac$http.delete("users/" + userToDelete.id + ".json", {reassignUserId: userToReassignTo.id});
    // }
    mapUser(u) {
        let user = new _models_user__WEBPACK_IMPORTED_MODULE_1__["User"]();
        Object.assign(user, u);
        return user;
    }
}
UserService.ɵfac = function UserService_Factory(t) { return new (t || UserService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_3__["PaginatedResultsLoaderFactory"])); };
UserService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UserService, factory: UserService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"] }, { type: _pagination_results_loader_factory_service__WEBPACK_IMPORTED_MODULE_3__["PaginatedResultsLoaderFactory"] }]; }, null); })();


/***/ }),

/***/ "kp5b":
/*!******************************************************************!*\
  !*** ./src/app/theme/site-container/site-container.component.ts ***!
  \******************************************************************/
/*! exports provided: SiteContainerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SiteContainerComponent", function() { return SiteContainerComponent; });
/* harmony import */ var _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/cdk/layout */ "0MNC");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/sidenav */ "XhcP");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/login/services/auth.service */ "6Hrc");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "kU1M");
/* harmony import */ var _services_nav_bar_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../services/nav-bar.service */ "z37e");
/* harmony import */ var _services_theme_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/theme.service */ "qedY");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/toolbar */ "/t3+");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/list */ "MutI");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/expansion */ "7EHt");
/* harmony import */ var _footer_footer_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../footer/footer.component */ "NYhC");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






















const _c0 = ["drawer"];
function SiteContainerComponent_mat_expansion_panel_12_mat_nav_list_5_a_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "a", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "i", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const child_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("routerLinkActive", "active")("routerLink", child_r7.routerLink);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", child_r7.name, " ");
} }
function SiteContainerComponent_mat_expansion_panel_12_mat_nav_list_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-nav-list");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, SiteContainerComponent_mat_expansion_panel_12_mat_nav_list_5_a_1_Template, 3, 3, "a", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const navItem_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", navItem_r4.children);
} }
function SiteContainerComponent_mat_expansion_panel_12_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-expansion-panel", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "mat-expansion-panel-header", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function SiteContainerComponent_mat_expansion_panel_12_Template_mat_expansion_panel_header_click_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r10); const navItem_r4 = ctx.$implicit; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r9.handleItemClick(navItem_r4, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "mat-panel-title");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "i", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, SiteContainerComponent_mat_expansion_panel_12_mat_nav_list_5_Template, 2, 1, "mat-nav-list", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const navItem_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("hideToggle", !navItem_r4.hasChildren);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("routerLinkActive", "active")("routerLink", navItem_r4.routerLink);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", navItem_r4.name, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", navItem_r4.children);
} }
const _c1 = function (a0) { return { "d-none": a0 }; };
function SiteContainerComponent_a_23_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "a", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function SiteContainerComponent_a_23_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r13); const navItem_r11 = ctx.$implicit; const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r12.handleItemClick(navItem_r11, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](1, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} if (rf & 2) {
    const navItem_r11 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](5, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](1, 3, ctx_r2.isSmall$)))("routerLink", navItem_r11.routerLink);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", navItem_r11.name, "");
} }
function SiteContainerComponent_button_24_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function SiteContainerComponent_button_24_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r15); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](); return ctx_r14.toggleSideNav(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "i", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
} }
const _c2 = function (a0, a1) { return { "sidenav-opened": a0, "sticky-container-fix": a1 }; };
const _c3 = function () { return ["/"]; };
const _c4 = function (a0) { return { "main-fluid": a0 }; };
const _c5 = ["*"];
class SiteContainerComponent {
    constructor(breakpointObserver, dacConfig, navService, authService, router, themeService) {
        this.breakpointObserver = breakpointObserver;
        this.dacConfig = dacConfig;
        this.navService = navService;
        this.authService = authService;
        this.router = router;
        this.themeService = themeService;
        // if we want a single navigation add the following
        // to the css .hidden { display: none }
        // and [ngClass]="{'hidden': !(isHandset$ | async)}"
        // to mat-sidenav
        this.isSmall$ = this.breakpointObserver.observe('(max-width: 767px)')
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["map"])(result => result.matches), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["shareReplay"])());
        this.showSideNav = false;
        this._navItems = [];
        // TODO: stephen do we need this anymore?
        this._loginStateSubscription = this.authService.getLoginState().subscribe(state => {
            let items = this.navService.topNavBarItemsForDisplay;
            if (items && items.length) {
                this._navItems = items;
            }
            else {
                this._navItems = [];
            }
        });
        this.skipContentPadding = false;
        this._sidebarSubscription = this.navService.displaySideBarEvent.subscribe(() => {
            this.showSideNav = !this.showSideNav;
        });
    }
    ngOnInit() {
        if (this.dacConfig.seamlessMode) {
            this.showSideNav = false;
        }
    }
    ngOnDestroy() {
        if (this._loginStateSubscription) {
            this._loginStateSubscription.unsubscribe();
            this._loginStateSubscription = null;
        }
        if (this._sidebarSubscription) {
            this._sidebarSubscription.unsubscribe();
        }
    }
    get ShowSideNav() {
        return this.showSideNav;
    }
    get isMainContentFluid() {
        return this.themeService.isMainContentFluid();
    }
    get ContainerClasses() {
        return {
            "p-0": this.skipContentPadding
        };
    }
    get logoUrl() {
        return this.dacConfig.applicationLogoUrl;
    }
    get logoTitle() {
        return this.dacConfig.applicationLogoTitle;
    }
    get sidebarNavItems() {
        return this.navService.navItemsForDisplay;
    }
    get topNavItems() {
        return this._navItems;
    }
    get isStickyFixEnabled() {
        return this.themeService.isStickyFixContainerEnabled();
    }
    toggleSideNav() {
        // this.navService.toggleSidebar();
        this.drawer.toggle();
    }
    handleItemClick(navBarItem, event) {
        this.navService.handleMenuItemClick(navBarItem, event);
    }
    logout() {
        this.authService.logout().then((resp) => {
            if (resp.redirectUrl) {
                window.location.href = resp.redirectUrl;
            }
            else {
                this.router.navigate(['/']);
            }
        })
            .catch((error) => {
            console.error(error);
            this.router.navigate(["/"]);
        });
    }
}
SiteContainerComponent.ɵfac = function SiteContainerComponent_Factory(t) { return new (t || SiteContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_cdk_layout__WEBPACK_IMPORTED_MODULE_0__["BreakpointObserver"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_nav_bar_service__WEBPACK_IMPORTED_MODULE_7__["NavBarService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_theme_service__WEBPACK_IMPORTED_MODULE_8__["ThemeService"])); };
SiteContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({ type: SiteContainerComponent, selectors: [["dac-site-container"]], viewQuery: function SiteContainerComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵloadQuery"]()) && (ctx.drawer = _t.first);
    } }, inputs: { skipContentPadding: "skipContentPadding", showSideNav: "showSideNav" }, ngContentSelectors: _c5, decls: 31, vars: 39, consts: [[1, "sidenav-container", 3, "ngClass"], ["fixedInViewport", "", 1, "sidenav", "primary-color", "shadow-lg", "border-bottom", 3, "mode", "opened"], ["drawer", ""], [1, "shadow"], [1, "logo-wrapper", "waves-light", "text-center"], ["href", "#", 1, "h-100"], [1, "p-0", 3, "src", "alt"], [1, "app-nav-accordion"], ["class", "mat-elevation-z0", 3, "hideToggle", 4, "ngFor", "ngForOf"], [1, "sidenav-content"], [1, "row", "fixed-top", "dac-navbar-container"], ["color", "primary", "id", "dac-navbar", 1, "navbar", "mb-2", "col", "shadow"], [1, "navbar-brand", "mr-0", "ml-3", 3, "routerLink", "ngClass"], [1, "example-spacer"], [1, "nav-link", "waves-light", 3, "routerLink", "ngClass"], ["class", "nav-link waves-light", 3, "ngClass", "routerLink", "click", 4, "ngFor", "ngForOf"], ["type", "button", "aria-label", "Toggle sidenav", "class", "navbar-toggler", "mat-icon-button", "", 3, "click", 4, "ngIf"], [1, "row", "flex-grow-1", "pt-5", "no-gutters", "bg-white", "main-content", 3, "ngClass"], [1, "col"], [1, "row", "no-gutters", "footer-container"], [1, "mat-elevation-z0", 3, "hideToggle"], [3, "routerLinkActive", "routerLink", "click"], [1, "fa", "fa-hand-pointer-o"], [4, "ngIf"], ["mat-list-item", "", 3, "routerLinkActive", "routerLink", 4, "ngFor", "ngForOf"], ["mat-list-item", "", 3, "routerLinkActive", "routerLink"], [1, "nav-link", "waves-light", 3, "ngClass", "routerLink", "click"], ["type", "button", "aria-label", "Toggle sidenav", "mat-icon-button", "", 1, "navbar-toggler", 3, "click"], ["aria-label", "Side nav toggle icon", 1, "fa", "fa-bars"]], template: function SiteContainerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mat-sidenav-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "mat-sidenav", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "mat-toolbar", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "a", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](9, "img", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "mat-nav-list");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](11, "mat-accordion", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](12, SiteContainerComponent_mat_expansion_panel_12_Template, 6, 5, "mat-expansion-panel", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "mat-sidenav-content", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "mat-toolbar", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "a", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](17, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](18, "img", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](19, "span", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "a", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](21, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](22, "Home");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](23, SiteContainerComponent_a_23_Template, 3, 7, "a", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](24, SiteContainerComponent_button_24_Template, 2, 0, "button", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](25, "async");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "main", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](27, "div", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](28);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](29, "div", 19);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](30, "dac-footer", 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](28, _c2, _r0.opened, ctx.isStickyFixEnabled));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("mode", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 18, ctx.isSmall$) ? "over" : "side")("opened", ctx.ShowSideNav && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 20, ctx.isSmall$) === false);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵattribute"]("role", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](3, 16, ctx.isSmall$) ? "dialog" : "navigation");
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("src", ctx.logoUrl, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("alt", ctx.logoTitle);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.sidebarNavItems);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction0"](31, _c3))("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](32, _c1, ctx.ShowSideNav && !_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](17, 22, ctx.isSmall$)));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("src", ctx.logoUrl, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpropertyInterpolate"]("alt", ctx.logoTitle);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction0"](34, _c3))("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](35, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](21, 24, ctx.isSmall$)));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx.topNavItems);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](25, 26, ctx.isSmall$));
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](37, _c4, ctx.isMainContentFluid));
    } }, directives: [_angular_material_sidenav__WEBPACK_IMPORTED_MODULE_2__["MatSidenavContainer"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgClass"], _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_2__["MatSidenav"], _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_10__["MatToolbar"], _angular_material_list__WEBPACK_IMPORTED_MODULE_11__["MatNavList"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__["MatAccordion"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgForOf"], _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_2__["MatSidenavContent"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterLinkWithHref"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _footer_footer_component__WEBPACK_IMPORTED_MODULE_13__["FooterComponent"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__["MatExpansionPanel"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__["MatExpansionPanelHeader"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterLinkActive"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterLink"], _angular_material_expansion__WEBPACK_IMPORTED_MODULE_12__["MatExpansionPanelTitle"], _angular_material_list__WEBPACK_IMPORTED_MODULE_11__["MatListItem"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_9__["AsyncPipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SiteContainerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"],
        args: [{
                selector: 'dac-site-container',
                templateUrl: './site-container.component.html',
                styleUrls: []
            }]
    }], function () { return [{ type: _angular_cdk_layout__WEBPACK_IMPORTED_MODULE_0__["BreakpointObserver"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__["DacConfig"] }, { type: _services_nav_bar_service__WEBPACK_IMPORTED_MODULE_7__["NavBarService"] }, { type: app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }, { type: _services_theme_service__WEBPACK_IMPORTED_MODULE_8__["ThemeService"] }]; }, { skipContentPadding: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], showSideNav: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"]
        }], drawer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"],
            args: ["drawer"]
        }] }); })();


/***/ }),

/***/ "lJ2u":
/*!***********************************************!*\
  !*** ./src/app/login/models/ChallengeName.ts ***!
  \***********************************************/
/*! exports provided: ChallengeName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChallengeName", function() { return ChallengeName; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
var ChallengeName;
(function (ChallengeName) {
    ChallengeName["SMS_MFA"] = "SMS_MFA";
    ChallengeName["SOFTWARE_TOKEN_MFA"] = "SOFTWARE_TOKEN_MFA";
    ChallengeName["NEW_PASSWORD_REQUIRED"] = "NEW_PASSWORD_REQUIRED";
    ChallengeName["CUSTOM_CHALLENGE"] = "CUSTOM_CHALLENGE";
})(ChallengeName || (ChallengeName = {}));


/***/ }),

/***/ "lbjL":
/*!***************************************************************!*\
  !*** ./src/app/shared/search-input/search-input.component.ts ***!
  \***************************************************************/
/*! exports provided: SearchInputComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchInputComponent", function() { return SearchInputComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class SearchInputComponent {
    constructor() {
        this.search = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.reset = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() {
        if (this.initialSearch) {
            this._searchString = this.initialSearch;
        }
    }
    get searchPhrase() {
        return this._searchString;
    }
    set searchPhrase(v) {
        this._searchString = v;
    }
    enterKeySearch(event) {
        // enter key is 13
        if (event.charCode === 13) {
            this.doSearch();
        }
    }
    doSearch() {
        this.search.emit(this._searchString);
    }
    resetSearch() {
        this._searchString = "";
        this.reset.emit();
    }
}
SearchInputComponent.ɵfac = function SearchInputComponent_Factory(t) { return new (t || SearchInputComponent)(); };
SearchInputComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SearchInputComponent, selectors: [["search-input"]], inputs: { initialSearch: "initialSearch" }, outputs: { search: "search", reset: "reset" }, decls: 8, vars: 1, consts: [[1, "search"], [1, "input-group"], ["type", "text", "placeholder", "Search for...", 1, "form-control", 3, "ngModel", "ngModelChange", "keypress"], [1, "input-group-btn"], ["type", "button", 1, "btn", "btn-primary", 3, "click"], ["type", "button", 1, "btn", "btn-secondary", 3, "click"], ["aria-hidden", "true", "aria-label", "Reset", 1, "fa", "fa-refresh"]], template: function SearchInputComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function SearchInputComponent_Template_input_ngModelChange_2_listener($event) { return ctx.searchPhrase = $event; })("keypress", function SearchInputComponent_Template_input_keypress_2_listener($event) { return ctx.enterKeySearch($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchInputComponent_Template_button_click_4_listener() { return ctx.doSearch(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Go!");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "button", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchInputComponent_Template_button_click_6_listener() { return ctx.resetSearch(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "i", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx.searchPhrase);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgModel"]], styles: ["[_nghost-%COMP%] {\n    display: block;\n}\n[_nghost-%COMP%]   .search[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n    margin: 0px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL3NlYXJjaC1pbnB1dC9zZWFyY2gtaW5wdXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7QUFDbEI7QUFDQTtJQUNJLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9zZWFyY2gtaW5wdXQvc2VhcmNoLWlucHV0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG59XG46aG9zdCAuc2VhcmNoIC5pbnB1dC1ncm91cC1idG4gYnV0dG9uIHtcbiAgICBtYXJnaW46IDBweDtcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SearchInputComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'search-input',
                templateUrl: './search-input.component.html',
                styleUrls: ['./search-input.component.css']
            }]
    }], function () { return []; }, { initialSearch: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], search: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], reset: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "lrDS":
/*!*************************************************!*\
  !*** ./src/app/shared/services/task-service.ts ***!
  \*************************************************/
/*! exports provided: TaskService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TaskService", function() { return TaskService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _fhir_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fhir-service */ "y+jN");
/* harmony import */ var _assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assignment-hydrator.service */ "HY3C");
/* harmony import */ var _models_ExternalAssignedQuestionnaire__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/ExternalAssignedQuestionnaire */ "2SeV");
/* harmony import */ var _models_AssignmentSingle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/AssignmentSingle */ "RoZp");









/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class TaskService {
    constructor(fhirService, assignmentHydrator) {
        this.fhirService = fhirService;
        this.assignmentHydrator = assignmentHydrator;
    }
    getTasksForClient(clientId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            let tasks = yield client.request("Task?patient=Patient/" + clientId, { flat: true });
            return tasks;
        });
    }
    getAssignmentTasksForClient(clientId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            let tasks = yield this.getTasksForClient(clientId);
            // we skip over sub tasks for now.
            let filteredTasks = tasks.filter(t => t.input && t.input.length && !t.partOf);
            let assignments = [];
            let assignmentByReference = {};
            let unmatchedTasks = [];
            filteredTasks.forEach(t => {
                t.input.forEach(i => {
                    if (i.type.coding && i.type.coding[0].code) {
                        // TODO: @adunsulag verify we are working with a code we know
                        if (i.type.coding[0].code == 'questionnaire') {
                            // sdc questionnaire type
                            if (i.valueCanonical) {
                                let assignmentItem = new _models_ExternalAssignedQuestionnaire__WEBPACK_IMPORTED_MODULE_4__["ExternalAssignedQuestionnaire"]();
                                assignmentItem.Id = parseInt(t.id); // for now we have this as an id, but we'll need to switch it to a uuid
                                assignmentItem.QuestionnaireReference = i.valueCanonical;
                                assignmentItem.Name = t.description || "";
                                if (t.status == 'completed' && t.meta && t.meta.lastUpdated) {
                                    assignmentItem.DateCompleted = new Date(t.meta.lastUpdated);
                                }
                                if (t.output && t.output.length) {
                                    if (t.output[0].type && t.output[0].type.coding && t.output[0].type.coding[0].code == 'questionnaire-response'
                                        && t.output[0].valueReference) {
                                        assignmentItem.QuestionnaireResponseReference = t.output[0].valueReference.reference || "";
                                        // grab the result id from the reference
                                        assignmentItem.ResultId = assignmentItem.QuestionnaireResponseReference.split("/").pop();
                                    }
                                    else {
                                        console.error("Task with id " + t.id + " for questionnaire had output that did not have a valid questionnaire-response format");
                                    }
                                }
                                assignmentItem.Task = t;
                                let assignment = new _models_AssignmentSingle__WEBPACK_IMPORTED_MODULE_5__["AssignmentSingle"]();
                                if (t.authoredOn) {
                                    assignment.DateAssigned = new Date(t.authoredOn);
                                }
                                else {
                                    assignment.DateAssigned = new Date();
                                }
                                assignment.DateCompleted = assignmentItem.DateCompleted || null;
                                assignment.Items = [assignmentItem];
                                assignment.Name = assignmentItem.Name;
                                assignment.ResultId = assignmentItem.ResultId || null;
                                assignment.Type = "ExternalQuestionnaire";
                                assignments.push(assignment);
                            } // we don't know how to handle any non-sdc input
                            else {
                                // see https://build.fhir.org/ig/HL7/sdc/StructureDefinition-sdc-task.html
                                console.log("Task " + t.id + " did not conform to SDC format for questionnaire for input:questionnaire.value[x]");
                            }
                            //
                        }
                        else if (['Questionnaire', 'Assessment', 'AssessmentGroup', 'LibraryAsset', 'TemplateProfile'].indexOf(i.type.coding[0].code) !== -1) {
                            let json = i.valueString;
                            try {
                                let record = JSON.parse(json);
                                let assignment = this.assignmentHydrator.hydrateAssignment(record);
                                assignments.push(assignment);
                            }
                            catch (error) {
                                console.error("Failed to parse task assignment for task " + t.id, error);
                            }
                        }
                    }
                });
            });
            return assignments;
        });
    }
    updateTaskWithQuestionnaireResponse(task, questionnaireResponse) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            // if (task.input[0].responseEndpoint) {
            //   // we need to go through and submit to each of the
            // }
            task.output = [
                {
                    type: {
                        coding: [
                            {
                                system: "http://hl7.org/fhir/uv/sdc/CodeSystem/temp",
                                code: "questionnaire-response"
                            }
                        ]
                    },
                    valueReference: {
                        reference: "QuestionnaireResponse/" + questionnaireResponse.id
                    }
                }
            ];
            task.status = "completed";
            return Promise.resolve(task);
            // let client = await this.fhirService.getFhirClient();
            // /** @ts-ignore */
            // return client.update<Task>(task);
        });
    }
}
TaskService.ɵfac = function TaskService_Factory(t) { return new (t || TaskService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_3__["AssignmentHydratorService"])); };
TaskService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: TaskService, factory: TaskService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](TaskService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _fhir_service__WEBPACK_IMPORTED_MODULE_2__["FhirService"] }, { type: _assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_3__["AssignmentHydratorService"] }]; }, null); })();


/***/ }),

/***/ "m+jd":
/*!*************************************************!*\
  !*** ./src/app/shared/toast/toast-animation.ts ***!
  \*************************************************/
/*! exports provided: toastAnimations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toastAnimations", function() { return toastAnimations; });
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/animations */ "R0Ic");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

const toastAnimations = {
    fadeToast: Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["trigger"])('fadeAnimation', [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["state"])('default', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["style"])({ opacity: 1 })),
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('void => *', [Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["style"])({ opacity: 0 }), Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["animate"])('{{ fadeIn }}ms')]),
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["transition"])('default => closing', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["animate"])('{{ fadeOut }}ms', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_0__["style"])({ opacity: 0 }))),
    ]),
};


/***/ }),

/***/ "mSVE":
/*!*************************************************************!*\
  !*** ./src/app/shared/services/assessment-group.service.ts ***!
  \*************************************************************/
/*! exports provided: AssessmentGroupService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentGroupService", function() { return AssessmentGroupService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_services_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/services/http.service */ "Tdnt");
/* harmony import */ var _shared_models_assessment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/models/assessment */ "WWiz");
/* harmony import */ var _shared_models_assessment_group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/models/assessment-group */ "b7og");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






class AssessmentGroupService {
    constructor(http) {
        this.http = http;
    }
    createNewGroup(name) {
        return this.http.post("assessment-groups", { name: name }).then((json) => {
            let group = new _shared_models_assessment_group__WEBPACK_IMPORTED_MODULE_3__["AssessmentGroup"]();
            Object.assign(group, json);
            return group;
        });
    }
    updateAssessmentsForGroup(group) {
        return this.http.post("assessment-groups/" + group.Id + "/assessments/$update", {})
            .then((json) => {
            let group = new _shared_models_assessment_group__WEBPACK_IMPORTED_MODULE_3__["AssessmentGroup"]();
            Object.assign(group, json);
            return group;
        });
    }
    /**
     * Persists the assessment in the group and returns the assessment with it's current id and version.
     * Since the assessments are versioned we add the UID of the assessment instead of its id which is why
     * we pass back the most current assessment as part of the add.
     */
    addAssessmentToGroup(group, assessment) {
        if (!(assessment.uid && group.Id)) {
            return new Promise((resolve, reject) => {
                reject("assessment uid or group id was null, cannot add");
            });
        }
        let data = {
            uid: assessment.uid
        };
        return this.http.post("assessment-groups/" + group.Id + "/assessments", data).then((result) => {
            let newAssessment = new _shared_models_assessment__WEBPACK_IMPORTED_MODULE_2__["Assessment"]();
            Object.assign(newAssessment, assessment);
            newAssessment.version = 1;
            newAssessment.id = "12345"; // TODO: stephen where does this come from?
            return newAssessment;
        });
    }
    /**
     * Retrieves the groups from the server.  If the showAllGroups flag is set it will return
     * all the groups across host sites and companies.
     * @param showAllGroups true
     */
    getAssessmentGroups(showAllGroups) {
        let data = {};
        if (showAllGroups == true) {
            data.showAllGroups = true;
        }
        return this.http.get("assessment-groups", data).then((json) => {
            let groups = [];
            json.forEach((r) => {
                let group = new _shared_models_assessment_group__WEBPACK_IMPORTED_MODULE_3__["AssessmentGroup"]();
                Object.assign(group, r);
                group.Assessments = [];
                r.assessments.forEach((a) => {
                    let assessment = new _shared_models_assessment__WEBPACK_IMPORTED_MODULE_2__["Assessment"]();
                    Object.assign(assessment, a);
                    group.Assessments.push(assessment);
                });
                groups.push(group);
            });
            return groups;
        });
    }
}
AssessmentGroupService.ɵfac = function AssessmentGroupService_Factory(t) { return new (t || AssessmentGroupService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_shared_services_http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"])); };
AssessmentGroupService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AssessmentGroupService, factory: AssessmentGroupService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssessmentGroupService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _shared_services_http_service__WEBPACK_IMPORTED_MODULE_1__["HTTPService"] }]; }, null); })();


/***/ }),

/***/ "mTMX":
/*!*************************************************************************************************!*\
  !*** ./src/app/reports/report-items/pcl-assessment-results/pcl-assessment-results.component.ts ***!
  \*************************************************************************************************/
/*! exports provided: PclAssessmentResultsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PclAssessmentResultsComponent", function() { return PclAssessmentResultsComponent; });
/* harmony import */ var _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/report-navigator.service */ "5IhB");
/* harmony import */ var _therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../therapist-scale-results/therapist-scale-results.component */ "YEXO");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_reports_services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/reports/services/pcl-grader.service */ "R9Rc");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _pcl_criteria_icon_pcl_criteria_icon_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../pcl-criteria-icon/pcl-criteria-icon.component */ "rl58");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */










function PclAssessmentResultsComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](3, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](6, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](7, "pcl-criteria-icon", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](9, "app-scale-questions-list", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
} if (rf & 2) {
    const criteria_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("id", ctx_r0.getScaleResultNavigatorId(criteria_r1.scaleResult));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate3"]("", criteria_r1.scaleResult.scale == null ? null : criteria_r1.scaleResult.scale.name, " (Scored ", criteria_r1.scaleResult.score, " out of ", criteria_r1.scaleResult.scale.getMaxScore(), ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("criteria", criteria_r1.name)("checked", criteria_r1.hasPTSD);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("Questions", ctx_r0.AssessmentResult.assessment.getQuestionsForScale(criteria_r1.scaleResult.scale));
} }
class PclAssessmentResultsComponent extends _therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_1__["TherapistScaleResultsComponent"] {
    constructor(navigator, el, pclGrader) {
        super(navigator, el);
        this.pclGrader = pclGrader;
    }
    ngOnInit() {
        super.ngOnInit();
        if (this.AssessmentResult) {
            this._criteria = this.pclGrader.getPCLCriteriaFromAssessmentResult(this.AssessmentResult);
        }
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    ngOnDestroy() {
        super.ngOnDestroy();
    }
    get Criteria() {
        return this._criteria;
    }
}
PclAssessmentResultsComponent.ɵfac = function PclAssessmentResultsComponent_Factory(t) { return new (t || PclAssessmentResultsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__["ReportNavigatorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](app_reports_services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_3__["PclGraderService"])); };
PclAssessmentResultsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({ type: PclAssessmentResultsComponent, selectors: [["app-pcl-assessment-results"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵInheritDefinitionFeature"]], decls: 6, vars: 2, consts: [[1, "card", "card-wider", "card-cascade"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], ["class", "row d-report-print-page", 3, "id", 4, "ngFor", "ngForOf"], [1, "row", "d-report-print-page", 3, "id"], [1, "card", "card-wider", "card-cascade", "mb-md-4", "md-0", "col"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "row", "justify-content-center"], [1, "col-3", "col-lg-2", 3, "criteria", "checked"], [1, "row"], [1, "col", 3, "Questions"]], template: function PclAssessmentResultsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](5, PclAssessmentResultsComponent_div_5_Template, 10, 7, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](ctx.Assessment == null ? null : ctx.Assessment.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", ctx.Criteria);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _pcl_criteria_icon_pcl_criteria_icon_component__WEBPACK_IMPORTED_MODULE_5__["PclCriteriaIconComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_6__["ScaleQuestionsListComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵsetClassMetadata"](PclAssessmentResultsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["Component"],
        args: [{
                selector: 'app-pcl-assessment-results',
                templateUrl: './pcl-assessment-results.component.html'
            }]
    }], function () { return [{ type: _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_0__["ReportNavigatorService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_2__["ElementRef"] }, { type: app_reports_services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_3__["PclGraderService"] }]; }, null); })();


/***/ }),

/***/ "mlUz":
/*!********************************************************!*\
  !*** ./src/app/login/has-permission/has-permission.ts ***!
  \********************************************************/
/*! exports provided: HasPermissionDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HasPermissionDirective", function() { return HasPermissionDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/login/services/auth.service */ "6Hrc");
/* harmony import */ var app_shared_models_role__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/models/role */ "Y5fV");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





class HasPermissionDirective {
    constructor(templateRef, viewContainer, authService) {
        this.templateRef = templateRef;
        this.viewContainer = viewContainer;
        this.authService = authService;
    }
    set hasPermission(role) {
        if (this._userSubscription) {
            this._userSubscription.unsubscribe();
        }
        this._userSubscription = this.authService.getLoginState().subscribe(loginState => {
            let user = loginState.user;
            this.viewContainer.clear();
            if (user && user.role <= app_shared_models_role__WEBPACK_IMPORTED_MODULE_2__["Role"][role]) {
                this.viewContainer.createEmbeddedView(this.templateRef);
            }
        });
    }
    ngOnDestroy() {
        if (this._userSubscription) {
            this._userSubscription.unsubscribe();
        }
    }
}
HasPermissionDirective.ɵfac = function HasPermissionDirective_Factory(t) { return new (t || HasPermissionDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"])); };
HasPermissionDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: HasPermissionDirective, selectors: [["", "hasPermission", ""]], inputs: { hasPermission: "hasPermission" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HasPermissionDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{ selector: '[hasPermission]' }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }, { type: app_login_services_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"] }]; }, { hasPermission: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "muz2":
/*!**********************************************************************!*\
  !*** ./src/app/assessment-charts/base-chart/base-chart.component.ts ***!
  \**********************************************************************/
/*! exports provided: BaseChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseChartComponent", function() { return BaseChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_assessment_charts_services_chart_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/assessment-charts/services/chart.service */ "04I9");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




class BaseChartComponent {
    constructor(chartElement, cs) {
        this.chartElement = chartElement;
        this.cs = cs;
    }
    ngAfterViewInit() {
        this.drawChart();
    }
    ngOnDestroy() {
        this.clearChartConversionTimeout();
        this.destroyChart();
        this.destroyChartImage();
    }
    getMaxYAxisTick() {
        return 100;
    }
    getChart() {
        return this.chart;
    }
    calculateStepSize(maxValue) {
        // TODO: stephen we override the system since we set a max value, but is there a better way?
        if (maxValue > 100) {
            return 25;
        }
        else if (maxValue > 50) {
            if (maxValue % 20 == 0) {
                return 20;
            }
            if (maxValue % 15 == 0) {
                return 15;
            }
            return 10;
        }
        else if (maxValue > 25) {
            if (maxValue % 9 == 0) {
                return 9;
            }
            else if (maxValue % 8 == 0) {
                return 8;
            }
            else if (maxValue % 7 == 0) {
                return 7;
            }
            else if (maxValue % 6 == 0) {
                return 6;
            }
            // by default just return 10 if we have to.
            return 5;
        }
        else if (maxValue > 10) {
            if (maxValue % 3 == 0) {
                return 3;
            }
            return 2;
        }
        else {
            return 1;
        }
    }
    setupChartConfiguration() {
        let maxY = this.getMaxYAxisTick();
        let stepSize = this.calculateStepSize(maxY);
        // let stepSize = maxY / 6 >
        let configOptions = {
            responsive: true,
            showDatapoints: true,
            dataPointFontSize: 18,
            maintainAspectRatio: true,
            title: {
                display: false,
                text: "some title goes here"
            },
            legend: {
                display: false
            },
            layout: {
                padding: {
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                }
            },
            tooltips: {
                enabled: false
                // mode: "index",
                // intersect: true
            }
            // ,elements: {
            //   point: {
            //     radius: 0 // should hide the points from displaying...
            //     ,hoverRadius: 0
            //   }
            // }
            ,
            annotation: {
                events: ["click"],
                annotations: []
            },
            scales: {
                xAxes: [{
                        stacked: false,
                        scaleLabel: {},
                        ticks: {},
                        gridLines: {}
                    }],
                yAxes: [{
                        ticks: {
                            min: 0,
                            max: this.getMaxYAxisTick(),
                            stepSize: stepSize,
                            padding: 0
                        },
                        stacked: false,
                        scaleLabel: {
                            display: true
                        }
                    }]
            }
        };
        // convert the canvas chart to an image
        configOptions.animation = {
            onComplete: this.handleChartAnimationComplete.bind(this)
        };
        return configOptions;
    }
    ngOnInit() {
        this.setupChartData();
        this._configOptions = this.setupChartConfiguration();
    }
    handleChartAnimationComplete(e) {
        // this.convertChartToImage(e);
    }
    clearChartConversionTimeout() {
        if (this._timeoutHandler) {
            clearTimeout(this._timeoutHandler);
            this._timeoutHandler = null;
        }
    }
    getChartAsHtmlImageElement() {
        let dataUrl = this.chartNode.toDataURL('image/png');
        let chartImage = new Image();
        chartImage.src = dataUrl;
        return chartImage;
    }
    convertChartToImage(e) {
        // since we are destroying the chart we want to get it out
        // of the current chart onComplete event cycle.
        this._timeoutHandler = setTimeout(() => {
            this._timeoutHandler = null;
            if (this.chartNode && this.chartNode.parentNode) {
                let dataUrl = this.chartNode.toDataURL('image/png');
                this.chartImage = new Image();
                this.chartImage.src = dataUrl;
                this.chartNode.parentNode.appendChild(this.chartImage);
                // now that the chart has been created let's destroy the chart
                this.destroyChart();
            }
        }, 0);
    }
    destroyChart() {
        if (this.chart) {
            this.cs.destroyChart(this.chart);
            this.chart = null;
        }
        if (this.chartNode) {
            if (this.chartNode.parentNode) {
                this.chartNode.parentNode.removeChild(this.chartNode);
            }
            this.chartNode = null;
        }
    }
    destroyChartImage() {
        if (this.chartImage) {
            if (this.chartImage.parentNode) {
                this.chartImage.parentNode.removeChild(this.chartImage);
            }
            this.chartImage = null;
        }
    }
    drawChart() {
        var chartData = {
            labels: this.getLabelData(),
            datasets: this.getDatasets()
        };
        this.drawChartWithData(chartData);
    }
    drawChartWithData(data) {
        this.chartNode = this.createChartNode();
        if (this.chartNode) {
            this.chart = this.cs.drawChart(this.chartNode, data, this._configOptions);
        }
    }
    createChartNode() {
        let componentElement = this.chartElement.nativeElement;
        let element = componentElement.querySelector(".scale-chart-container");
        if (!element) {
            console.error("could not find element with class .scale-chart-container");
            return null;
        }
        let chartNode = document.createElement("canvas");
        element.appendChild(chartNode);
        chartNode = chartNode;
        return chartNode;
    }
}
BaseChartComponent.ɵfac = function BaseChartComponent_Factory(t) { return new (t || BaseChartComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_assessment_charts_services_chart_service__WEBPACK_IMPORTED_MODULE_1__["ChartService"])); };
BaseChartComponent.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: BaseChartComponent });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BaseChartComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: app_assessment_charts_services_chart_service__WEBPACK_IMPORTED_MODULE_1__["ChartService"] }]; }, null); })();


/***/ }),

/***/ "n9jI":
/*!****************************************************!*\
  !*** ./src/app/shared/services/billing.service.ts ***!
  \****************************************************/
/*! exports provided: BillingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BillingService", function() { return BillingService; });
/* harmony import */ var _login_services_auth_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../login/services/auth.service */ "6Hrc");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/http.service */ "Tdnt");
/* harmony import */ var _models_billing_details__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/billing-details */ "fkaD");
/* harmony import */ var _models_billing_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/billing-card */ "x9vr");
/* harmony import */ var _shared_services_stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/services/stripe-payment-processor.service */ "6OaT");
/* harmony import */ var _subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./subscription-hydrator.service */ "y5x3");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */












class BillingService {
    constructor(httpService, authService, stripeService, subHydrator) {
        this.httpService = httpService;
        this.authService = authService;
        this.stripeService = stripeService;
        this.subHydrator = subHydrator;
    }
    getBillingDetails() {
        return this.authService.getCurrentUser().then(user => {
            return this.httpService.get("/admin/billing/" + user.companyID)
                .then((data) => {
                let cards = data._cards || [];
                let subscriptions = data._subscriptions || [];
                let billingDetails = Object.assign(new _models_billing_details__WEBPACK_IMPORTED_MODULE_3__["BillingDetails"](), data);
                if (cards.length) {
                    billingDetails.cards = cards.map(c => Object.assign(new _models_billing_card__WEBPACK_IMPORTED_MODULE_4__["BillingCard"](), c));
                }
                if (subscriptions.length) {
                    billingDetails.subscriptions = subscriptions.map(s => this.subHydrator.fromJSONObject(s));
                }
                return billingDetails;
            })
                .catch((error) => {
                // no details found at all
                if (error.status == 404) {
                    return new _models_billing_details__WEBPACK_IMPORTED_MODULE_3__["BillingDetails"](); // make it empty
                }
                throw error;
            });
        });
    }
    updateDefaultBillingCard(billingDetails) {
        return this.authService.getCurrentUser().then(user => {
            return this.stripeService.createUpdateCardToken("Update card for Assessment Services", billingDetails.email)
                .then((token) => {
                console.log("token updated for customer.  Token now: ", token);
                let promise;
                if (!billingDetails.customerId) {
                    // create new billing profile
                    promise = this.httpService.post("/admin/billing/", { companyID: user.companyID, card: token });
                }
                else {
                    // or update the existing card for the current billing profile
                    promise = this.httpService.post("/admin/billing/" + user.companyID + "/card/", { card: token });
                }
                return promise.then((newBilling) => {
                    Object.assign(billingDetails, newBilling);
                    let cards = newBilling.cards || newBilling._cards || [];
                    billingDetails.cards = cards.map(c => Object.assign(new _models_billing_card__WEBPACK_IMPORTED_MODULE_4__["BillingCard"](), c));
                    let subscriptions = newBilling.subscriptions || newBilling._subscriptions || [];
                    billingDetails.subscriptions = subscriptions.map(s => this.subHydrator.fromJSONObject(s));
                    return billingDetails;
                });
            });
        });
    }
    deleteDefaultBillingCard(billingDetails) {
        if (billingDetails.cards.length) {
            return this.authService.getCurrentUser().then(user => {
                return this.httpService.delete("/admin/billing/" + user.companyID + "/card/").then(() => {
                    billingDetails.cards = []; // clear out the cards.
                    return billingDetails;
                });
            });
        }
        return Promise.reject(new Error("Default billing card is missing to delete"));
    }
}
BillingService.ɵfac = function BillingService_Factory(t) { return new (t || BillingService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_login_services_auth_service__WEBPACK_IMPORTED_MODULE_0__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_shared_services_stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_5__["StripePaymentProcessor"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_6__["SubscriptionHydratorService"])); };
BillingService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: BillingService, factory: BillingService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](BillingService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"] }, { type: _login_services_auth_service__WEBPACK_IMPORTED_MODULE_0__["AuthService"] }, { type: _shared_services_stripe_payment_processor_service__WEBPACK_IMPORTED_MODULE_5__["StripePaymentProcessor"] }, { type: _subscription_hydrator_service__WEBPACK_IMPORTED_MODULE_6__["SubscriptionHydratorService"] }]; }, null); })();


/***/ }),

/***/ "nC1Y":
/*!**************************************************!*\
  !*** ./src/app/login/logout/logout.component.ts ***!
  \**************************************************/
/*! exports provided: LogoutComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogoutComponent", function() { return LogoutComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth.service */ "6Hrc");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






class LogoutComponent {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    ngOnInit() {
    }
    logout() {
        this.authService.logout().then((resp) => {
            if (resp.redirectUrl) {
                window.location.href = resp.redirectUrl;
            }
            else {
                this.router.navigate(['/']);
            }
        })
            .catch((error) => {
            console.error(error);
            this.router.navigate(['/']);
        });
    }
}
LogoutComponent.ɵfac = function LogoutComponent_Factory(t) { return new (t || LogoutComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"])); };
LogoutComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LogoutComponent, selectors: [["logout"]], decls: 1, vars: 0, consts: [["type", "button", "value", "Logout", 1, "btn", "btn-secondary", 3, "click"]], template: function LogoutComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function LogoutComponent_Template_input_click_0_listener() { return ctx.logout(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ291dC9sb2dvdXQuY29tcG9uZW50LmNzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LogoutComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'logout',
                templateUrl: './logout.component.html',
                styleUrls: ['./logout.component.css']
            }]
    }], function () { return [{ type: _services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }]; }, null); })();


/***/ }),

/***/ "nY/D":
/*!***********************************************************!*\
  !*** ./src/app/shared/models/paginated-results-loader.ts ***!
  \***********************************************************/
/*! exports provided: PaginatedResultsLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PaginatedResultsLoader", function() { return PaginatedResultsLoader; });
class PaginatedResultsLoader {
    constructor(queryFunc) {
        this._results = [];
        this._offset = 0;
        this._hasMoreResults = false;
        this._queryFunc = queryFunc;
    }
    get offset() {
        return this._offset;
    }
    set offset(v) {
        this._offset = v;
    }
    hasMoreResults() {
        return this._hasMoreResults;
    }
    getResults() {
        return this._queryFunc(this.offset)
            .then((resultList) => this.handleResultsLoaded(resultList));
    }
    handleResultsLoaded(resultList) {
        this._results = this._results.concat(resultList.results);
        this._offset = 0;
        this._hasMoreResults = false;
        if (typeof resultList._offset === "number") {
            this.offset = resultList._offset;
            this._hasMoreResults = resultList.hasMoreData;
        }
        return this._results;
    }
    loadMore() {
        return this.getResults();
    }
}


/***/ }),

/***/ "oN+P":
/*!******************************************************************!*\
  !*** ./src/app/shared/services/assessment-compressor.service.ts ***!
  \******************************************************************/
/*! exports provided: AssessmentCompressorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentCompressorService", function() { return AssessmentCompressorService; });
/**
 * Goes through and compresses the assessment into a smaller format.
 */
class AssessmentCompressorService {
    compress(assessment) {
        let result = { _scales: [], _question_sets: [] };
        Object.assign(result, assessment);
        result._scales = assessment.scales.map(s => this.compressScale(s));
        result._question_sets = assessment.question_sets.map(qs => this.compressQuestionSet(qs));
        return result;
    }
    compressScale(scale) {
        // for now we aren't compressing the scale at all.
        let compressedScale = Object.assign({}, scale, { _subScaleIds: scale.getSubScaleIds() });
        if (compressedScale.hasOwnProperty('_subScales')) {
            delete compressedScale._subScales;
        }
        return compressedScale;
    }
    compressQuestionSet(questionSet) {
        let result = { _display_conditions: [] };
        Object.assign(result, questionSet);
        result._display_conditions = questionSet.display_conditions.map(dc => this.compressDisplayCondition(dc));
        return result;
    }
    compressDisplayCondition(dc) {
        let result = {
            _answerId: dc.answer.id,
            _questionId: dc.question.id,
            _questionSetId: dc.questionSet.id,
            _displayType: dc.displayType
        };
        return result;
    }
}


/***/ }),

/***/ "oR8h":
/*!***************************************************!*\
  !*** ./src/app/shared/services/client.service.ts ***!
  \***************************************************/
/*! exports provided: ClientService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClientService", function() { return ClientService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/services/http.service */ "Tdnt");
/* harmony import */ var _shared_models_managed_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/models/managed-client */ "V1uT");
/* harmony import */ var app_shared_models_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/models/user */ "NlNA");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./assignment-hydrator.service */ "HY3C");
/* harmony import */ var _task_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./task-service */ "lrDS");
/* harmony import */ var _fhir_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./fhir-service */ "y+jN");

/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */













class ClientService {
    constructor(dac$http, assignmentHydrator, fhirService, taskService) {
        this.assignmentHydrator = assignmentHydrator;
        this.fhirService = fhirService;
        this.taskService = taskService;
        this._dac$http = dac$http;
        this._clientNotice = new rxjs__WEBPACK_IMPORTED_MODULE_5__["BehaviorSubject"](null);
    }
    generateClientId() {
        return this._dac$http.post("utils/generateClientId", {}).then((serverResponse) => {
            return serverResponse.id;
        });
    }
    getClientObservable() {
        return this._clientNotice;
    }
    getClientList(user, offset) {
        var data = {
            _limit: 10,
            _sort: "-date,lname,fname"
        };
        if (offset) {
            data._offset = offset; // this.encodeCursor(cursor);
        }
        if (user) {
            data.user = user.id;
        }
        return this._dac$http.get("reports/clients", data)
            .then((data) => {
            return Promise.all(data.results.map((record) => this.hydrateClient(record))).then(results => {
                data.results = results;
                return data;
            });
        });
    }
    sendClientEmail(clientId, subj, message, isTest) {
        var data = {
            subject: subj,
            message: message,
            isTest: (isTest ? 1 : 0)
        };
        return this._dac$http.post("clients/" + clientId + "/messages", data)
            .then((serverResponse) => {
            return {};
        });
    }
    createClient(client) {
        return this._dac$http.post("clients/", client)
            .then((serverResponse) => {
            this.hydrateClient(client)
                .then(client => {
                let newClient = client;
                this._clientNotice.next(newClient);
                return newClient;
            });
        })
            .catch((response) => {
            console.error(response);
            if (response.status === 400) {
                let data = response.body;
                if (data) {
                    throw data;
                }
            }
            else {
                throw response;
            }
        });
    }
    /**
     * Any in memory modifications of the client, or client properties need to be notified
     * to other services and this method handles that.
     * @param client
     */
    syncLocalClient(client) {
        this._clientNotice.next(client);
    }
    saveClient(client) {
        return this._dac$http.post("clients/" + client.id, client)
            .then((data) => {
            this._clientNotice.next(client);
            return data;
        });
    }
    getClient(clientId) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.fhirService.getFhirClient();
            return client.request("Patient/" + clientId)
                // return this._dac$http.get<ManagedClient>("Patient/" + clientId)
                .then((serverResponse) => {
                return this.hydrateFhirPatient(serverResponse);
            });
        });
    }
    searchClientList(searchQueryObj, user, offset) {
        let search = searchQueryObj || {};
        search._limit = 10;
        search._sort = "-date,lname,fname";
        if (offset) {
            // need to make sure uri components such as + sign are encoded properly
            search._offset = offset; //this.encodeCursor(cursor);
        }
        if (user) {
            search.user = user.id;
        }
        return this._dac$http.get("reports/clients", search)
            .then((data) => {
            return Promise.all(data.results.map((record) => this.hydrateClient(record)))
                .then(results => {
                data.results = results;
                return data;
            });
        });
    }
    encodeCursor(cursor) {
        // need to make sure uri components such as + sign are encoded properly
        return cursor;
        // return encodeURIComponent(cursor);
    }
    hydrateFhirPatient(record) {
        let user = new app_shared_models_user__WEBPACK_IMPORTED_MODULE_4__["User"]();
        let client = new _shared_models_managed_client__WEBPACK_IMPORTED_MODULE_3__["ManagedClient"]();
        client.id = record.id;
        if (record.name) {
            let n = record.name.find(n => n.use == 'official');
            if (n) {
                client.firstName = n.given.length ? n.given.join(" ") : "";
                client.lastName = n.family || "";
                client.displayName = n.text || (client.firstName + " " + client.lastName).trim();
            }
        }
        if (record.generalPractitioner && record.generalPractitioner.length) {
            // we only grab the first one
            let provider = record.generalPractitioner[0];
            let providerParts = provider.reference.split("/");
            client.user = new app_shared_models_user__WEBPACK_IMPORTED_MODULE_4__["User"]();
            client.user.username = providerParts[1] || null;
        }
        if (record.telecom && record.telecom.length) {
            let emailContacts = record.telecom.filter(t => t.system == 'email');
            if (emailContacts) {
                let workContact = emailContacts.find(e => e.use == 'work');
                let homeContact = emailContacts.find(e => e.use == 'home');
                client.email = workContact || homeContact; // order of preference
            }
        }
        return this.taskService.getAssignmentTasksForClient(client.id)
            .then(assignments => {
            client.assignments = assignments;
            return client;
        });
    }
    hydrateClient(record) {
        let user = new app_shared_models_user__WEBPACK_IMPORTED_MODULE_4__["User"]();
        let client = new _shared_models_managed_client__WEBPACK_IMPORTED_MODULE_3__["ManagedClient"]();
        Object.assign(client, record);
        if (record.assignedUser) {
            client.user = Object.assign(user, record.assignedUser);
        }
        return this.taskService.getAssignmentTasksForClient(client.id)
            .then(assignments => {
            client.assignments = assignments;
            return client;
        });
        // if (client.assignments) {
        // 	client.assignments = record.assignments.map(a => this.assignmentHydrator.hydrateAssignment(a));
        // }
        // return client;
    }
}
ClientService.ɵfac = function ClientService_Factory(t) { return new (t || ClientService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_6__["AssignmentHydratorService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_fhir_service__WEBPACK_IMPORTED_MODULE_8__["FhirService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_task_service__WEBPACK_IMPORTED_MODULE_7__["TaskService"])); };
ClientService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: ClientService, factory: ClientService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ClientService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return [{ type: _shared_services_http_service__WEBPACK_IMPORTED_MODULE_2__["HTTPService"] }, { type: _assignment_hydrator_service__WEBPACK_IMPORTED_MODULE_6__["AssignmentHydratorService"] }, { type: _fhir_service__WEBPACK_IMPORTED_MODULE_8__["FhirService"] }, { type: _task_service__WEBPACK_IMPORTED_MODULE_7__["TaskService"] }]; }, null); })();


/***/ }),

/***/ "opvK":
/*!****************************************************************************!*\
  !*** ./src/app/theme/login-finalize-page/login-finalize-page.component.ts ***!
  \****************************************************************************/
/*! exports provided: LoginFinalizePageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginFinalizePageComponent", function() { return LoginFinalizePageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _login_login_finalize_login_finalize_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../login/login-finalize/login-finalize.component */ "6lBM");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class LoginFinalizePageComponent {
    constructor() { }
    ngOnInit() {
        console.log("got here");
    }
}
LoginFinalizePageComponent.ɵfac = function LoginFinalizePageComponent_Factory(t) { return new (t || LoginFinalizePageComponent)(); };
LoginFinalizePageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: LoginFinalizePageComponent, selectors: [["app-login-finalize-page"]], decls: 4, vars: 0, consts: [[1, "container-fluid", "mb-3"], [1, "row", "justify-content-center"], [1, "col-12", "col-md-8", "col-lg-4"]], template: function LoginFinalizePageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-login-finalize");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, directives: [_login_login_finalize_login_finalize_component__WEBPACK_IMPORTED_MODULE_1__["LoginFinalizeComponent"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginFinalizePageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-login-finalize-page',
                templateUrl: './login-finalize-page.component.html'
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "owwM":
/*!***************************************************************************************!*\
  !*** ./src/app/reports/report-items/html-content-item/html-content-item.component.ts ***!
  \***************************************************************************************/
/*! exports provided: HtmlContentItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlContentItemComponent", function() { return HtmlContentItemComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "jhN1");
/* harmony import */ var app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/reports/models/base-report-item-component */ "D8FE");






class HtmlContentItemComponent extends app_reports_models_base_report_item_component__WEBPACK_IMPORTED_MODULE_2__["BaseReportItemComponent"] {
    constructor(domSanitizer) {
        super();
        this.domSanitizer = domSanitizer;
        this._classNames = [];
    }
    getHTMLClassNames() {
        return this._classNames;
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    setReportData(data, results, variables) {
        if (data && data.content) {
            var content = data.content;
            if (variables && variables.length) {
                // handle any variable substitutions here...
                variables.forEach(v => {
                    let id = "{{" + v.id + "}}";
                    let replace = v.value + "";
                    content = content.replace(id, replace);
                });
            }
            this.content = this.domSanitizer.bypassSecurityTrustHtml(content);
            if (data.classNames && data.classNames.length) {
                this._classNames = data.classNames.concat(this._classNames);
            }
        }
    }
    get content() {
        return this._content;
    }
    set content(v) {
        this._content = v;
    }
}
HtmlContentItemComponent.ɵfac = function HtmlContentItemComponent_Factory(t) { return new (t || HtmlContentItemComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"])); };
HtmlContentItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: HtmlContentItemComponent, selectors: [["app-html-content-item"]], inputs: { data: "data", results: ["data", "results"] }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 1, vars: 1, consts: [[1, "card", "card-wider", "card-cascade", 3, "innerHTML"]], template: function HtmlContentItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.content, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HtmlContentItemComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-html-content-item',
                templateUrl: './html-content-item.component.html',
                encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None
            }]
    }], function () { return [{ type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"] }]; }, { data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["data"]
        }], results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["data"]
        }] }); })();


/***/ }),

/***/ "peLD":
/*!*******************************************************************!*\
  !*** ./src/app/library-assets/asset-list/asset-list.component.ts ***!
  \*******************************************************************/
/*! exports provided: AssetListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetListComponent", function() { return AssetListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_asset_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/asset.service */ "Cy3R");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







function AssetListComponent_tr_14_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const asset_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](asset_r1.tags.join(", "));
} }
function AssetListComponent_tr_14_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AssetListComponent_tr_14_span_6_Template, 2, 1, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AssetListComponent_tr_14_Template_button_click_10_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const asset_r1 = ctx.$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.viewAsset(asset_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const asset_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](asset_r1.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](asset_r1.description);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (asset_r1.tags == null ? null : asset_r1.tags.length) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](asset_r1.originalCreator);
} }
class AssetListComponent {
    constructor(assetService, alertService) {
        this.assetService = assetService;
        this.alertService = alertService;
        this.selected = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnChanges(changes) {
        this.loadAssetsForType(this.type); // reload our changes.
    }
    ngOnInit() {
        if (!this.type) {
            this.type = 'exercise';
        }
        this.loadAssetsForType(this.type);
    }
    loadAssetsForType(type) {
        this.assetService.getAssetsByType(type).then(assets => {
            assets.sort((a, b) => a.title.localeCompare(b.title)); // make sure we are sorted by name here.
            this.Assets = assets;
        })
            .catch(error => {
            console.error(error);
            this.alertService.error("Failed to retrieve the library resources.  Check your internet connection and refresh the page");
        });
    }
    viewAsset(asset) {
        console.log("selecting ", asset);
        this.selected.emit(asset);
    }
}
AssetListComponent.ɵfac = function AssetListComponent_Factory(t) { return new (t || AssetListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"])); };
AssetListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AssetListComponent, selectors: [["dac-asset-list"]], inputs: { type: "type" }, outputs: { selected: "selected" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 15, vars: 1, consts: [[1, "table", "table-striped"], [1, "primary-color", "text-white"], [1, "w-25"], [4, "ngFor", "ngForOf"], [4, "ngIf"], ["aria-label", "View", "type", "button", "tabindex", "0", 1, "btn", "btn-primary", "btn-sm", 3, "click"], ["aria-hidden", "true", 1, "fa", "fa-eye"]], template: function AssetListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "thead", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "th", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Title");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "th", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "Description");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "th");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "Tags");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "th");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "Author");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "th");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, "Actions");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "tbody");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, AssetListComponent_tr_14_Template, 12, 4, "tr", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.Assets);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS1hc3NldHMvYXNzZXQtbGlzdC9hc3NldC1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9saWJyYXJ5LWFzc2V0cy9hc3NldC1saXN0L2Fzc2V0LWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjIgRGlzY292ZXIgYW5kIENoYW5nZSBAYXV0aG9yIFN0ZXBoZW4gTmllbHNvbiA8c25pZWxzb25AZGlzY292ZXJhbmRjaGFuZ2UuY29tPlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBGb3IgTGljZW5zZSBpbmZvcm1hdGlvbiBzZWUgTElDRU5TRS5tZCBpbiB0aGUgcm9vdCBmb2xkZXIgb2YgdGhpcyBwcm9qZWN0LlxuICovXG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssetListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-asset-list',
                templateUrl: './asset-list.component.html',
                styleUrls: ['./asset-list.component.scss']
            }]
    }], function () { return [{ type: _services_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] }]; }, { type: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], selected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "qedY":
/*!*************************************************!*\
  !*** ./src/app/theme/services/theme.service.ts ***!
  \*************************************************/
/*! exports provided: ThemeService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThemeService", function() { return ThemeService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");


class ThemeService {
    constructor() {
        this._isMainContentFluid = false;
    }
    isMainContentFluid() {
        return this._isMainContentFluid;
    }
    setMainContentFluid(isFluid) {
        this._isMainContentFluid = isFluid === true;
    }
    setStickyFixContainerEnabled(stickyFixEnabled) {
        this._isStickyFixContainerEnabled = stickyFixEnabled;
    }
    isStickyFixContainerEnabled() {
        return this._isStickyFixContainerEnabled;
    }
}
ThemeService.ɵfac = function ThemeService_Factory(t) { return new (t || ThemeService)(); };
ThemeService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ThemeService, factory: ThemeService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ThemeService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "qoW1":
/*!**************************************************************************!*\
  !*** ./src/app/reports/services/scale-result-question-finder.service.ts ***!
  \**************************************************************************/
/*! exports provided: ScaleResultQuestionFinderService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleResultQuestionFinderService", function() { return ScaleResultQuestionFinderService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class ScaleResultQuestionFinderService {
    constructor() { }
    getQuestionsForScaleResult(assessmentResult, scaleResult, depth = 0) {
        let questionList = [];
        if (depth > 50) {
            console.error("Max recursive depth reached");
            return questionList;
        }
        if (this.hasSubScales(scaleResult)) {
            let subScaleResults = this.getSubScales(assessmentResult, scaleResult);
            questionList = subScaleResults.map(sr => this.getQuestionsForScaleResult(assessmentResult, sr, depth + 1))
                .reduce((prev, curr) => prev.concat(curr), []);
        }
        else {
            questionList = assessmentResult.assessment.getQuestionsForScale(scaleResult.scale);
        }
        return questionList;
    }
    hasSubScales(scaleResult) {
        return scaleResult && scaleResult.scale && scaleResult.scale.hasSubScales();
    }
    getSubScales(assessmentResult, scaleResult) {
        if (scaleResult.scale.hasSubScales()) {
            return scaleResult.scale.getSubScaleIds().map(si => assessmentResult.getScaleResultByScaleId(si));
        }
        return [];
    }
}
ScaleResultQuestionFinderService.ɵfac = function ScaleResultQuestionFinderService_Factory(t) { return new (t || ScaleResultQuestionFinderService)(); };
ScaleResultQuestionFinderService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ScaleResultQuestionFinderService, factory: ScaleResultQuestionFinderService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleResultQuestionFinderService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "rl58":
/*!**************************************************************************!*\
  !*** ./src/app/reports/pcl-criteria-icon/pcl-criteria-icon.component.ts ***!
  \**************************************************************************/
/*! exports provided: PclCriteriaIconComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PclCriteriaIconComponent", function() { return PclCriteriaIconComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



const _c0 = function (a0) { return { "checked": a0 }; };
class PclCriteriaIconComponent {
    constructor() { }
    ngOnInit() {
    }
}
PclCriteriaIconComponent.ɵfac = function PclCriteriaIconComponent_Factory(t) { return new (t || PclCriteriaIconComponent)(); };
PclCriteriaIconComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PclCriteriaIconComponent, selectors: [["pcl-criteria-icon"]], inputs: { criteria: "criteria", checked: "checked" }, decls: 2, vars: 4, consts: [[1, "name", 3, "ngClass"]], template: function PclCriteriaIconComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, ctx.checked));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.criteria);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PclCriteriaIconComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'pcl-criteria-icon',
                templateUrl: './pcl-criteria-icon.component.html'
            }]
    }], function () { return []; }, { criteria: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], checked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "rx/G":
/*!******************************************************!*\
  !*** ./src/app/shared/services/unique-id.service.ts ***!
  \******************************************************/
/*! exports provided: UniqueIdService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UniqueIdService", function() { return UniqueIdService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ "EcEN");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class UniqueIdService {
    constructor() { }
    generate() {
        // for now we return nothing.
        return uuid__WEBPACK_IMPORTED_MODULE_1__["v4"]();
    }
}
UniqueIdService.ɵfac = function UniqueIdService_Factory(t) { return new (t || UniqueIdService)(); };
UniqueIdService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UniqueIdService, factory: UniqueIdService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UniqueIdService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "s1ev":
/*!**************************************************************************!*\
  !*** ./src/app/assessment-charts/services/scale-result-color.service.ts ***!
  \**************************************************************************/
/*! exports provided: ScaleResultColorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleResultColorService", function() { return ScaleResultColorService; });
/* harmony import */ var app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! app/assessment-charts/models/chart-color */ "iwQx");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");



class ScaleResultColorService {
    constructor() {
        this.PURPLE = "rgba(102,51,204, 1)";
        this.LIGHT_BLUE = "rgba(92,141,181, 1)";
        this.GREEN = "rgba(102,153,51, 1)";
        this.ORANGE = "rgba(204,102,0, 1)";
        this.RED = "rgba(204,0,0, 1)";
        this._bgColorsForRangeSize = new Map();
        this._bgColorsForRangeSize.set(1, this.getSingleRange());
        this._bgColorsForRangeSize.set(2, this.getTwoRange());
        this._bgColorsForRangeSize.set(3, this.getThreeRange());
        this._bgColorsForRangeSize.set(4, this.getFourRange());
        this._bgColorsForRangeSize.set(5, this.getFiveRange());
    }
    getSingleRange() {
        let color = this.LIGHT_BLUE;
        let singleColor = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Score", color);
        return [singleColor];
    }
    getTwoRange() {
        let low = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Low", "rgb(208, 253, 72)");
        let high = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Severe", "rgb(253, 71, 47)");
        return [low, high];
    }
    getThreeRange() {
        let low = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Low", "rgb(208, 253, 72)");
        let moderate = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Moderate", "rgb(231, 162, 60)");
        let high = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Severe", "rgb(253, 71, 47)");
        return [low, moderate, high];
    }
    getFourRange() {
        let low = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Low", "rgb(208, 253, 72)");
        let lowModerate = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Low-Moderate", "rgb(219, 208, 66)");
        let moderateHigh = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Moderate-Severe", "rgb(242, 117, 53)");
        let high = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Severe", "rgb(253, 71, 47)");
        return [low, lowModerate, moderateHigh, high];
    }
    getFiveRange() {
        let low = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Low", "rgb(208, 253, 72)");
        let lowModerate = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Low-Moderate", "rgb(219, 208, 66)");
        let moderate = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Moderate", "rgb(231, 162, 60)");
        let moderateHigh = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Moderate-Severe", "rgb(242, 117, 53)");
        let high = new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Severe", "rgb(253, 71, 47)");
        return [low, lowModerate, moderate, moderateHigh, high];
    }
    getBackgroundColors(scaleRangeLength) {
        let colors;
        switch (scaleRangeLength) {
            case 1:
                colors = this.getSingleRange();
                break;
            case 2:
                colors = this.getTwoRange();
                break;
            case 3:
                colors = this.getThreeRange();
                break;
            case 4:
                colors = this.getFourRange();
                break;
            case 5:
                colors = this.getFiveRange();
                break;
            case 7:
                colors = [
                    new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Tier 1", "rgb(48, 48, 253)"),
                    new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Tier 2", "rgb(48, 150, 253)"),
                    new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Tier 3", "rgb(48, 253, 202)"),
                    new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Tier 4", "rgb(48, 253, 48)"),
                    new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Tier 5", "rgb(253, 253, 48)"),
                    new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Tier 6", "rgb(253, 150, 48)"),
                    new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_0__["ChartColor"]("Tier 7", "rgb(253, 71, 47)")
                ];
                break;
            default:
                colors = [];
            // for (var i = 0; i < scaleRangeLength; i++) {
            //     let initialColor = this.getSingleRange();
            //     colors.push(initialColor[0]);
            // }
            // break;
        }
        return colors;
    }
    getBackgroundColorForRange(scaleRangeLength, rangeIndex) {
        let chartColors = this.getBackgroundColors(scaleRangeLength);
        if (rangeIndex >= 0 && rangeIndex < chartColors.length) {
            return chartColors[rangeIndex];
        }
        // return the first one.
        return chartColors[0];
    }
    getBackgroundColorForScaleResult(scaleResult) {
        let rangeLength = 1;
        let rangeIndex = 0;
        if (scaleResult.range && scaleResult.scale
            && scaleResult.scale.ranges
            && scaleResult.scale.ranges.length) {
            let ranges = scaleResult.scale.ranges;
            rangeLength = ranges.length;
            rangeIndex = scaleResult.scale.ranges.findIndex(r => r.id == scaleResult.range.id);
        }
        return this.getBackgroundColorForRange(rangeLength, rangeIndex);
    }
}
ScaleResultColorService.ɵfac = function ScaleResultColorService_Factory(t) { return new (t || ScaleResultColorService)(); };
ScaleResultColorService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: ScaleResultColorService, factory: ScaleResultColorService.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](ScaleResultColorService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "ss6L":
/*!*************************************************************************!*\
  !*** ./src/app/library-assets/exercise-list/exercise-list.component.ts ***!
  \*************************************************************************/
/*! exports provided: ExerciseListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExerciseListComponent", function() { return ExerciseListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/login/has-permission/has-permission */ "mlUz");
/* harmony import */ var _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../asset-list/asset-list.component */ "peLD");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






const _c0 = function () { return ["new"]; };
function ExerciseListComponent_a_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](2, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Add New ", ctx_r0.title, "");
} }
class ExerciseListComponent {
    constructor(router, route) {
        this.router = router;
        this.route = route;
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
    ngOnInit() {
        this.subscription = this.route.params.subscribe(params => {
            let assetType = params['type'];
            if (assetType == 'articles') {
                this.assetType = 'article';
                this.title = "Article";
            }
            else {
                this.assetType = 'assignment';
                this.title = "Exercise";
            }
        });
    }
    viewAsset(asset) {
        this.router.navigate([asset.id], { relativeTo: this.route });
    }
}
ExerciseListComponent.ɵfac = function ExerciseListComponent_Factory(t) { return new (t || ExerciseListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"])); };
ExerciseListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ExerciseListComponent, selectors: [["dac-exercise-list"]], decls: 5, vars: 3, consts: [[1, "col-12"], [1, "h1-responsive"], ["class", "btn btn-primary", 3, "routerLink", 4, "hasPermission"], [3, "type", "selected"], [1, "btn", "btn-primary", 3, "routerLink"]], template: function ExerciseListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h1", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ExerciseListComponent_a_3_Template, 2, 3, "a", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "dac-asset-list", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("selected", function ExerciseListComponent_Template_dac_asset_list_selected_4_listener($event) { return ctx.viewAsset($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.title, " List ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hasPermission", "SuperUser");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("type", ctx.assetType);
    } }, directives: [app_login_has_permission_has_permission__WEBPACK_IMPORTED_MODULE_2__["HasPermissionDirective"], _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_3__["AssetListComponent"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterLinkWithHref"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS1hc3NldHMvZXhlcmNpc2UtbGlzdC9leGVyY2lzZS1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9saWJyYXJ5LWFzc2V0cy9leGVyY2lzZS1saXN0L2V4ZXJjaXNlLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjIgRGlzY292ZXIgYW5kIENoYW5nZSBAYXV0aG9yIFN0ZXBoZW4gTmllbHNvbiA8c25pZWxzb25AZGlzY292ZXJhbmRjaGFuZ2UuY29tPlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBGb3IgTGljZW5zZSBpbmZvcm1hdGlvbiBzZWUgTElDRU5TRS5tZCBpbiB0aGUgcm9vdCBmb2xkZXIgb2YgdGhpcyBwcm9qZWN0LlxuICovXG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ExerciseListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-exercise-list',
                templateUrl: './exercise-list.component.html',
                styleUrls: ['./exercise-list.component.scss']
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }]; }, null); })();


/***/ }),

/***/ "tV5d":
/*!*********************************************************************************************************!*\
  !*** ./src/app/reports/report-items/summary-section-graph-item/summary-section-graph-item.component.ts ***!
  \*********************************************************************************************************/
/*! exports provided: SummarySectionGraphItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SummarySectionGraphItemComponent", function() { return SummarySectionGraphItemComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _shared_models_assessment_result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/models/assessment-result */ "TNk8");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../assessment-charts/summary-scales-chart/summary-scales-chart.component */ "7gIF");
/* harmony import */ var _pcl_summary_pcl_summary_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../pcl-summary/pcl-summary.component */ "AU1M");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






function SummarySectionGraphItemComponent_app_summary_scales_chart_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-summary-scales-chart", 9);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r0.getClasses(ctx_r0.item))("showNames", ctx_r0.item.data.showNames)("chartScaleNames", ctx_r0.item.data.chartScaleNames)("chartRangeNames", ctx_r0.item.data.chartRangeNames)("showRangeScore", ctx_r0.item.data.showRangeScore)("scaleResults", ctx_r0.scaleResults)("reverseDirection", ctx_r0.item.data.reverseDirection);
} }
function SummarySectionGraphItemComponent_app_pcl_summary_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-pcl-summary", 10);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("assessmentResult", ctx_r1.assessmentResult)("summaryScaleResult", ctx_r1.PCLSummaryScaleResult);
} }
function SummarySectionGraphItemComponent_hr_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "hr", 11);
} }
function SummarySectionGraphItemComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h4");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "Severity: ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r3.getRangeNameForFirstScaleResult(ctx_r3.scaleResults));
} }
class SummarySectionGraphItemComponent {
    constructor() { }
    ngOnInit() {
    }
    get PCLSummaryScaleResult() {
        if (this.scaleResults && this.scaleResults.length) {
            return this.scaleResults[0]; // first and only item for the PCL
        }
        return null;
    }
    getRangeNameForFirstScaleResult(scaleResults) {
        if (scaleResults && scaleResults.length >= 1
            && scaleResults[0].range) {
            return scaleResults[0].range.displayName;
        }
        return "";
    }
    getClasses(item) {
        if (item.chartSize) {
            let result = "p-" + item.chartSize + "-chart";
            return [result];
        }
        else {
            return ["p-small-chart"];
        }
    }
}
SummarySectionGraphItemComponent.ɵfac = function SummarySectionGraphItemComponent_Factory(t) { return new (t || SummarySectionGraphItemComponent)(); };
SummarySectionGraphItemComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SummarySectionGraphItemComponent, selectors: [["dac-summary-section-graph-item"]], inputs: { item: "item", scaleResults: "scaleResults", assessmentResult: "assessmentResult" }, decls: 10, vars: 5, consts: [[1, "card", "card-cascade", "h-100"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body", "pt-1", "pt-md-3"], [1, "row", "justify-content-center"], ["class", "col chart", 3, "ngClass", "showNames", "chartScaleNames", "chartRangeNames", "showRangeScore", "scaleResults", "reverseDirection", 4, "ngIf"], ["class", "col summary-main p-small-chart", 3, "assessmentResult", "summaryScaleResult", 4, "ngIf"], ["class", "d-print-none", 4, "ngIf"], ["class", "row justify-content-center", 4, "ngIf"], [1, "col", "chart", 3, "ngClass", "showNames", "chartScaleNames", "chartRangeNames", "showRangeScore", "scaleResults", "reverseDirection"], [1, "col", "summary-main", "p-small-chart", 3, "assessmentResult", "summaryScaleResult"], [1, "d-print-none"]], template: function SummarySectionGraphItemComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, SummarySectionGraphItemComponent_app_summary_scales_chart_6_Template, 1, 7, "app-summary-scales-chart", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, SummarySectionGraphItemComponent_app_pcl_summary_7_Template, 1, 2, "app-pcl-summary", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SummarySectionGraphItemComponent_hr_8_Template, 1, 0, "hr", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, SummarySectionGraphItemComponent_div_9_Template, 5, 1, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.item.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.item.type == "SummaryScalesChart");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.item.type == "PCLSummary");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.item.data.showRangeLabel);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.item.data.showRangeLabel);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _assessment_charts_summary_scales_chart_summary_scales_chart_component__WEBPACK_IMPORTED_MODULE_3__["SummaryScalesChartComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _pcl_summary_pcl_summary_component__WEBPACK_IMPORTED_MODULE_4__["PclSummaryComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtaXRlbXMvc3VtbWFyeS1zZWN0aW9uLWdyYXBoLWl0ZW0vc3VtbWFyeS1zZWN0aW9uLWdyYXBoLWl0ZW0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydHMvcmVwb3J0LWl0ZW1zL3N1bW1hcnktc2VjdGlvbi1ncmFwaC1pdGVtL3N1bW1hcnktc2VjdGlvbi1ncmFwaC1pdGVtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SummarySectionGraphItemComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-summary-section-graph-item',
                templateUrl: './summary-section-graph-item.component.html',
                styleUrls: ['./summary-section-graph-item.component.scss']
            }]
    }], function () { return []; }, { item: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], scaleResults: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], assessmentResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "u7j1":
/*!**********************************************!*\
  !*** ./src/app/shared/toast/toast.module.ts ***!
  \**********************************************/
/*! exports provided: ToastModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToastModule", function() { return ToastModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/icon */ "NFeN");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/overlay */ "rDax");
/* harmony import */ var _toast_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./toast.component */ "XMJk");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






// import { TOAST_CONFIG_TOKEN, defaultToastConfig } from './toast-config';
class ToastModule {
}
ToastModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ToastModule });
ToastModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ToastModule_Factory(t) { return new (t || ToastModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayModule"],
            _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ToastModule, { declarations: [_toast_component__WEBPACK_IMPORTED_MODULE_4__["ToastComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayModule"],
        _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ToastModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                declarations: [_toast_component__WEBPACK_IMPORTED_MODULE_4__["ToastComponent"]],
                entryComponents: [_toast_component__WEBPACK_IMPORTED_MODULE_4__["ToastComponent"]],
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayModule"],
                    _angular_material_icon__WEBPACK_IMPORTED_MODULE_2__["MatIconModule"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "uHdG":
/*!*******************************************!*\
  !*** ./src/app/reports/reports.module.ts ***!
  \*******************************************/
/*! exports provided: ReportsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsModule", function() { return ReportsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _report_viewer_report_viewer_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./report-viewer/report-viewer.component */ "hYe5");
/* harmony import */ var _report_items_html_content_item_html_content_item_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./report-items/html-content-item/html-content-item.component */ "owwM");
/* harmony import */ var _text_item_text_item_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./text-item/text-item.component */ "W+8L");
/* harmony import */ var _report_items_scale_results_sections_list_scale_results_sections_list_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./report-items/scale-results-sections-list/scale-results-sections-list.component */ "bm9c");
/* harmony import */ var _assessment_charts_assessment_charts_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../assessment-charts/assessment-charts.module */ "UfRX");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shared/shared.module */ "PCNd");
/* harmony import */ var _report_items_computed_scale_computed_scale_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./report-items/computed-scale/computed-scale.component */ "Tvhd");
/* harmony import */ var _report_items_addo_scale_results_addo_scale_results_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./report-items/addo-scale-results/addo-scale-results.component */ "wh5b");
/* harmony import */ var _services_report_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./services/report.service */ "iW2n");
/* harmony import */ var _scale_summary_scale_summary_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./scale-summary/scale-summary.component */ "aXiC");
/* harmony import */ var _report_items_scale_results_summary_scale_results_summary_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./report-items/scale-results-summary/scale-results-summary.component */ "THLo");
/* harmony import */ var _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./report-items/therapist-scale-results/therapist-scale-results.component */ "YEXO");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./scale-questions-list/scale-questions-list.component */ "d8w3");
/* harmony import */ var _report_items_flagged_questions_list_flagged_questions_list_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./report-items/flagged-questions-list/flagged-questions-list.component */ "NEzX");
/* harmony import */ var _pcl_summary_pcl_summary_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pcl-summary/pcl-summary.component */ "AU1M");
/* harmony import */ var _scale_results_table_summary_scale_results_table_summary_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./scale-results-table-summary/scale-results-table-summary.component */ "Ue/t");
/* harmony import */ var _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./services/report-navigator.service */ "5IhB");
/* harmony import */ var _scale_range_content_scale_range_content_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./scale-range-content/scale-range-content.component */ "xuKX");
/* harmony import */ var _report_items_pcl_assessment_results_pcl_assessment_results_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./report-items/pcl-assessment-results/pcl-assessment-results.component */ "mTMX");
/* harmony import */ var _pcl_criteria_icon_pcl_criteria_icon_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./pcl-criteria-icon/pcl-criteria-icon.component */ "rl58");
/* harmony import */ var _services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./services/pcl-grader.service */ "R9Rc");
/* harmony import */ var _report_items_assessment_questions_list_assessment_questions_list_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./report-items/assessment-questions-list/assessment-questions-list.component */ "zuXg");
/* harmony import */ var _print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./print-dialog/print-dialog.component */ "gqDk");
/* harmony import */ var app_reports_assessment_result_view_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! app/reports/assessment-result-view/assessment-result-view.component */ "OlAR");
/* harmony import */ var _login_login_module__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../login/login.module */ "X3zk");
/* harmony import */ var _scale_sub_list_scale_sub_list_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./scale-sub-list/scale-sub-list.component */ "E8QE");
/* harmony import */ var _report_items_summary_section_graph_item_summary_section_graph_item_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./report-items/summary-section-graph-item/summary-section-graph-item.component */ "tV5d");
/* harmony import */ var _client_assessment_result_view_client_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./client-assessment-result-view/client-assessment-result-view.component */ "14V2");
/* harmony import */ var _services_question_action_service__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./services/question-action.service */ "ijKF");
/* harmony import */ var _report_items_question_action_list_question_action_list_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./report-items/question-action-list/question-action-list.component */ "f4Y8");
/* harmony import */ var _services_scale_result_question_finder_service__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./services/scale-result-question-finder.service */ "qoW1");
/* harmony import */ var _report_items_client_scale_results_client_scale_results_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./report-items/client-scale-results/client-scale-results.component */ "A0yc");
/* harmony import */ var _report_items_flagged_questions_list_simple_flagged_questions_list_simple_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./report-items/flagged-questions-list-simple/flagged-questions-list-simple.component */ "hdOu");
/* harmony import */ var _asset_result_view_asset_result_view_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./asset-result-view/asset-result-view.component */ "6FTH");
/* harmony import */ var app_library_assets_library_assets_module__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! app/library-assets/library-assets.module */ "uXki");
/* harmony import */ var _report_reviewer_container_report_viewer_container_component__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./report-reviewer-container/report-viewer-container.component */ "vK7k");
/* harmony import */ var _questionnaire_result_view_questionnaire_result_view_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./questionnaire-result-view/questionnaire-result-view.component */ "dTcr");
/* harmony import */ var _peer_clinic_result_viewer_peer_clinic_result_viewer_component__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./peer-clinic-result-viewer/peer-clinic-result-viewer.component */ "yI1f");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */









































class ReportsModule {
}
ReportsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ReportsModule });
ReportsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ReportsModule_Factory(t) { return new (t || ReportsModule)(); }, providers: [_services_report_service__WEBPACK_IMPORTED_MODULE_10__["ReportService"], _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_18__["ReportNavigatorService"], _services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_22__["PclGraderService"],
        _client_assessment_result_view_client_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_29__["ClientAssessmentResultViewComponent"], _services_question_action_service__WEBPACK_IMPORTED_MODULE_30__["QuestionActionService"], _services_scale_result_question_finder_service__WEBPACK_IMPORTED_MODULE_32__["ScaleResultQuestionFinderService"]], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__["SharedModule"],
            _login_login_module__WEBPACK_IMPORTED_MODULE_26__["LoginModule"],
            app_library_assets_library_assets_module__WEBPACK_IMPORTED_MODULE_36__["LibraryAssetsModule"],
            _assessment_charts_assessment_charts_module__WEBPACK_IMPORTED_MODULE_6__["AssessmentChartsModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ReportsModule, { declarations: [_report_viewer_report_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ReportViewerComponent"], _report_items_html_content_item_html_content_item_component__WEBPACK_IMPORTED_MODULE_3__["HtmlContentItemComponent"], _text_item_text_item_component__WEBPACK_IMPORTED_MODULE_4__["TextItemComponent"], _report_items_scale_results_sections_list_scale_results_sections_list_component__WEBPACK_IMPORTED_MODULE_5__["ScaleResultsSectionsListComponent"],
        _report_items_computed_scale_computed_scale_component__WEBPACK_IMPORTED_MODULE_8__["ComputedScaleComponent"], _report_items_addo_scale_results_addo_scale_results_component__WEBPACK_IMPORTED_MODULE_9__["AddoScaleResultsComponent"], _scale_summary_scale_summary_component__WEBPACK_IMPORTED_MODULE_11__["ScaleSummaryComponent"], _report_items_scale_results_summary_scale_results_summary_component__WEBPACK_IMPORTED_MODULE_12__["ScaleResultsSummaryComponent"],
        _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_13__["TherapistScaleResultsComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_14__["ScaleQuestionsListComponent"], _report_items_flagged_questions_list_flagged_questions_list_component__WEBPACK_IMPORTED_MODULE_15__["FlaggedQuestionsListComponent"],
        _pcl_summary_pcl_summary_component__WEBPACK_IMPORTED_MODULE_16__["PclSummaryComponent"], _scale_results_table_summary_scale_results_table_summary_component__WEBPACK_IMPORTED_MODULE_17__["ScaleResultsTableSummaryComponent"], _scale_range_content_scale_range_content_component__WEBPACK_IMPORTED_MODULE_19__["ScaleRangeContentComponent"],
        _report_items_pcl_assessment_results_pcl_assessment_results_component__WEBPACK_IMPORTED_MODULE_20__["PclAssessmentResultsComponent"], _pcl_criteria_icon_pcl_criteria_icon_component__WEBPACK_IMPORTED_MODULE_21__["PclCriteriaIconComponent"], _report_items_assessment_questions_list_assessment_questions_list_component__WEBPACK_IMPORTED_MODULE_23__["AssessmentQuestionsListComponent"], _print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_24__["PrintDialogComponent"],
        app_reports_assessment_result_view_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_25__["AssessmentResultViewComponent"], _scale_sub_list_scale_sub_list_component__WEBPACK_IMPORTED_MODULE_27__["ScaleSubListComponent"], _report_items_summary_section_graph_item_summary_section_graph_item_component__WEBPACK_IMPORTED_MODULE_28__["SummarySectionGraphItemComponent"],
        _client_assessment_result_view_client_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_29__["ClientAssessmentResultViewComponent"], _report_items_question_action_list_question_action_list_component__WEBPACK_IMPORTED_MODULE_31__["QuestionActionListComponent"], _report_items_client_scale_results_client_scale_results_component__WEBPACK_IMPORTED_MODULE_33__["ClientScaleResultsComponent"],
        _report_items_flagged_questions_list_simple_flagged_questions_list_simple_component__WEBPACK_IMPORTED_MODULE_34__["FlaggedQuestionsListSimpleComponent"], _asset_result_view_asset_result_view_component__WEBPACK_IMPORTED_MODULE_35__["AssetResultViewComponent"], _report_reviewer_container_report_viewer_container_component__WEBPACK_IMPORTED_MODULE_37__["ReportViewerContainerComponent"],
        _questionnaire_result_view_questionnaire_result_view_component__WEBPACK_IMPORTED_MODULE_38__["QuestionnaireResultViewComponent"], _peer_clinic_result_viewer_peer_clinic_result_viewer_component__WEBPACK_IMPORTED_MODULE_39__["PeerClinicResultViewerComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__["SharedModule"],
        _login_login_module__WEBPACK_IMPORTED_MODULE_26__["LoginModule"],
        app_library_assets_library_assets_module__WEBPACK_IMPORTED_MODULE_36__["LibraryAssetsModule"],
        _assessment_charts_assessment_charts_module__WEBPACK_IMPORTED_MODULE_6__["AssessmentChartsModule"]], exports: [_report_viewer_report_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ReportViewerComponent"], app_reports_assessment_result_view_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_25__["AssessmentResultViewComponent"], _asset_result_view_asset_result_view_component__WEBPACK_IMPORTED_MODULE_35__["AssetResultViewComponent"], _report_reviewer_container_report_viewer_container_component__WEBPACK_IMPORTED_MODULE_37__["ReportViewerContainerComponent"], _questionnaire_result_view_questionnaire_result_view_component__WEBPACK_IMPORTED_MODULE_38__["QuestionnaireResultViewComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ReportsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _shared_shared_module__WEBPACK_IMPORTED_MODULE_7__["SharedModule"],
                    _login_login_module__WEBPACK_IMPORTED_MODULE_26__["LoginModule"],
                    app_library_assets_library_assets_module__WEBPACK_IMPORTED_MODULE_36__["LibraryAssetsModule"],
                    _assessment_charts_assessment_charts_module__WEBPACK_IMPORTED_MODULE_6__["AssessmentChartsModule"]
                ],
                entryComponents: [_print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_24__["PrintDialogComponent"]],
                declarations: [_report_viewer_report_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ReportViewerComponent"], _report_items_html_content_item_html_content_item_component__WEBPACK_IMPORTED_MODULE_3__["HtmlContentItemComponent"], _text_item_text_item_component__WEBPACK_IMPORTED_MODULE_4__["TextItemComponent"], _report_items_scale_results_sections_list_scale_results_sections_list_component__WEBPACK_IMPORTED_MODULE_5__["ScaleResultsSectionsListComponent"],
                    _report_items_computed_scale_computed_scale_component__WEBPACK_IMPORTED_MODULE_8__["ComputedScaleComponent"], _report_items_addo_scale_results_addo_scale_results_component__WEBPACK_IMPORTED_MODULE_9__["AddoScaleResultsComponent"], _scale_summary_scale_summary_component__WEBPACK_IMPORTED_MODULE_11__["ScaleSummaryComponent"], _report_items_scale_results_summary_scale_results_summary_component__WEBPACK_IMPORTED_MODULE_12__["ScaleResultsSummaryComponent"],
                    _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_13__["TherapistScaleResultsComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_14__["ScaleQuestionsListComponent"], _report_items_flagged_questions_list_flagged_questions_list_component__WEBPACK_IMPORTED_MODULE_15__["FlaggedQuestionsListComponent"],
                    _pcl_summary_pcl_summary_component__WEBPACK_IMPORTED_MODULE_16__["PclSummaryComponent"], _scale_results_table_summary_scale_results_table_summary_component__WEBPACK_IMPORTED_MODULE_17__["ScaleResultsTableSummaryComponent"], _scale_range_content_scale_range_content_component__WEBPACK_IMPORTED_MODULE_19__["ScaleRangeContentComponent"],
                    _report_items_pcl_assessment_results_pcl_assessment_results_component__WEBPACK_IMPORTED_MODULE_20__["PclAssessmentResultsComponent"], _pcl_criteria_icon_pcl_criteria_icon_component__WEBPACK_IMPORTED_MODULE_21__["PclCriteriaIconComponent"], _report_items_assessment_questions_list_assessment_questions_list_component__WEBPACK_IMPORTED_MODULE_23__["AssessmentQuestionsListComponent"], _print_dialog_print_dialog_component__WEBPACK_IMPORTED_MODULE_24__["PrintDialogComponent"],
                    app_reports_assessment_result_view_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_25__["AssessmentResultViewComponent"], _scale_sub_list_scale_sub_list_component__WEBPACK_IMPORTED_MODULE_27__["ScaleSubListComponent"], _report_items_summary_section_graph_item_summary_section_graph_item_component__WEBPACK_IMPORTED_MODULE_28__["SummarySectionGraphItemComponent"],
                    _client_assessment_result_view_client_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_29__["ClientAssessmentResultViewComponent"], _report_items_question_action_list_question_action_list_component__WEBPACK_IMPORTED_MODULE_31__["QuestionActionListComponent"], _report_items_client_scale_results_client_scale_results_component__WEBPACK_IMPORTED_MODULE_33__["ClientScaleResultsComponent"],
                    _report_items_flagged_questions_list_simple_flagged_questions_list_simple_component__WEBPACK_IMPORTED_MODULE_34__["FlaggedQuestionsListSimpleComponent"], _asset_result_view_asset_result_view_component__WEBPACK_IMPORTED_MODULE_35__["AssetResultViewComponent"], _report_reviewer_container_report_viewer_container_component__WEBPACK_IMPORTED_MODULE_37__["ReportViewerContainerComponent"],
                    _questionnaire_result_view_questionnaire_result_view_component__WEBPACK_IMPORTED_MODULE_38__["QuestionnaireResultViewComponent"], _peer_clinic_result_viewer_peer_clinic_result_viewer_component__WEBPACK_IMPORTED_MODULE_39__["PeerClinicResultViewerComponent"]],
                exports: [_report_viewer_report_viewer_component__WEBPACK_IMPORTED_MODULE_2__["ReportViewerComponent"], app_reports_assessment_result_view_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_25__["AssessmentResultViewComponent"], _asset_result_view_asset_result_view_component__WEBPACK_IMPORTED_MODULE_35__["AssetResultViewComponent"], _report_reviewer_container_report_viewer_container_component__WEBPACK_IMPORTED_MODULE_37__["ReportViewerContainerComponent"], _questionnaire_result_view_questionnaire_result_view_component__WEBPACK_IMPORTED_MODULE_38__["QuestionnaireResultViewComponent"]],
                providers: [_services_report_service__WEBPACK_IMPORTED_MODULE_10__["ReportService"], _services_report_navigator_service__WEBPACK_IMPORTED_MODULE_18__["ReportNavigatorService"], _services_pcl_grader_service__WEBPACK_IMPORTED_MODULE_22__["PclGraderService"],
                    _client_assessment_result_view_client_assessment_result_view_component__WEBPACK_IMPORTED_MODULE_29__["ClientAssessmentResultViewComponent"], _services_question_action_service__WEBPACK_IMPORTED_MODULE_30__["QuestionActionService"], _services_scale_result_question_finder_service__WEBPACK_IMPORTED_MODULE_32__["ScaleResultQuestionFinderService"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "uXki":
/*!*********************************************************!*\
  !*** ./src/app/library-assets/library-assets.module.ts ***!
  \*********************************************************/
/*! exports provided: LibraryAssetsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LibraryAssetsModule", function() { return LibraryAssetsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/shared.module */ "PCNd");
/* harmony import */ var _article_article_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./article/article.component */ "Z6BE");
/* harmony import */ var _exercise_exercise_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./exercise/exercise.component */ "+MF4");
/* harmony import */ var _asset_picker_asset_picker_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./asset-picker/asset-picker.component */ "FVTP");
/* harmony import */ var _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./asset-list/asset-list.component */ "peLD");
/* harmony import */ var _exercise_list_exercise_list_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./exercise-list/exercise-list.component */ "ss6L");
/* harmony import */ var _admin_view_asset_admin_view_asset_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./admin-view-asset/admin-view-asset.component */ "yRcB");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_login_login_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! app/login/login.module */ "X3zk");
/* harmony import */ var _asset_new_asset_new_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./asset-new/asset-new.component */ "NW42");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */














class LibraryAssetsModule {
}
LibraryAssetsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: LibraryAssetsModule });
LibraryAssetsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function LibraryAssetsModule_Factory(t) { return new (t || LibraryAssetsModule)(); }, providers: [], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ReactiveFormsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_9__["RouterModule"],
            app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
            app_login_login_module__WEBPACK_IMPORTED_MODULE_10__["LoginModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](LibraryAssetsModule, { declarations: [_article_article_component__WEBPACK_IMPORTED_MODULE_3__["ArticleComponent"], _asset_picker_asset_picker_component__WEBPACK_IMPORTED_MODULE_5__["AssetPickerComponent"], _exercise_exercise_component__WEBPACK_IMPORTED_MODULE_4__["ExerciseComponent"], _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_6__["AssetListComponent"], _exercise_list_exercise_list_component__WEBPACK_IMPORTED_MODULE_7__["ExerciseListComponent"], _admin_view_asset_admin_view_asset_component__WEBPACK_IMPORTED_MODULE_8__["AdminViewAssetComponent"], _asset_new_asset_new_component__WEBPACK_IMPORTED_MODULE_11__["AssetNewComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ReactiveFormsModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_9__["RouterModule"],
        app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
        app_login_login_module__WEBPACK_IMPORTED_MODULE_10__["LoginModule"]], exports: [_article_article_component__WEBPACK_IMPORTED_MODULE_3__["ArticleComponent"], _asset_picker_asset_picker_component__WEBPACK_IMPORTED_MODULE_5__["AssetPickerComponent"], _exercise_exercise_component__WEBPACK_IMPORTED_MODULE_4__["ExerciseComponent"], _exercise_list_exercise_list_component__WEBPACK_IMPORTED_MODULE_7__["ExerciseListComponent"], _admin_view_asset_admin_view_asset_component__WEBPACK_IMPORTED_MODULE_8__["AdminViewAssetComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LibraryAssetsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_12__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_12__["ReactiveFormsModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_9__["RouterModule"],
                    app_shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
                    app_login_login_module__WEBPACK_IMPORTED_MODULE_10__["LoginModule"]
                ],
                declarations: [_article_article_component__WEBPACK_IMPORTED_MODULE_3__["ArticleComponent"], _asset_picker_asset_picker_component__WEBPACK_IMPORTED_MODULE_5__["AssetPickerComponent"], _exercise_exercise_component__WEBPACK_IMPORTED_MODULE_4__["ExerciseComponent"], _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_6__["AssetListComponent"], _exercise_list_exercise_list_component__WEBPACK_IMPORTED_MODULE_7__["ExerciseListComponent"], _admin_view_asset_admin_view_asset_component__WEBPACK_IMPORTED_MODULE_8__["AdminViewAssetComponent"], _asset_new_asset_new_component__WEBPACK_IMPORTED_MODULE_11__["AssetNewComponent"]],
                providers: [],
                exports: [_article_article_component__WEBPACK_IMPORTED_MODULE_3__["ArticleComponent"], _asset_picker_asset_picker_component__WEBPACK_IMPORTED_MODULE_5__["AssetPickerComponent"], _exercise_exercise_component__WEBPACK_IMPORTED_MODULE_4__["ExerciseComponent"], _exercise_list_exercise_list_component__WEBPACK_IMPORTED_MODULE_7__["ExerciseListComponent"], _admin_view_asset_admin_view_asset_component__WEBPACK_IMPORTED_MODULE_8__["AdminViewAssetComponent"]]
            }]
    }], null, null); })();


/***/ }),

/***/ "v9i2":
/*!*********************************************************************!*\
  !*** ./src/app/shared/buy-item-button/buy-item-button.component.ts ***!
  \*********************************************************************/
/*! exports provided: BuyItemButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BuyItemButtonComponent", function() { return BuyItemButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_shopping_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/shopping.service */ "GlpM");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








class BuyItemButtonComponent {
    constructor(shoppingService, alertService, router, activeRoute) {
        this.shoppingService = shoppingService;
        this.alertService = alertService;
        this.router = router;
        this.activeRoute = activeRoute;
        this.click = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() {
    }
    buyItem(event) {
        event.stopPropagation();
        event.preventDefault();
        // let listener's know we were clicked with our item.
        this.click.emit(this.item);
        let alert = this.alertService.info("Adding " + this.item + " to shopping cart");
        this.buying = true;
        let shoppingItem;
        if (this.item.uid) {
            shoppingItem = this.shoppingService.getItemForAssessment({ uid: this.item.uid });
        }
        else {
            shoppingItem = this.shoppingService.getItemForAssessmentGroup({ id: this.item.id, name: this.item.name });
        }
        shoppingItem.then(i => {
            this.alertService.clearAlert(alert);
            alert = null;
            i.quantity = 1; // make sure we have at least one item to add.
            return this.shoppingService.addItemToCart(i);
        })
            .then(() => {
            this.buying = false;
            this.shoppingService.startSingleCheckoutOrder(this.router.url);
            this.router.navigateByUrl('/admin/shop/checkout');
        })
            .catch(error => {
            this.buying = false;
            console.error(error);
            if (alert) {
                this.alertService.clearAlert(alert);
            }
            this.alertService.error("There was an error in attempting to purchase this item.  Please try again or contact support");
        });
    }
}
BuyItemButtonComponent.ɵfac = function BuyItemButtonComponent_Factory(t) { return new (t || BuyItemButtonComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_shopping_service__WEBPACK_IMPORTED_MODULE_1__["ShoppingService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"])); };
BuyItemButtonComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BuyItemButtonComponent, selectors: [["dac-buy-item-button"]], inputs: { item: "item" }, outputs: { click: "click" }, decls: 2, vars: 1, consts: [["alt", "Buy Tokens", "title", "Buy Tokens", 1, "badge", "badge-primary", "badge-pill", "btn", "btn-sm", "btn-primary", 3, "disabled", "click"]], template: function BuyItemButtonComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BuyItemButtonComponent_Template_button_click_0_listener($event) { return ctx.buyItem($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Buy");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx.buying);
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2J1eS1pdGVtLWJ1dHRvbi9idXktaXRlbS1idXR0b24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9idXktaXRlbS1idXR0b24vYnV5LWl0ZW0tYnV0dG9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BuyItemButtonComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-buy-item-button',
                templateUrl: './buy-item-button.component.html',
                styleUrls: ['./buy-item-button.component.scss']
            }]
    }], function () { return [{ type: _services_shopping_service__WEBPACK_IMPORTED_MODULE_1__["ShoppingService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }]; }, { item: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], click: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "vK7k":
/*!****************************************************************************************!*\
  !*** ./src/app/reports/report-reviewer-container/report-viewer-container.component.ts ***!
  \****************************************************************************************/
/*! exports provided: ReportViewerContainerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportViewerContainerComponent", function() { return ReportViewerContainerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_models_assessment_result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/models/assessment-result */ "TNk8");
/* harmony import */ var app_theme_services_nav_bar_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/theme/services/nav-bar.service */ "z37e");
/* harmony import */ var app_shared_models_assessment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/models/assessment */ "WWiz");
/* harmony import */ var app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/models/scale-result */ "+u/X");
/* harmony import */ var _report_items_html_content_item_html_content_item_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../report-items/html-content-item/html-content-item.component */ "owwM");
/* harmony import */ var _report_items_scale_results_sections_list_scale_results_sections_list_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../report-items/scale-results-sections-list/scale-results-sections-list.component */ "bm9c");
/* harmony import */ var _report_items_addo_scale_results_addo_scale_results_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../report-items/addo-scale-results/addo-scale-results.component */ "wh5b");
/* harmony import */ var _report_items_computed_scale_computed_scale_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../report-items/computed-scale/computed-scale.component */ "Tvhd");
/* harmony import */ var _report_items_scale_results_summary_scale_results_summary_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../report-items/scale-results-summary/scale-results-summary.component */ "THLo");
/* harmony import */ var _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../report-items/therapist-scale-results/therapist-scale-results.component */ "YEXO");
/* harmony import */ var _report_items_flagged_questions_list_flagged_questions_list_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../report-items/flagged-questions-list/flagged-questions-list.component */ "NEzX");
/* harmony import */ var _report_items_flagged_questions_list_simple_flagged_questions_list_simple_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../report-items/flagged-questions-list-simple/flagged-questions-list-simple.component */ "hdOu");
/* harmony import */ var _report_items_pcl_assessment_results_pcl_assessment_results_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../report-items/pcl-assessment-results/pcl-assessment-results.component */ "mTMX");
/* harmony import */ var _report_items_assessment_questions_list_assessment_questions_list_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../report-items/assessment-questions-list/assessment-questions-list.component */ "zuXg");
/* harmony import */ var _report_items_question_action_list_question_action_list_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../report-items/question-action-list/question-action-list.component */ "f4Y8");
/* harmony import */ var _report_items_client_scale_results_client_scale_results_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../report-items/client-scale-results/client-scale-results.component */ "A0yc");
/* harmony import */ var _text_item_text_item_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../text-item/text-item.component */ "W+8L");
/* harmony import */ var app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! app/shared/services/unique-id.service */ "rx/G");
/* harmony import */ var app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! app/shared/services/sso-cross-domain-messenger */ "hkrp");
/* harmony import */ var app_shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! app/shared/services/assessment-hydrator.service */ "RKwW");
/* harmony import */ var app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! app/shared/services/dac-config.service */ "OApS");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/common */ "ofXK");





























const _c0 = ["container"];
function ReportViewerContainerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h1", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.ReportName);
} }
/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class ReportViewerContainerComponent {
    constructor(resolver, navBarService, uniqueIdService, crossDomainMessenger, hydrator, elementRef, dacConfig) {
        this.resolver = resolver;
        this.navBarService = navBarService;
        this.uniqueIdService = uniqueIdService;
        this.crossDomainMessenger = crossDomainMessenger;
        this.hydrator = hydrator;
        this.elementRef = elementRef;
        this.dacConfig = dacConfig;
        this._reportItemClassNames = ["report-item-component"];
        this.componentItems = [];
        this.componentItemsById = new Map();
        this.hasLoadedResults = false;
    }
    ngAfterViewInit() {
        let reportVariables = this.report.variables || [];
        let reportComputedVariables = this.report.computedResults || [];
        let results = this.results;
        if (this.report.questionnaireMappings && this.report.linkedQuestionnaires) {
            this.results = this.processQuestionnaireMappings(this.report.questionnaireMappings, this.report.linkedQuestionnaires, this.results);
        }
        let processedResults = this.processReportComputations(reportComputedVariables, this.results);
        let variables = this.resolveVariables(reportVariables, processedResults, this.clientId);
        console.log("variables: ", variables);
        if (!this.report.items) {
            return; // nothing else to do here.
        }
        this.report.items.forEach((i) => {
            if (i.display === false) { // if we've disabled / hidden this item we want to skip over it.
                return;
            }
            let component = this.createComponent(i.type, i.data, processedResults, variables);
            let componentId = this.uniqueIdService.generate();
            this.componentItems.push(component);
            this.componentItemsById.set(componentId, component);
            this.addComponentToNavBar(i, componentId);
        });
        // console.log("Component item counts are: ", this.componentItems.length);
        Promise.all(this.componentItems.map(ci => {
            return ci.instance.itemLoaded().toPromise();
        })).then(items => {
            // fire off event on the dom
            // we need to let outside listeners like the server pdf generator know we have finished loading so we can generate the report
            console.log("adding dac-report-loaded class");
            document.body.classList.add("dac-report-loaded");
            // this.elementRef.nativeElement.dispatchEvent(new Event("dac-report-loaded", {bubbles:true}));
            this.hasLoadedResults = true;
            this.handleLoadedResize();
        })
            .catch((error) => {
            console.error(error);
            // console.log("dispatching dac-report-load-failed event");
            // this.elementRef.nativeElement.dispatchEvent(new Event("dac-report-load-failed", {bubbles:true}));
            this.hasLoadedResults = true;
        });
    }
    ngOnChanges(changes) {
        console.log("Changes detected");
    }
    ngOnDestroy() {
        this.navBarService.clearReportSidebar();
    }
    ngOnInit() {
        console.log("inside ngOnInit");
    }
    processQuestionnaireMappings(mappings, questionnaires, results) {
        return results;
    }
    handleLoadedResize() {
        let element = this.elementRef.nativeElement;
        let height = element.ownerDocument.body.scrollHeight;
        let width = element.ownerDocument.body.scrollWidth;
        this.crossDomainMessenger.sendMessage('dac.report-loaded', { height: height, width: width, reportId: this.report.id });
    }
    processReportComputations(computed_results, results) {
        if (!computed_results || !computed_results.length) {
            return results;
        }
        let newResults;
        newResults = computed_results.map(cs => {
            let result = new app_shared_models_assessment_result__WEBPACK_IMPORTED_MODULE_1__["AssessmentResult"]();
            // make the result and the assessment the same... then we can just refer to the assessment by the uid
            // and all our code works the same...
            result.id = cs.id;
            result.assessment = new app_shared_models_assessment__WEBPACK_IMPORTED_MODULE_3__["Assessment"]();
            result.assessment.uid = cs.id;
            result.assessment.description = cs.description;
            result.assessment.name = cs.name;
            result.scaleResults.push(this.createScaleResultFromComputation(cs, results));
            return result;
        });
        return results.concat(newResults);
    }
    createScaleResultFromComputation(computation, results) {
        let scaleResult = new app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_4__["ScaleResult"]();
        if (computation.scale) {
            scaleResult.scale = this.hydrator.hydrateScale(computation.scale);
        }
        // calculation, assessments
        if (computation.items) {
            computation.items.forEach(i => this.processCalculation(scaleResult, i, computation.calculation, results));
            console.log("score is ", scaleResult.score);
            scaleResult.range = scaleResult.scale.getRangeForScore(scaleResult.score);
            console.log("new range is ", scaleResult.range);
        }
        return scaleResult;
    }
    resolveVariables(variables, results, clientId) {
        let resolved = [];
        resolved = variables.map(v => {
            if (!v.type || !v.value) {
                return null;
            }
            var value = null;
            if (v.type == 'computed_scale_result') {
                return this.resolveComputedScale(v, results);
            }
            else if (v.type == 'scale_result') { // this is actually the range... not the scaleResult
                return this.resolveResultScale(v, results);
            }
            else if (v.type == 'scale') {
                return this.resolveScale(v, results);
            }
        }).filter(v => v != null);
        resolved.push({ id: "ClientToken", value: clientId });
        resolved.push({ id: "reportTitle", value: this.report.name });
        resolved.push({ id: "logoURL", value: this.dacConfig.applicationLogoUrl });
        resolved.push({ id: "reportHeaderImgURL", value: this.dacConfig.reportHeaderImgURL });
        return resolved;
    }
    resolveResultScale(variableData, results) {
        let result = results.find(r => r.assessment.uid == variableData.assessmentUid);
        return this.resolveVariableFromResult(variableData, result);
    }
    resolveScale(variableData, results) {
        let result = results.find(r => r.assessment.uid == variableData.assessmentUid);
        if (result) {
            let scaleResult = result.scaleResults.find(sr => sr.scale.id == variableData.scale);
            let value = scaleResult.scale[variableData.value];
            if (value) {
                return { id: variableData.id, value: value };
            }
        }
        return null;
    }
    resolveVariableFromResult(variableData, result) {
        if (result) {
            let scaleResult = result.scaleResults.find(sr => sr.scale.id == variableData.scale);
            let value;
            if (variableData.value == 'score') {
                value = scaleResult.score;
            }
            else if (variableData.value == 'scorePercentage') {
                value = scaleResult.scorePercentage;
            }
            else {
                value = scaleResult.range[variableData.value];
            }
            if (value) {
                return { id: variableData.id, value: value };
            }
        }
        return null;
    }
    resolveComputedScale(variableData, results) {
        let result = results.find(r => r.id == variableData.computedResultId);
        return this.resolveVariableFromResult(variableData, result);
    }
    processCalculation(scaleResult, item, calculation, results) {
        let result = results.find(r => r.assessment.uid == item.assessmentUid);
        let processScaleResult = result ? result.scaleResults.find(sr => sr.scale.id == item.scaleId) : null;
        if (!(result && processScaleResult)) {
            return;
        }
        if (calculation === "SUM") {
            scaleResult.score += processScaleResult.score;
        }
    }
    createComponent(type, data, results, variables) {
        let component = this.getComponentFromType(type);
        let factory = this.resolver.resolveComponentFactory(component);
        let componentRef = this.container.createComponent(factory);
        let reportItemComponent = componentRef.instance;
        reportItemComponent.setReportData(data, results, variables);
        // add the specific classes for report items here
        if (componentRef.location && componentRef.location.nativeElement) {
            let reportItemClassNames = reportItemComponent.getHTMLClassNames() || [];
            let classNameString = this._reportItemClassNames.concat(reportItemClassNames).join(" ");
            let el = componentRef.location.nativeElement;
            el.className = classNameString;
        }
        return componentRef;
    }
    goToNavItem(item) {
        // TODO: stephen use the navigator service instead of this one.
        if (!this.componentItemsById.has(item.id)) {
            console.error("tried to navigate to missing component with item id " + item.id);
            return;
        }
        let component = this.componentItemsById.get(item.id);
        let element = component.location.nativeElement;
        if (element) {
            // TODO: stephen change out this hack to accomodate the fixed navbar at the top.
            let navBar = document.querySelector("#dac-navbar");
            let navBarHeight = 0;
            if (!navBar) {
                console.error("Failed to find dac-navbar element in DOM.  Cannot include height into navbar calculations");
            }
            else {
                navBarHeight = navBar.clientHeight;
            }
            // adapted from https://stackoverflow.com/a/13857312
            element.scrollIntoView(true);
            var scrolledY = window.scrollY;
            if (scrolledY) {
                window.scroll(0, scrolledY - navBarHeight);
            }
        }
    }
    addComponentToNavBar(data, componentId) {
        if (data.title && componentId) {
            this.navBarService.addReportNavBarItem(componentId, data.title);
            // let hasIcon = false;
            // let iconClasses = data.titleIconClasses;
            // if (iconClasses) {
            //   hasIcon = true;
            // }
            // this.menuItems.push({id: componentId, name: data.title, hasIcon:hasIcon, iconClasses:iconClasses});
        }
    }
    getComponentFromType(type) {
        var component = null;
        switch (type) {
            case 'HTMLContentItem':
                {
                    component = _report_items_html_content_item_html_content_item_component__WEBPACK_IMPORTED_MODULE_5__["HtmlContentItemComponent"];
                }
                break;
            case 'ScaleResultsSectionsList':
                {
                    component = _report_items_scale_results_sections_list_scale_results_sections_list_component__WEBPACK_IMPORTED_MODULE_6__["ScaleResultsSectionsListComponent"];
                }
                break;
            case 'AddoScaleResults':
                {
                    component = _report_items_addo_scale_results_addo_scale_results_component__WEBPACK_IMPORTED_MODULE_7__["AddoScaleResultsComponent"];
                }
                break;
            case 'ComputedScale':
                {
                    component = _report_items_computed_scale_computed_scale_component__WEBPACK_IMPORTED_MODULE_8__["ComputedScaleComponent"];
                }
                break;
            case 'ScaleResultsSummary':
                {
                    component = _report_items_scale_results_summary_scale_results_summary_component__WEBPACK_IMPORTED_MODULE_9__["ScaleResultsSummaryComponent"];
                }
                break;
            case 'TherapistScaleResults':
                {
                    component = _report_items_therapist_scale_results_therapist_scale_results_component__WEBPACK_IMPORTED_MODULE_10__["TherapistScaleResultsComponent"];
                }
                break;
            case 'FlaggedQuestionsList':
                {
                    component = _report_items_flagged_questions_list_flagged_questions_list_component__WEBPACK_IMPORTED_MODULE_11__["FlaggedQuestionsListComponent"];
                }
                break;
            case 'FlaggedQuestionsListSimple':
                {
                    component = _report_items_flagged_questions_list_simple_flagged_questions_list_simple_component__WEBPACK_IMPORTED_MODULE_12__["FlaggedQuestionsListSimpleComponent"];
                }
                break;
            case 'PclAssessmentResults':
                {
                    component = _report_items_pcl_assessment_results_pcl_assessment_results_component__WEBPACK_IMPORTED_MODULE_13__["PclAssessmentResultsComponent"];
                }
                break;
            case 'AssessmentQuestionsList':
                {
                    component = _report_items_assessment_questions_list_assessment_questions_list_component__WEBPACK_IMPORTED_MODULE_14__["AssessmentQuestionsListComponent"];
                }
                break;
            case 'QuestionActionList':
                {
                    component = _report_items_question_action_list_question_action_list_component__WEBPACK_IMPORTED_MODULE_15__["QuestionActionListComponent"];
                }
                break;
            case 'ClientScaleResults':
                {
                    component = _report_items_client_scale_results_client_scale_results_component__WEBPACK_IMPORTED_MODULE_16__["ClientScaleResultsComponent"];
                }
                break;
            default:
                {
                    component = _text_item_text_item_component__WEBPACK_IMPORTED_MODULE_17__["TextItemComponent"];
                }
                break;
        }
        return component;
    }
}
ReportViewerContainerComponent.ɵfac = function ReportViewerContainerComponent_Factory(t) { return new (t || ReportViewerContainerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_theme_services_nav_bar_service__WEBPACK_IMPORTED_MODULE_2__["NavBarService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_18__["UniqueIdService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_19__["SsoCrossDomainMessenger"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_20__["AssessmentHydrator"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_21__["DacConfig"])); };
ReportViewerContainerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ReportViewerContainerComponent, selectors: [["dac-report-viewer-container"]], viewQuery: function ReportViewerContainerComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]);
    } if (rf & 2) {
        var _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.container = _t.first);
    } }, hostAttrs: [1, "containerReference"], inputs: { results: "results", questionnaireResults: "questionnaireResults", report: "report", clientId: "clientId", showTitle: "showTitle" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 1, consts: [["class", "row report-controls", 4, "ngIf"], ["container", ""], [1, "row", "report-controls"], [1, "col-12", "text-center"], [1, "h1-responsive", "report-name", "text-center"]], template: function ReportViewerContainerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ReportViewerContainerComponent_div_0_Template, 4, 1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](1, null, 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showTitle);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_22__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ReportViewerContainerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-report-viewer-container',
                templateUrl: './report-viewer-container.component.html',
                host: { 'class': 'containerReference' }
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }, { type: app_theme_services_nav_bar_service__WEBPACK_IMPORTED_MODULE_2__["NavBarService"] }, { type: app_shared_services_unique_id_service__WEBPACK_IMPORTED_MODULE_18__["UniqueIdService"] }, { type: app_shared_services_sso_cross_domain_messenger__WEBPACK_IMPORTED_MODULE_19__["SsoCrossDomainMessenger"] }, { type: app_shared_services_assessment_hydrator_service__WEBPACK_IMPORTED_MODULE_20__["AssessmentHydrator"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: app_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_21__["DacConfig"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["results"]
        }], questionnaireResults: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["questionnaireResults"]
        }], report: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["report"]
        }], clientId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["clientId"]
        }], showTitle: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["showTitle"]
        }], container: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["container", { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]
        }] }); })();


/***/ }),

/***/ "vPvb":
/*!*************************************************!*\
  !*** ./src/app/shared/services/pako.service.ts ***!
  \*************************************************/
/*! exports provided: Pako */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pako", function() { return Pako; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class Pako {
    constructor() {
        if (window['pako']) {
            this._pako = window['pako'];
        }
    }
    gzip(data) {
        if (this._pako) {
            return this._pako.gzip(data);
        }
        throw new Error("Pako service not available");
    }
}


/***/ }),

/***/ "vY5A":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _theme_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./theme/page-not-found/page-not-found.component */ "wXBi");
/* harmony import */ var _login_services_auth_guard_login_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./login/services/auth-guard-login.service */ "H8G6");
/* harmony import */ var _theme_standalone_container_standalone_container_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme/standalone-container/standalone-container.component */ "5Pnx");
/* harmony import */ var _login_services_admin_guard_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./login/services/admin-guard.service */ "xVLz");
/* harmony import */ var _theme_admin_login_page_admin_login_page_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./theme/admin-login-page/admin-login-page.component */ "iWIr");
/* harmony import */ var _theme_admin_login_finalize_page_admin_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./theme/admin-login-finalize-page/admin-login-finalize-page.component */ "e30I");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */











const routes = [
    { path: '',
        redirectTo: '/login',
        pathMatch: 'full'
        // component: PageNotFoundComponent, // never used as our AuthGuardLogin will redirect based on the SMART app configuration
        // this is a dummy guard that we just use to redirect based on login state to admin or assessments
    },
    // { path: 'help', redirectTo: '/home/help', pathMatch: 'full' },
    // { path: 'baa', redirectTo: '/home/baa', pathMatch: 'full' },
    // { path: 'privacy', redirectTo: '/home/privacy', pathMatch: 'full' },
    // { path: 'terms-and-conditions', redirectTo: '/home/terms-and-conditions', pathMatch: 'full' },
    // { path: 'home', 'loadChildren': () => import('./home/home.module').then(m => m.HomeModule)},
    { path: 'ehr', data: { 'modulePath': '/ehr' }, 'loadChildren': () => __webpack_require__.e(/*! import() | ehr-ehr-module */ "ehr-ehr-module").then(__webpack_require__.bind(null, /*! ./ehr/ehr.module */ "hVix")).then(m => m.EhrModule) },
    { path: 'std', component: _theme_standalone_container_standalone_container_component__WEBPACK_IMPORTED_MODULE_5__["StandaloneContainerComponent"], children: [
            { path: 'admin', canActivate: [_login_services_admin_guard_service__WEBPACK_IMPORTED_MODULE_6__["AdminGuard"]], data: { 'modulePath': '/std/admin' }, 'loadChildren': () => __webpack_require__.e(/*! import() | admin-admin-module */ "admin-admin-module").then(__webpack_require__.bind(null, /*! ./admin/admin.module */ "jkDv")).then(m => m.AdminModule) },
            { path: 'assessments', canActivate: [_login_services_auth_guard_login_service__WEBPACK_IMPORTED_MODULE_4__["AuthGuardLogin"]], data: { 'modulePath': '/std/assessments' }, 'loadChildren': () => __webpack_require__.e(/*! import() | assessments-assessments-module */ "assessments-assessments-module").then(__webpack_require__.bind(null, /*! ./assessments/assessments.module */ "Xlft")).then(m => m.AssessmentsModule) },
        ] },
    { path: 'login', component: _theme_admin_login_page_admin_login_page_component__WEBPACK_IMPORTED_MODULE_7__["AdminLoginPageComponent"] },
    { path: 'loginFinalize', component: _theme_admin_login_finalize_page_admin_login_finalize_page_component__WEBPACK_IMPORTED_MODULE_8__["AdminLoginFinalizePageComponent"] },
    { path: 'logout', redirectTo: '/login', pathMatch: 'full' },
    { path: '**', component: _theme_page_not_found_page_not_found_component__WEBPACK_IMPORTED_MODULE_3__["PageNotFoundComponent"] }
];
class AppRoutingModule {
}
AppRoutingModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AppRoutingModule });
AppRoutingModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AppRoutingModule_Factory(t) { return new (t || AppRoutingModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes, { enableTracing: false })
        ], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AppRoutingModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppRoutingModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes, { enableTracing: false })
                ],
                exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
                declarations: []
            }]
    }], null, null); })();


/***/ }),

/***/ "vfgt":
/*!*******************************************************!*\
  !*** ./src/app/companies/companies-routing.module.ts ***!
  \*******************************************************/
/*! exports provided: CompaniesRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CompaniesRoutingModule", function() { return CompaniesRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _signup_signup_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signup/signup.component */ "35sD");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */





const companyRoutes = [
    { path: 'register', children: [
            { path: '', component: _signup_signup_component__WEBPACK_IMPORTED_MODULE_2__["SignupComponent"] }
        ] }
];
class CompaniesRoutingModule {
}
CompaniesRoutingModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: CompaniesRoutingModule });
CompaniesRoutingModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function CompaniesRoutingModule_Factory(t) { return new (t || CompaniesRoutingModule)(); }, imports: [[
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(companyRoutes)
        ], _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](CompaniesRoutingModule, { imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]], exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CompaniesRoutingModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(companyRoutes)
                ],
                exports: [
                    _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "vvbQ":
/*!**********************************************************!*\
  !*** ./src/app/shared/models/AssignedTemplateProfile.ts ***!
  \**********************************************************/
/*! exports provided: AssignedTemplateProfile */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignedTemplateProfile", function() { return AssignedTemplateProfile; });
/* harmony import */ var _Assignment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Assignment */ "Xehb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */

class AssignedTemplateProfile extends _Assignment__WEBPACK_IMPORTED_MODULE_0__["Assignment"] {
    constructor() {
        super();
        this.Type = "TemplateProfile";
    }
    get ProfileId() {
        return this.profileId;
    }
    set ProfileId(v) {
        this.profileId = v;
    }
    getQuestionnaireItems() {
        return this.Items.filter(i => i.Type == "Questionnaire" || i.Type == "ExternalQuestionnaire")
            .map(i => i);
    }
    get Name() {
        return this.name;
    }
    set Name(v) {
        this.name = v;
    }
    get isGroup() {
        return true;
    }
}


/***/ }),

/***/ "w0ua":
/*!******************************************************!*\
  !*** ./src/app/login/services/auth-guard.service.ts ***!
  \******************************************************/
/*! exports provided: AuthGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuard", function() { return AuthGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth.service */ "6Hrc");
/* harmony import */ var app_shared_models_role__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/models/role */ "Y5fV");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







class AuthGuard {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    canActivate(route, state) {
        return this.authService.getCurrentUser()
            .then(user => {
            if (user && user.role === app_shared_models_role__WEBPACK_IMPORTED_MODULE_3__["Role"].Client) {
                return true;
            }
            else {
                let prefix = route.data['modulePath'] || '';
                this.router.navigate([prefix + '/login'], {
                    queryParams: {
                        return: state.url
                    }
                });
                return false;
            }
        }).catch(error => {
            let prefix = route.data['modulePath'] || '';
            this.router.navigate([prefix + '/login'], {
                queryParams: {
                    return: state.url
                }
            });
            return false;
        });
    }
    canActivateChild(route, state) {
        return this.canActivate(route, state);
    }
}
AuthGuard.ɵfac = function AuthGuard_Factory(t) { return new (t || AuthGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"])); };
AuthGuard.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuthGuard, factory: AuthGuard.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuthGuard, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }]; }, null); })();


/***/ }),

/***/ "wEdZ":
/*!*******************************************!*\
  !*** ./src/app/shared/models/question.ts ***!
  \*******************************************/
/*! exports provided: Question */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Question", function() { return Question; });
class Question {
    constructor() {
        this.id = null;
        this.prompt = "";
        this.display_order = 0;
        this.is_reversed = false;
        this.assessment_scale = null;
        this.skip_scoring = false;
        this._display_index = 0;
        this._flaggedCondition = null;
        this.isFlaggedForReview = false;
        this._computedScore = null;
    }
    get type() {
        return this._type;
    }
    set type(v) {
        this._type = v;
    }
    get display_index() {
        return this._display_index;
    }
    set display_index(v) {
        this._display_index = v;
    }
    get id() {
        return this._id;
    }
    set id(v) {
        this._id = v;
    }
    get prompt() {
        return this._prompt;
    }
    set prompt(v) {
        this._prompt = v;
    }
    get display_order() {
        return this._display_order;
    }
    set display_order(v) {
        this._display_order = v;
    }
    get is_reversed() {
        return this._is_reversed;
    }
    set is_reversed(v) {
        this._is_reversed = v;
    }
    get skip_scoring() {
        return this._skip_scoring;
    }
    set skip_scoring(v) {
        this._skip_scoring = v;
    }
    get assessment_scale() {
        return this._scale;
    }
    set assessment_scale(v) {
        this._scale = v;
    }
    get scale() {
        return this._scale;
    }
    set scale(v) {
        this._scale = v;
    }
    get hasFlagCondition() {
        return this._flaggedCondition != null;
    }
    get flaggedCondition() {
        return this._flaggedCondition;
    }
    set flaggedCondition(value) {
        this._flaggedCondition = value;
    }
    setComputedScore(v) {
        this._computedScore = v;
    }
    getComputedScore() {
        return this._computedScore;
    }
    get isFlaggedForReview() {
        return this._is_flagged;
    }
    set isFlaggedForReview(v) {
        this._is_flagged = v;
    }
}


/***/ }),

/***/ "wHro":
/*!***************************************************************!*\
  !*** ./src/app/shared/billing-card/billing-card.component.ts ***!
  \***************************************************************/
/*! exports provided: BillingCardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BillingCardComponent", function() { return BillingCardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_billing_card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/billing-card */ "x9vr");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */



class BillingCardComponent {
    constructor() { }
    ngOnInit() {
    }
}
BillingCardComponent.ɵfac = function BillingCardComponent_Factory(t) { return new (t || BillingCardComponent)(); };
BillingCardComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BillingCardComponent, selectors: [["dac-billing-card"]], inputs: { card: "card" }, decls: 1, vars: 2, template: function BillingCardComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", ctx.card.brand, " XXXX-XXXX-XXXX-XXXX-", ctx.card.last4, "");
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2JpbGxpbmctY2FyZC9iaWxsaW5nLWNhcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQSIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC9iaWxsaW5nLWNhcmQvYmlsbGluZy1jYXJkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIyIERpc2NvdmVyIGFuZCBDaGFuZ2UgQGF1dGhvciBTdGVwaGVuIE5pZWxzb24gPHNuaWVsc29uQGRpc2NvdmVyYW5kY2hhbmdlLmNvbT5cbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgRm9yIExpY2Vuc2UgaW5mb3JtYXRpb24gc2VlIExJQ0VOU0UubWQgaW4gdGhlIHJvb3QgZm9sZGVyIG9mIHRoaXMgcHJvamVjdC5cbiAqL1xuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BillingCardComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-billing-card',
                templateUrl: './billing-card.component.html',
                styleUrls: ['./billing-card.component.scss']
            }]
    }], function () { return []; }, { card: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "wXBi":
/*!******************************************************************!*\
  !*** ./src/app/theme/page-not-found/page-not-found.component.ts ***!
  \******************************************************************/
/*! exports provided: PageNotFoundComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PageNotFoundComponent", function() { return PageNotFoundComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class PageNotFoundComponent {
    constructor() { }
    ngOnInit() {
    }
}
PageNotFoundComponent.ɵfac = function PageNotFoundComponent_Factory(t) { return new (t || PageNotFoundComponent)(); };
PageNotFoundComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PageNotFoundComponent, selectors: [["app-page-not-found"]], decls: 5, vars: 0, consts: [[1, "container", "pt-5", "pb-5"], [1, "row"], [1, "col"]], template: function PageNotFoundComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "404: Page not found");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RoZW1lL3BhZ2Utbm90LWZvdW5kL3BhZ2Utbm90LWZvdW5kLmNvbXBvbmVudC5jc3MifQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PageNotFoundComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-page-not-found',
                templateUrl: './page-not-found.component.html',
                styleUrls: ['./page-not-found.component.css']
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "wa/n":
/*!*****************************************!*\
  !*** ./src/app/shared/models/client.ts ***!
  \*****************************************/
/*! exports provided: Client */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Client", function() { return Client; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class Client {
    constructor() {
        this.id = "";
        this.customField1 = "";
    }
    getDisplayId() {
        if (this.customField1) {
            return this.customField1;
        }
        else {
            return this.id;
        }
    }
}


/***/ }),

/***/ "wh5b":
/*!*****************************************************************************************!*\
  !*** ./src/app/reports/report-items/addo-scale-results/addo-scale-results.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: AddoScaleResultsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddoScaleResultsComponent", function() { return AddoScaleResultsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _scale_results_sections_list_scale_results_sections_list_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scale-results-sections-list/scale-results-sections-list.component */ "bm9c");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../assessment-charts/scale-chart/scale-chart.component */ "GzvG");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");






function AddoScaleResultsComponent_h3_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h3", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.AssessmentResult == null ? null : ctx_r0.AssessmentResult.assessment.creator);
} }
function AddoScaleResultsComponent_h6_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h6", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.AssessmentResult == null ? null : ctx_r1.AssessmentResult.assessment.creatorUrl);
} }
function AddoScaleResultsComponent_div_9_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-scale-chart", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scale-result", ctx_r4.SingleScaleResult)("show-scale-name", false);
} }
function AddoScaleResultsComponent_div_9_div_11_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 21);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r7.SingleScaleResult == null ? null : ctx_r7.SingleScaleResult.range == null ? null : ctx_r7.SingleScaleResult.range.clientContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function AddoScaleResultsComponent_div_9_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, AddoScaleResultsComponent_div_9_div_11_div_1_Template, 1, 1, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.SingleScaleResult == null ? null : ctx_r5.SingleScaleResult.range == null ? null : ctx_r5.SingleScaleResult.range.clientContent);
} }
function AddoScaleResultsComponent_div_9_div_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-scale-questions-list", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", ctx_r6.AssessmentResult.assessment.getQuestionsForScale(ctx_r6.SingleScaleResult.scale));
} }
function AddoScaleResultsComponent_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Results");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "h4", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "YOUR CATEGORY: ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, AddoScaleResultsComponent_div_9_div_10_Template, 2, 2, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, AddoScaleResultsComponent_div_9_div_11_Template, 2, 1, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, AddoScaleResultsComponent_div_9_div_12_Template, 2, 1, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.SingleScaleResult.range == null ? null : ctx_r2.SingleScaleResult.range.displayName);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.SkipGraph);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.SkipContent);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r2.SkipTable);
} }
function AddoScaleResultsComponent_div_10_div_5_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 33);
} if (rf & 2) {
    const scaleResult_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", scaleResult_r9 == null ? null : scaleResult_r9.range == null ? null : scaleResult_r9.range.clientContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function AddoScaleResultsComponent_div_10_div_5_div_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-scale-chart", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("show-ranges", false)("scale-result", scaleResult_r9)("show-scale-name", false);
} }
function AddoScaleResultsComponent_div_10_div_5_div_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "app-scale-questions-list", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", ctx_r13.AssessmentResult.assessment.getQuestionsForScale(scaleResult_r9.scale));
} }
const _c0 = function (a0, a1) { return { "d-print-block": a0, "d-none": a1 }; };
function AddoScaleResultsComponent_div_10_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Results Continued...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "h3", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, AddoScaleResultsComponent_div_10_div_5_div_8_Template, 1, 1, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "h4", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, "YOUR CATEGORY");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "h5", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, AddoScaleResultsComponent_div_10_div_5_div_16_Template, 2, 3, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, AddoScaleResultsComponent_div_10_div_5_div_17_Template, 2, 1, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scaleResult_r9 = ctx.$implicit;
    const index_r10 = ctx.index;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](6, _c0, ctx_r8.showPageHeader(index_r10), !ctx_r8.showPageHeader(index_r10)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](scaleResult_r9.scale == null ? null : scaleResult_r9.scale.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (scaleResult_r9 == null ? null : scaleResult_r9.range == null ? null : scaleResult_r9.range.clientContent) && !ctx_r8.SkipContent);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](scaleResult_r9.range == null ? null : scaleResult_r9.range.displayName);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r8.SkipGraph);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r8.SkipTable);
} }
function AddoScaleResultsComponent_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Results");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, AddoScaleResultsComponent_div_10_div_5_Template, 18, 9, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r3.ScaleResults);
} }
class AddoScaleResultsComponent extends _scale_results_sections_list_scale_results_sections_list_component__WEBPACK_IMPORTED_MODULE_1__["ScaleResultsSectionsListComponent"] {
    constructor() {
        super();
        this._pageBreaks = [];
        this._skipTable = false;
        this._skipContent = false;
        this._skipGraph = false;
    }
    ngOnInit() {
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    get SkipContent() {
        return this._skipContent;
    }
    get SkipGraph() {
        return this._skipGraph;
    }
    get SkipTable() {
        return this._skipTable;
    }
    getHTMLClassNames() {
        return ["scale-results", "report-item-component", "flex-column"];
    }
    setReportData(data, results, variables) {
        super.setReportData(data, results, variables);
        if (data && data.scales_per_page) {
            this._scales_per_page = +data.scales_per_page;
        }
        else if (this.ScaleResults) {
            // this makes it so we never force a page break here.
            this._scales_per_page = this.ScaleResults.length + 1;
        }
        else {
            console.error("No scales found for component");
            this._scales_per_page = 0;
        }
        if (data.pageBreaks && data.pageBreaks.length > 0) {
            this._pageBreaks = data.pageBreaks.map(pb => +pb).filter(pb => !isNaN(pb));
        }
        else {
            this._pageBreaks = [];
        }
        if (data) {
            this._skipTable = data.skipTable == true;
            this._skipGraph = data.skipGraph == true;
            this._skipContent = data.skipContent == true;
        }
    }
    // shouldPrintBreak(0), showPageHeader(0), scales_per_page = 2
    // index=0: false, false -> should be false, false
    // index=1: true, true  -> should be true, false
    // index=2: false, false -> should be false, true
    // shouldPrintBreak(0), showPageHeader(0), scales_per_page = 2, scales_per_page=3
    // index=0: false, false => should be false, false
    // index=1: false, false => should be false, false
    // index=2: true, true, should be true, false
    // index=3: false, false -> should be false, true
    showPageHeader(index) {
        if (index == 0) {
            return false;
        }
        if (this._pageBreaks && this._pageBreaks.length > 0) {
            return this._pageBreaks.indexOf(index) >= 0;
        }
        // since index is 0 based the the user scales per page is 1 based we convert.
        let pageBreakIndex = (index + 1) - this._scales_per_page;
        if (index < 0) {
            return false;
        }
        else if (index % this._scales_per_page == 0) {
            return true;
        }
        else {
            return false;
        }
    }
    get ScalesPerPage() {
        return this._scales_per_page;
    }
    get IsSingleScaleResult() {
        let isSingle = this.ScaleResults && this.ScaleResults.length == 1;
        return isSingle;
    }
    get SingleScaleResult() {
        if (this.ScaleResults && this.ScaleResults[0]) {
            return this.ScaleResults[0];
        }
        return null;
    }
}
AddoScaleResultsComponent.ɵfac = function AddoScaleResultsComponent_Factory(t) { return new (t || AddoScaleResultsComponent)(); };
AddoScaleResultsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AddoScaleResultsComponent, selectors: [["app-addo-scale-results"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 11, vars: 6, consts: [[1, "card", "card-wider", "card-cascade", "mb-3", "force-page-break"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body", "assessment-overview"], [1, "page-block-center"], ["class", "ml-0 pl-0 h3-responsive", 4, "ngIf"], ["class", "h6-responsive", 4, "ngIf"], [3, "innerHTML"], ["class", "card card-wider card-cascade", 4, "ngIf"], [1, "ml-0", "pl-0", "h3-responsive"], [1, "h6-responsive"], [1, "card", "card-wider", "card-cascade"], [1, "card-body", "assessment-scale-result", "single-scale"], [1, "row", "justify-content-center", "text-center"], [1, "col-8", "h4-responsive"], [1, "scale-name"], ["class", "row justify-content-center text-center", 4, "ngIf"], ["class", "row", 4, "ngIf"], [1, "col-8", 3, "scale-result", "show-scale-name"], [1, "row"], ["class", "col", 3, "innerHTML", 4, "ngIf"], [1, "col", 3, "innerHTML"], [1, "col-12", 3, "Questions"], [1, "card-body", "assessment-scale-result", "no-gutter"], [4, "ngFor", "ngForOf"], [1, "scalePageHeader", "view", "gradient-card-header", "primary-gradient", "text-light", "mt-2", 3, "ngClass"], [1, "row", "no-gutter"], [1, "col", "h3-responsive"], ["class", "col-7 col-md-5", 3, "innerHTML", 4, "ngIf"], [1, "col-5", "ml-auto", "text-center"], [1, "row", "pl-5"], [1, "h4-responsive", "col-10", "ml-auto", "mr-auto"], [1, "h5-responsive", "scale-name", "col-10", "ml-auto", "mr-auto"], [1, "col-7", "col-md-5", 3, "innerHTML"], [1, "col", 3, "show-ranges", "scale-result", "show-scale-name"]], template: function AddoScaleResultsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AddoScaleResultsComponent_h3_6_Template, 2, 1, "h3", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, AddoScaleResultsComponent_h6_7_Template, 2, 1, "h6", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, AddoScaleResultsComponent_div_9_Template, 13, 4, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, AddoScaleResultsComponent_div_10_Template, 6, 1, "div", 8);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.name);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.creator);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.creatorUrl);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx.AssessmentResult == null ? null : ctx.AssessmentResult.assessment.description, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.IsSingleScaleResult);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.IsSingleScaleResult);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _assessment_charts_scale_chart_scale_chart_component__WEBPACK_IMPORTED_MODULE_3__["ScaleChartComponent"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_4__["ScaleQuestionsListComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AddoScaleResultsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-addo-scale-results',
                templateUrl: './addo-scale-results.component.html'
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "x9rJ":
/*!**************************************************************************************!*\
  !*** ./src/app/assessment-charts/scale-chart-legend/scale-chart-legend.component.ts ***!
  \**************************************************************************************/
/*! exports provided: ScaleChartLegendComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleChartLegendComponent", function() { return ScaleChartLegendComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/assessment-charts/models/chart-color */ "iwQx");
/* harmony import */ var app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/assessment-charts/services/scale-result-color.service */ "s1ev");
/* harmony import */ var app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/models/scale-result */ "+u/X");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _legend_color_icon_legend_color_icon_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../legend-color-icon/legend-color-icon.component */ "8T2e");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








function ScaleChartLegendComponent_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "legend-color-icon", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const color_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](color_r1.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("color", color_r1.color);
} }
class ScaleRangeChartColor {
    constructor(range, color) {
        this.range = range;
        this.color = color;
    }
}
class ScaleChartLegendComponent {
    constructor(scaleResultColorService) {
        this.scaleResultColorService = scaleResultColorService;
    }
    ngOnInit() {
        if (this.scaleResult) {
        }
        let colors = this.scaleResultColorService.getBackgroundColors(this.rangeSize);
        if (this.severityLabels && this.severityLabels.length == colors.length) {
            colors = colors.map((r, index) => {
                return new app_assessment_charts_models_chart_color__WEBPACK_IMPORTED_MODULE_1__["ChartColor"](this.severityLabels[index], r.color);
            });
        }
        this._chartColors = colors;
    }
    get chartColors() {
        return this._chartColors;
    }
    set chartColors(value) {
        this._chartColors = value;
    }
}
ScaleChartLegendComponent.ɵfac = function ScaleChartLegendComponent_Factory(t) { return new (t || ScaleChartLegendComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_2__["ScaleResultColorService"])); };
ScaleChartLegendComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleChartLegendComponent, selectors: [["scale-chart-legend"]], inputs: { rangeSize: "rangeSize", scaleResult: "scaleResult", severityLabels: "severityLabels" }, decls: 6, vars: 1, consts: [[1, "card", "card-cascade", "wider"], [1, "view", "gradient-card-header", "secondary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], ["class", "row", 4, "ngFor", "ngForOf"], [1, "row"], [1, "name", "col-8"], [1, "color", "col-4", 3, "color"]], template: function ScaleChartLegendComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "Severity Legend");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, ScaleChartLegendComponent_div_5_Template, 4, 2, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.chartColors);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _legend_color_icon_legend_color_icon_component__WEBPACK_IMPORTED_MODULE_5__["LegendColorIconComponent"]], styles: ["[_nghost-%COMP%]   .color[_ngcontent-%COMP%] {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    content: \" \";\n    overflow: hidden;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXNzZXNzbWVudC1jaGFydHMvc2NhbGUtY2hhcnQtbGVnZW5kL3NjYWxlLWNoYXJ0LWxlZ2VuZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kscUJBQXFCO0lBQ3JCLFdBQVc7SUFDWCxZQUFZO0lBQ1osWUFBWTtJQUNaLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL2Fzc2Vzc21lbnQtY2hhcnRzL3NjYWxlLWNoYXJ0LWxlZ2VuZC9zY2FsZS1jaGFydC1sZWdlbmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IC5jb2xvciB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHdpZHRoOiAyMHB4O1xuICAgIGhlaWdodDogMjBweDtcbiAgICBjb250ZW50OiBcIiBcIjtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleChartLegendComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'scale-chart-legend',
                templateUrl: './scale-chart-legend.component.html',
                styleUrls: ['./scale-chart-legend.component.css']
            }]
    }], function () { return [{ type: app_assessment_charts_services_scale_result_color_service__WEBPACK_IMPORTED_MODULE_2__["ScaleResultColorService"] }]; }, { rangeSize: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], scaleResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], severityLabels: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "x9vr":
/*!***********************************************!*\
  !*** ./src/app/shared/models/billing-card.ts ***!
  \***********************************************/
/*! exports provided: BillingCard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BillingCard", function() { return BillingCard; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class BillingCard {
    /**
     * Getter id
     * @return {string}
     */
    get id() {
        return this._id;
    }
    /**
     * Setter id
     * @param {string} value
     */
    set id(value) {
        this._id = value;
    }
    /**
     * Getter brand
     * @return {string}
     */
    get brand() {
        return this._brand;
    }
    /**
     * Setter brand
     * @param {string} value
     */
    set brand(value) {
        this._brand = value;
    }
    /**
     * Getter last4
     * @return {string}
     */
    get last4() {
        return this._last4;
    }
    /**
     * Setter last4
     * @param {string} value
     */
    set last4(value) {
        this._last4 = value;
    }
}


/***/ }),

/***/ "xVLz":
/*!*******************************************************!*\
  !*** ./src/app/login/services/admin-guard.service.ts ***!
  \*******************************************************/
/*! exports provided: AdminGuard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminGuard", function() { return AdminGuard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth.service */ "6Hrc");
/* harmony import */ var app_shared_models_role__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/models/role */ "Y5fV");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







class AdminGuard {
    constructor(authService, router) {
        this.authService = authService;
        this.router = router;
    }
    canActivate(route, state) {
        // need to make sure the user is an admin... otherwise redirect them back to the home screen.
        return this.authService.getCurrentUser().then(user => {
            if (user.role < app_shared_models_role__WEBPACK_IMPORTED_MODULE_3__["Role"].Client) {
                return true;
            }
            else {
                this.router.navigate(['/login'], {
                    queryParams: {
                        return: state.url,
                        loginType: 1 // admin
                    }
                });
                return false;
            }
        }).catch(error => {
            console.error(error); // not logged, or an error occurred with the login process so send them to login
            this.router.navigate(['/login'], {
                queryParams: {
                    return: state.url,
                    loginType: 1 // admin
                }
            });
            return false;
        });
    }
    canActivateChild(route, state) {
        return this.canActivate(route, state);
    }
}
AdminGuard.ɵfac = function AdminGuard_Factory(t) { return new (t || AdminGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"])); };
AdminGuard.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AdminGuard, factory: AdminGuard.ɵfac });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminGuard, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"]
    }], function () { return [{ type: _auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }]; }, null); })();


/***/ }),

/***/ "xWRM":
/*!***********************************************************************!*\
  !*** ./src/app/shared/pdf-generate-btn/pdf-generate-btn.component.ts ***!
  \***********************************************************************/
/*! exports provided: PdfGenerateBtnComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfGenerateBtnComponent", function() { return PdfGenerateBtnComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_pdf_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/pdf.service */ "jyk5");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _models_Assignment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/Assignment */ "Xehb");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */








function PdfGenerateBtnComponent_input_0_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "input", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PdfGenerateBtnComponent_input_0_Template_input_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.print(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function PdfGenerateBtnComponent_input_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "input", 3);
} }
class PdfGenerateBtnComponent {
    constructor(element, pdfService, activeRoute) {
        this.element = element;
        this.pdfService = pdfService;
        this.activeRoute = activeRoute;
        this.printing = false;
    }
    ngOnInit() {
    }
    print() {
        let name = this.file || "File";
        let element = this.element.nativeElement;
        let html = element.ownerDocument.documentElement.innerHTML;
        this.printing = true;
        if (!(window && window.location)) {
            console.error("window or window.location is missing");
            return;
        }
        let url = window.location.href;
        this.pdfService.generate(url, this.assignment).then(() => {
            this.printing = false;
            console.log("document printed");
        })
            .catch((error) => {
            alert("There was an error in generating your pdf.  Please check your internet connection and try again");
            this.printing = false;
            console.error(error);
        });
    }
}
PdfGenerateBtnComponent.ɵfac = function PdfGenerateBtnComponent_Factory(t) { return new (t || PdfGenerateBtnComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_pdf_service__WEBPACK_IMPORTED_MODULE_1__["PdfService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"])); };
PdfGenerateBtnComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PdfGenerateBtnComponent, selectors: [["dac-pdf-generate-btn"]], inputs: { file: "file", assignment: "assignment" }, decls: 2, vars: 2, consts: [["type", "button", "class", "btn btn-secondary", "value", "Download PDF", 3, "click", 4, "ngIf"], ["type", "button", "class", "btn btn-secondary", "disabled", "", "value", "Generating PDF...", 4, "ngIf"], ["type", "button", "value", "Download PDF", 1, "btn", "btn-secondary", 3, "click"], ["type", "button", "disabled", "", "value", "Generating PDF...", 1, "btn", "btn-secondary"]], template: function PdfGenerateBtnComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, PdfGenerateBtnComponent_input_0_Template, 1, 0, "input", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, PdfGenerateBtnComponent_input_1_Template, 1, 0, "input", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.printing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.printing);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PdfGenerateBtnComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-pdf-generate-btn',
                templateUrl: './pdf-generate-btn.component.html'
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _services_pdf_service__WEBPACK_IMPORTED_MODULE_1__["PdfService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }]; }, { file: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], assignment: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "xuKX":
/*!******************************************************************************!*\
  !*** ./src/app/reports/scale-range-content/scale-range-content.component.ts ***!
  \******************************************************************************/
/*! exports provided: ScaleRangeContentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleRangeContentComponent", function() { return ScaleRangeContentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/models/scale-result */ "+u/X");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




const _c0 = function (a0) { return { "d-none": a0 }; };
function ScaleRangeContentComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleRangeContentComponent_div_0_Template_div_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.expandContent = !ctx_r3.expandContent; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " What does this mean? ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx_r0.expandContent));
} }
function ScaleRangeContentComponent_div_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 10);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r5.scaleResult == null ? null : ctx_r5.scaleResult.range == null ? null : ctx_r5.scaleResult.range.therapistContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function ScaleRangeContentComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleRangeContentComponent_div_1_Template_div_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.expandContent = !ctx_r6.expandContent; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " What does this mean? ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, ScaleRangeContentComponent_div_1_div_6_Template, 1, 1, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleRangeContentComponent_div_1_Template_div_click_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.expandContent = !ctx_r8.expandContent; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, " What does this mean? ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, !ctx_r1.expandContent));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.shouldShowContent(ctx_r1.scaleResult));
} }
function ScaleRangeContentComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ScaleRangeContentComponent_div_2_Template_div_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.expandContent = !ctx_r9.expandContent; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " What does this mean? ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r2.scaleResult == null ? null : ctx_r2.scaleResult.range == null ? null : ctx_r2.scaleResult.range.therapistContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
class ScaleRangeContentComponent {
    constructor() {
        this.client = false;
    }
    ngOnInit() {
    }
    get hasContent() {
        if (this.scaleResult && this.scaleResult.range) {
            if (this.client && this.scaleResult.range.clientContent) {
                return this.scaleResult.range.clientContent.trim() != "";
            }
            else if (this.scaleResult.range.therapistContent) {
                return this.scaleResult.range.therapistContent.trim() != "";
            }
        }
        return false;
    }
    shouldShowContent(scaleResult) {
        return this.expandContent && this.hasContent;
    }
}
ScaleRangeContentComponent.ɵfac = function ScaleRangeContentComponent_Factory(t) { return new (t || ScaleRangeContentComponent)(); };
ScaleRangeContentComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ScaleRangeContentComponent, selectors: [["app-scale-range-content"]], inputs: { scaleResult: "scaleResult", expandContent: "expandContent", client: "client" }, decls: 3, vars: 3, consts: [["class", "d-print-none", 3, "ngClass", 4, "ngIf"], ["class", "therapist-note-print-content", 4, "ngIf"], [1, "d-print-none", 3, "ngClass"], [1, "card", "card-cascade", "card-wider"], [1, "card-header", "secondary-color", "lighten-1", "text-light", 3, "click"], [1, "fa", "fa-hand-o-right"], [1, "fa", "fa-hand-o-up"], [1, "card-body"], [3, "innerHTML", 4, "ngIf"], [1, "card-footer", "text-muted", "secondary-color", "text-light", 3, "click"], [3, "innerHTML"], [1, "therapist-note-print-content"]], template: function ScaleRangeContentComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ScaleRangeContentComponent_div_0_Template, 5, 3, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ScaleRangeContentComponent_div_1_Template, 10, 4, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ScaleRangeContentComponent_div_2_Template, 7, 1, "div", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasContent);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasContent);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasContent);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScaleRangeContentComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-scale-range-content',
                templateUrl: './scale-range-content.component.html'
            }]
    }], function () { return []; }, { scaleResult: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], expandContent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], client: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "y+jN":
/*!*************************************************!*\
  !*** ./src/app/shared/services/fhir-service.ts ***!
  \*************************************************/
/*! exports provided: FhirService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FhirService", function() { return FhirService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "mrSG");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../environments/environment */ "AytR");
/* harmony import */ var fhirclient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fhirclient */ "qdye");
/* harmony import */ var fhirclient__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fhirclient__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _dac_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dac-config.service */ "OApS");
/* harmony import */ var _fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fhir-smart-style.service */ "BP+R");









/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class FhirService {
    constructor(dacConfig, smartStyleService) {
        this.dacConfig = dacConfig;
        this.smartStyleService = smartStyleService;
    }
    isAuthorized() {
        // if there is no authorization header then we are not logged in for sure
        if (this.getAuthorizationHeader() !== null) {
            return true;
        }
        return false;
    }
    // getFhirUserId() : Promise<string> {
    //   let user = this.getFhirUser();
    //   if (user) {
    //   }
    // }
    getFhirUser() {
        return this.getFhirClient()
            .then(client => client.getFhirUser());
    }
    getFhirUserType() {
        return this.getFhirUser().then(user => {
            let fhirUserParts = user.split("/");
            let fhirRole = fhirUserParts[0];
            return fhirRole;
        });
    }
    getFhirClient() {
        if (!this.fhirClient) {
            return fhirclient__WEBPACK_IMPORTED_MODULE_3__["oauth2"].ready().then(client => {
                this.fhirClient = client;
                return client;
            });
        }
        return Promise.resolve(this.fhirClient);
    }
    refreshToken() {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            let client = yield this.getFhirClient();
            return client.refresh();
        });
    }
    refreshIfNeeded() {
        return this.getFhirClient().then(client => client.refreshIfNeeded());
    }
    authorizeClient(redirectUrlPath) {
        // TODO: @adunsulag need to change up the scopes for patients
        let clientId = this.getClientId();
        let scopes = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].smartConfig.clientScopes;
        let fhirUrl = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].smartConfig.fhirUrl;
        // example would be the baseUri + '/loginAdminFinalize' for users
        // example would be the baseUri + '/loginFinalize' for patients
        let baseUri = document.baseURI;
        let url;
        // redirectUrlPath always starts with a /
        if (baseUri.endsWith("/")) {
            url = baseUri.substring(0, baseUri.length - 1) + redirectUrlPath;
        }
        else {
            url = document.baseURI + redirectUrlPath;
        }
        // before we redirect we want to save off the our return url
        let returnParam = (new URL(window.document.location.href)).searchParams.get('return') || '';
        if (returnParam) {
            sessionStorage.setItem("dc-return-url", returnParam);
        }
        fhirclient__WEBPACK_IMPORTED_MODULE_3__["oauth2"].authorize({
            "clientId": clientId,
            "scope": scopes,
            "iss": fhirUrl,
            "redirect_uri": url
        });
    }
    authorizeUserAdmin(redirectUrlPath) {
        // TODO: need to look at saving off the return url in the sessionStorage if we can to handle the redirect.
        let clientId = this.getClientId();
        let scopes = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].smartConfig.scopes;
        let fhirUrl = _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].smartConfig.fhirUrl;
        // example would be the baseUri + '/loginAdminFinalize' for users
        // example would be the baseUri + '/loginFinalize' for patients
        let baseUri = document.baseURI;
        let url;
        // redirectUrlPath always starts with a /
        if (baseUri.endsWith("/")) {
            url = baseUri.substring(0, baseUri.length - 1) + redirectUrlPath;
        }
        else {
            url = document.baseURI + redirectUrlPath;
        }
        let returnParam = (new URL(window.document.location.href)).searchParams.get('return') || '';
        if (returnParam) {
            sessionStorage.setItem("dc-return-url", returnParam);
        }
        fhirclient__WEBPACK_IMPORTED_MODULE_3__["oauth2"].authorize({
            "client_id": clientId,
            "scope": scopes,
            "iss": fhirUrl,
            "redirect_uri": url
        });
    }
    getAuthorizationHeader() {
        return this.getFhirClient().then(client => client.getAuthorizationHeader());
    }
    loadFhirStylesFromClient(client) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            if (client.state.tokenResponse && client.state.tokenResponse.smart_style_url) {
                let url = client.state.tokenResponse.smart_style_url;
                this.dacConfig.smartConfigStyleUrl = url;
                yield this.smartStyleService.loadSmartStyles();
            }
        });
    }
    getIntentFromClient(client) {
        let intent = null;
        if (client.state.tokenResponse) {
            intent = client.state.tokenResponse.intent;
        }
        return intent;
    }
    getFhirContextFromClient(client, contextResourceFilter) {
        let resource = null;
        if (client.state.tokenResponse && client.state.tokenResponse.fhirContext && client.state.tokenResponse.fhirContext.length) {
            let filteredResources = client.state.tokenResponse.fhirContext.filter(c => c.reference && c.reference.startsWith(contextResourceFilter));
            // if there is more than one we just return the first one
            resource = filteredResources.length ? filteredResources[0] : null;
        }
        return resource;
    }
    fhirClientReady() {
        return fhirclient__WEBPACK_IMPORTED_MODULE_3__["oauth2"].ready()
            .catch(error => {
            if (error && error.message && error.message.indexOf(":") !== -1) {
                let errorParts = error.message.split(":");
                let errorKey = errorParts[0] || "error";
                // TODO: @adunsulag need to be able to display an error message page here
                if (errorKey == 'invalid_scope') {
                    console.error(error);
                    const urlParams = new URLSearchParams(window.location.search);
                    if (urlParams.has('hint')) {
                        throw new Error(errorParts[1] + " " + urlParams.get('hint'));
                    }
                    else {
                        throw new Error(errorParts[1]);
                    }
                }
                else {
                    // need to review the scopes authorized and require authorization again if the scopes were not granted....
                    console.error(error);
                }
            }
            throw Object.assign({ needsAuthentication: true }, error);
            // we need to redirect to our authorize location
        });
    }
    getClientId() {
        // server application setting our clientId.
        // for testing purposes we
        let bodyClientId = document.body.dataset['clientId'];
        let clientId = bodyClientId;
        if (!_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].production) {
            clientId = bodyClientId || _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].smartConfig.client_id;
        }
        if (!clientId) {
            throw new Error("invalid_client");
        }
        return clientId;
    }
    getClientSecret() {
        // TODO: @adunsulag this is just used for testing as we will remove this once we implement the BFF.
        // server application setting our clientId.
        // for testing purposes we
        let bodyClientSecret = document.body.dataset['clientSecret'];
        let clientId = bodyClientSecret;
        if (!_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].production) {
            clientId = bodyClientSecret || _environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].smartConfig.clientSecret;
        }
        if (!clientId) {
            throw new Error("invalid_client");
        }
        return clientId;
    }
}
FhirService.ɵfac = function FhirService_Factory(t) { return new (t || FhirService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_5__["FhirSmartStyleService"])); };
FhirService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: FhirService, factory: FhirService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](FhirService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _dac_config_service__WEBPACK_IMPORTED_MODULE_4__["DacConfig"] }, { type: _fhir_smart_style_service__WEBPACK_IMPORTED_MODULE_5__["FhirSmartStyleService"] }]; }, null); })();


/***/ }),

/***/ "y5x3":
/*!******************************************************************!*\
  !*** ./src/app/shared/services/subscription-hydrator.service.ts ***!
  \******************************************************************/
/*! exports provided: SubscriptionHydratorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriptionHydratorService", function() { return SubscriptionHydratorService; });
/* harmony import */ var _models_subscription__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/subscription */ "yBE7");
/* harmony import */ var _models_subscription_plan__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/subscription-plan */ "Mue4");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class SubscriptionHydratorService {
    fromJSON(subJSONString) {
        let subJSON = {};
        if (subJSONString) {
            try {
                subJSON = JSON.parse(subJSONString);
            }
            catch (error) {
                console.error("Failed to parse subscription string: ", error);
                return null;
            }
        }
        return this.fromJSONObject(subJSON);
    }
    fromJSONObject(subJSON) {
        let subscription = new _models_subscription__WEBPACK_IMPORTED_MODULE_0__["Subscription"]();
        subscription.id = +subJSON.id;
        subscription.canceledAt = this.getNullableDate(subJSON, 'canceledAt');
        subscription.currentPeriodEnd = this.getNullableDate(subJSON, 'currentPeriodEnd');
        subscription.currentPeriodStart = this.getNullableDate(subJSON, 'currentPeriodStart');
        subscription.renewalDate = this.getNullableDate(subJSON, 'renewalDate');
        subscription.endedAt = this.getNullableDate(subJSON, 'endedAt');
        subscription.quantity = +subJSON.quantity;
        subscription.status = subJSON.status;
        // subscription.quantity = 1;
        // subscription.status = SubscriptionStatus.PAST_DUE;
        subscription.total = +subJSON.total;
        // subscription.total = 30;
        let plan = new _models_subscription_plan__WEBPACK_IMPORTED_MODULE_1__["SubscriptionPlan"]();
        plan.id = +subJSON.plan.id;
        plan.amountPerUnit = +subJSON.plan.amountPerUnit;
        plan.name = subJSON.plan.name;
        plan.unitType = subJSON.plan.unitType;
        subscription.plan = plan;
        return subscription;
    }
    toJSON(subscription) {
        // we can just stringify it as we don't need any transformations here
        return JSON.stringify(subscription);
    }
    getNullableDate(obj, property) {
        if (obj[property]) {
            return new Date(obj[property]);
        }
        return null;
    }
}


/***/ }),

/***/ "yBE7":
/*!***********************************************!*\
  !*** ./src/app/shared/models/subscription.ts ***!
  \***********************************************/
/*! exports provided: Subscription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Subscription", function() { return Subscription; });
/* harmony import */ var _subscription_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./subscription-status */ "CLK7");

class Subscription {
    constructor() {
        this.billingInterval = "month";
    }
    isActiveSubscription() {
        if (this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].ACTIVE || this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].TRIAL) {
            return true;
        }
        if (this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].CANCEL_PROCESSING && this.currentPeriodEnd && this.currentPeriodEnd >= new Date()) {
            return true;
        }
        return false;
    }
    isTrialSubscription() {
        return this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].TRIAL || this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].TRIAL_PERIOD_ENDED;
    }
    isUnpaidSubscription() {
        return this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].UNPAID || this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].PAST_DUE;
    }
    isEndedSubscription() {
        return this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].CANCELED || this.status == _subscription_status__WEBPACK_IMPORTED_MODULE_0__["SubscriptionStatus"].TERMINATED;
    }
    getChargeDescription() {
        let description = [];
        if (this.isTrialSubscription()) {
            description.push("Free trial ");
        }
        else {
            // future versions of angular can use formatCurrency in @angular/common
            description.push(this.getTotalCurrency());
            description.push(" per ");
            description.push(this.billingInterval);
        }
        if (this.plan && this.plan.unitType != "Assessments") {
            description.push(" for ");
            description.push(this.quantity);
            description.push(" ");
            // make it singular
            description.push(this.plan.getUnitTypeNameForQuantity(this.quantity));
        }
        return description.join("");
    }
    getTotalCurrency() {
        if (Intl && Intl.NumberFormat) {
            var formatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
            });
            return formatter.format(this.total);
        }
        else {
            return "$" + this.total.toFixed(2); // good enough compromise.
        }
    }
}


/***/ }),

/***/ "yI1f":
/*!******************************************************************************************!*\
  !*** ./src/app/reports/peer-clinic-result-viewer/peer-clinic-result-viewer.component.ts ***!
  \******************************************************************************************/
/*! exports provided: PeerClinicResultViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PeerClinicResultViewerComponent", function() { return PeerClinicResultViewerComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var app_shared_models_assessment_result__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/models/assessment-result */ "TNk8");
/* harmony import */ var app_shared_models_scale__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! app/shared/models/scale */ "f7Qs");
/* harmony import */ var app_shared_models_scale_range__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/shared/models/scale-range */ "b5Sj");
/* harmony import */ var app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app/shared/models/scale-result */ "+u/X");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/shared/services/questionnaire.service */ "Dhxs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");














function PeerClinicResultViewerComponent_div_0_tr_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const result_r7 = ctx.$implicit;
    const i_r8 = ctx.index;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 2, ctx_r4.dateList[i_r8], "short"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](result_r7.score);
} }
function PeerClinicResultViewerComponent_div_0_tr_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "app-spin-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, " Loading previous scores...");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function PeerClinicResultViewerComponent_div_0_tr_17_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function PeerClinicResultViewerComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h5");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "u");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "table", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "thead");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "td", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "td", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Score");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, PeerClinicResultViewerComponent_div_0_tr_15_Template, 6, 5, "tr", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, PeerClinicResultViewerComponent_div_0_tr_16_Template, 4, 0, "tr", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](17, PeerClinicResultViewerComponent_div_0_tr_17_Template, 4, 0, "tr", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](19, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const scale_r3 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](scale_r3.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Your ", scale_r3.name, " Score is");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.scaleResults.get(scale_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.hasLoadedResults);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.extraRows);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", scale_r3.getMaxRange().clientContent, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function PeerClinicResultViewerComponent_div_240_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h5");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "u");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "FOLLOW-UP ASSESSMENT");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "table", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "thead");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "th", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Follow-Up");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "td", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Physical therapy:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "td", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, "Opioid pain killers:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](23, "Currently taking opioids:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](24, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28, "Cognitive behavioral therapy:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](29, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](33, "Back injection:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](34, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](38, "Back surgery:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](39, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](41, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](42, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](43, "Emergency room visits:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](44, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](46, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](47, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](48, "Time off work:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](49, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](50);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](51, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](52, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](53, "Applied for disability:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](54, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](55);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/MDS13cFollow"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/BP/MDS13a"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/MDS13aFollow"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/MDS13dFollow"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/MDS13bFollow"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/MDS06Follow"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/ERvisitFollow"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/MDS14Follow"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.getRecentAnswer("/SO/MDS15Follow"));
} }
function PeerClinicResultViewerComponent_div_241_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h5");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "u");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "FOLLOW-UP ASSESSMENT");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "table", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "thead");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "th", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9, "Shared Decision Making");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "td", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Understanding:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "td", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, "Preferences:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](23, "Integration:");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](24, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.getRecentAnswer("/DM/SDMunderstand"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.getRecentAnswer("/DM/SDMlisten"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.getRecentAnswer("/DM/SDMinclude"));
} }
/*
 *   Copyright (c) 2023 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class PeerClinicResultViewerComponent {
    constructor(questionnaireService, alertService, activatedRoute) {
        this.questionnaireService = questionnaireService;
        this.alertService = alertService;
        this.activatedRoute = activatedRoute;
        this.extraRows = [];
        this.maxRows = 5;
        this.resultCount = 2;
        this.hasLoadedResults = false;
        this.debug = true;
        this.resultsMapping = {
            'PP': '/PP/PP-score',
            'PC': '/PC/PC-score',
            'PS': '/PS/PS-score',
            'PD': '/PD/PD-score',
            'PA': '/PA/PA-score',
            'NRS': '/BS/MDS03' // single score result from the user
            ,
            'ODI': '/BS/BS-score'
        };
    }
    isAfterVisitAssessment(result) {
        return result && result.assessment && result.assessment.uid == "PEER After Visit Assessment";
    }
    isFollowUpAssessment(result) {
        return result && result.assessment && result.assessment.uid == "PEER Follow Up Assessment";
    }
    isInitialAssessment(result) {
        return result && result.assessment && result.assessment.uid == "PEER Initial Assessment";
    }
    ngOnInit() {
        this.scaleList = [];
        this.dateList = [];
        this.scalesById = new Map();
        this.scaleResults = new Map();
        // TODO: @adunsulag need to go through and grab all of the questionnaires previous to the current one for the current patient.
        console.log(this.result);
        let highScaleRange = new app_shared_models_scale_range__WEBPACK_IMPORTED_MODULE_4__["ScaleRange"]();
        highScaleRange.rangeStart = 1;
        highScaleRange.rangeEnd = 99;
        highScaleRange.clientContent = "<p>Higher scores are better.The average score is 50. Range is 1 to 99.</p>";
        let lowScaleRange = Object.assign(new app_shared_models_scale_range__WEBPACK_IMPORTED_MODULE_4__["ScaleRange"](), highScaleRange);
        lowScaleRange.clientContent = "<p>Lower scores are better. The average score is 50. Range is 1 to 99.</p>";
        this.createScale("PP", "Physical Function", highScaleRange);
        this.createScale("PC", "Pain Interference", lowScaleRange);
        this.createScale("PS", "Sleep Disturbance", lowScaleRange);
        this.createScale("PD", "Depression Symptoms", lowScaleRange);
        this.createScale("PA", "Anxiety Symptoms", lowScaleRange);
        let nrs = this.createScale("NRS", "Back Pain Numerical Rating Scale (NRS)", lowScaleRange, 0, 10);
        nrs.ranges[0].clientContent = "<p>Higher scores mean worse health.Range is 0 to 10.</p><p>Severity ratings for this score are: </p>"
            + "<ul><li>0:No pain</li><li>1-4: Mild</li><li>5-7: Moderate</li><li>8-10: Severe</li></ul>";
        let odi = this.createScale("ODI", "Oswestry Disability Index (ODI)", lowScaleRange, 0, 100);
        odi.ranges[0].clientContent = "<p>Higher scores mean worse health.Range is 0 to 100.</p><p>Average for the U.S. population is 10.</p><p>Severity ratings for this score are: </p>"
            + "<ul><li>0-20:Minimal disability</li><li>21-40: Moderate disability</li><li>41-60: Severe disability</li><li>61-80: Crippling back pain</li><li>81-100: Bed ridden</li></ul>";
        this.setupResultHistory([this.result]);
        let questionnaireIds = [this.result.assessment.id];
        let patientId = this.activatedRoute.snapshot.paramMap.get('id');
        this.questionnaireService.getQuestionnairesByTitle(["PEER Follow Up Assessment", "PEER Initial Assessment", "PEER After Visit Assessment"])
            .then(questionnaires => {
            let questionnaireIds = questionnaires.map(q => q.id);
            return this.questionnaireService.getPreviousQuestionnaireResponsesAsAssessmentResults(patientId, questionnaireIds, this.result.dateCompleted, (this.maxRows - 1));
        })
            .then(results => {
            this.hasLoadedResults = true;
            // make sure we add in our current result to the previous result
            this.setupResultHistory([this.result].concat(results || []));
        })
            .catch(error => {
            this.hasLoadedResults = true;
            this.alertService.error("Failed to load previous response scores");
            console.error(error);
        });
        // this.dateList.push(new Date());
        // for (let i = 1; i < this.resultCount; i++) {
        //   let newDate = new Date();
        //   newDate.setTime(this.dateList[0].getTime() - i * 3600 * 24 * 1000);
        //   this.dateList.push(newDate);
        // }
    }
    setupResultHistory(results) {
        this.dateList = [];
        this.scaleResults.clear();
        this.resultHistory = results;
        this.resultCount = this.resultHistory.length;
        if (this.hasLoadedResults) {
            this.extraRows = Array.from({ length: this.maxRows - this.resultCount }, () => Math.random());
        }
        else {
            this.extraRows = [];
        }
        this.resultHistory.forEach(result => {
            if (this.isAfterVisitAssessment(result)) {
                return; // skip over adding any scores for an after visit assessment
            }
            this.dateList.push(result.dateCompleted);
            for (var key in this.resultsMapping) {
                let scaleResult = new app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_5__["ScaleResult"]();
                scaleResult.scale = this.scalesById.get(key);
                let resultAnswer = result.getAnswerForQuestionId(this.resultsMapping[key]);
                let score = resultAnswer ? +resultAnswer.answer : 0;
                if (!isNaN(score)) {
                    scaleResult.score = score;
                }
                else {
                    scaleResult.score = 0;
                }
                scaleResult.range = scaleResult.scale.getRangeForScore(scaleResult.score);
                if (!this.scaleResults.has(scaleResult.scale)) {
                    this.scaleResults.set(scaleResult.scale, [scaleResult]);
                }
                else {
                    this.scaleResults.get(scaleResult.scale).push(scaleResult);
                }
            }
        });
    }
    getRecentAnswer(linkId) {
        // the first result is our most recent one
        let result = this.resultHistory.find(r => r.getAnswerForQuestionId(linkId) !== null);
        if (result) {
            let answer = result.getAnswerForQuestionId(linkId);
            return answer.answer;
        }
        else {
            return this.debug ? linkId : "<Missing Answer>";
        }
    }
    createScale(id, name, range, newLow, newHigh) {
        let scale = new app_shared_models_scale__WEBPACK_IMPORTED_MODULE_3__["Scale"]();
        scale.id = id;
        this.scalesById.set(id, scale);
        scale.name = name;
        let scaleRange = Object.assign(new app_shared_models_scale_range__WEBPACK_IMPORTED_MODULE_4__["ScaleRange"](), range);
        if (newLow !== undefined) {
            scaleRange.rangeStart = newLow;
        }
        if (newHigh !== undefined) {
            scaleRange.rangeEnd = newHigh;
        }
        scale.addRange(scaleRange);
        this.scaleList.push(scale);
        // this.scaleResults.set(scale, this.createScaleResults(scale));
        return scale;
    }
    createScaleResults(scale) {
        let rangeEnd = scale.getMaxRange().rangeEnd - 1;
        let scores = Array.from({ length: this.resultCount }, () => Math.floor(1 + Math.random() * rangeEnd));
        let results = scores.map(s => {
            let scaleResult = new app_shared_models_scale_result__WEBPACK_IMPORTED_MODULE_5__["ScaleResult"]();
            scaleResult.score = s;
            scaleResult.range = scale.getRangeForScore(scaleResult.score);
            return scaleResult;
        });
        return results;
    }
}
PeerClinicResultViewerComponent.ɵfac = function PeerClinicResultViewerComponent_Factory(t) { return new (t || PeerClinicResultViewerComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_7__["QuestionnaireService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"])); };
PeerClinicResultViewerComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PeerClinicResultViewerComponent, selectors: [["dac-peer-clinic-result-viewer"]], inputs: { result: "result" }, decls: 242, vars: 38, consts: [["class", "row mb-2 mb-md-5", 4, "ngFor", "ngForOf"], [1, "row", "mb-2", "mb-md-5"], [1, "col-12"], [1, "table"], ["rowspan", "2", 1, "w-25"], [1, "w-50"], [1, "w-25"], ["rowspan", "3", 1, "w-25"], [1, "w-75"], ["colspan", "2"], ["class", "row mb-2 mb-md-5", 4, "ngIf"], [1, "col-6", "col-md-6"], [1, "table", "table-striped"], [4, "ngFor", "ngForOf"], [4, "ngIf"], [1, "col-5", "offset-1", "col-md-5"], [3, "innerHTML"], ["colspan", "2", 1, "alert", "alert-info"]], template: function PeerClinicResultViewerComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, PeerClinicResultViewerComponent_div_0_Template, 20, 6, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h5");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "u");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Back Pain History");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "table", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "tbody");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11, "Duration");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "td", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13, "Duration of back pain:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18, "Frequency of back pain:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](19, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](20);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24, "Radicular pain");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "td", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](26, "Pain goes down the legs:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](29, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](31, "Symptoms below the knees:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](33);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](34, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](35, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](37, "Physical Therapy");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](38, "td", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](39, "Ever had physical therapy:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](40, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](41);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](42, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](43, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](44, "Time since last PT session:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](45, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](46);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](47, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](48, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](49, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](50, "Opiod Use");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](51, "td", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](52, "Ever used opioid pain killers:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](53, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](54);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](55, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](56, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](57, "Currently taking opioids:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](58, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](59);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](60, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](61, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](62, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](63, "CBT");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](64, "td", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](65, "Had Cognitive Behavioral Therapy:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](66, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](67);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](68, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](69, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](70, "h5");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](71, "u");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](72, "Invasive Treatments");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](73, "table", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](74, "tbody");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](75, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](76, "td", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](77, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](78, "Injections");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](79, "td", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](80, "Ever had a back injection:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](81, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](82);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](83, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](84, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](85, "Time since last back injection:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](86, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](87);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](88, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](89, "td", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](90, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](91, "Surgery");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](92, "td", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](93, "Had Previous low back surgery:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](94, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](95);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](96, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](97, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](98, "How long ago was the surgery:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](99, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](100);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](101, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](102, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](103, "Did surgery involve fusion:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](104, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](105);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](106, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](107, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](108, "h5");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](109, "u");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](110, "Summary of Social History");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](111, "table", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](112, "tbody");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](113, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](114, "td", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](115, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](116, "Height");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](117, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](118);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](119, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](120, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](121, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](122, "Weight");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](123, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](124);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](125, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](126, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](127, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](128, "BMI");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](129, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](130);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](131, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](132, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](133, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](134, "Smoking Status:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](135, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](136);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](137, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](138, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](139, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](140, "Alcohol use more than meant to:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](141, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](142);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](143, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](144, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](145, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](146, "Alcohol use wanted to cut down:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](147, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](148);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](149, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](150, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](151, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](152, "Employment Status:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](153, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](154);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](155, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](156, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](157, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](158, "Time Off Work:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](159, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](160);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](161, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](162, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](163, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](164, "Applied for disability:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](165, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](166);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](167, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](168, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](169, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](170, "Involved in a lawsuit:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](171, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](172);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](173, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](174, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](175, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](176, "Education Level:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](177, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](178);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](179, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](180, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](181, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](182, "Race:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](183, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](184);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](185, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](186, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](187, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](188, "Ethnicity:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](189, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](190);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](191, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](192, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](193, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](194, "Fear Avoidance:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](195, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](196);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](197, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](198, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](199, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](200, "Catostrophizing:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](201, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](202);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](203, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](204, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](205, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](206, "Goal:");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](207, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](208);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](209, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](210, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](211, "h5");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](212, "u");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](213, "Past Medical History");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](214, "table", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](215, "thead");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](216, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](217, "th", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](218, "Chronic Pain Screening");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](219, "tbody");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](220, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](221, "td", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](222, "Stomach pain (complex regional pain risk):");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](223, "td", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](224);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](225, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](226, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](227, "Headaches (possible migraine risk):");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](228, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](229);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](230, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](231, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](232, "Pain in arms or legs (possible arthritis risk):");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](233, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](234);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](235, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](236, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](237, "Widespread pain (possible fibromyalgia risk):");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](238, "td");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](239);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](240, PeerClinicResultViewerComponent_div_240_Template, 56, 9, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](241, PeerClinicResultViewerComponent_div_241_Template, 26, 3, "div", 10);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.scaleList);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS01"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS02"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS04"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS04Side"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS13c"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS13cWhen"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS13a"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS13aCurrent"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS13d"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS13b"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS13bWhen"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS06"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS07"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS08"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", ctx.getRecentAnswer("/SC/MDS40afeet"), " ", ctx.getRecentAnswer("/SC/MDS40ainch"), "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS40b"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/BMI"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS39"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS31"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS32"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS37"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS14"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BP/MDS15"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/MDS30"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS38"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS36"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/SC/MDS35"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/MDS28"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/MDS29"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/Goal"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/MDS05a"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/MDS05b"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/MDS05c"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getRecentAnswer("/BI/MDS05d"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isFollowUpAssessment(ctx.result));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isAfterVisitAssessment(ctx.result));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_8__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_9__["SpinIconComponent"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_8__["DatePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PeerClinicResultViewerComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-peer-clinic-result-viewer',
                templateUrl: './peer-clinic-result-viewer.component.html'
            }]
    }], function () { return [{ type: app_shared_services_questionnaire_service__WEBPACK_IMPORTED_MODULE_7__["QuestionnaireService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_6__["AlertService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }]; }, { result: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["result"]
        }] }); })();


/***/ }),

/***/ "yRcB":
/*!*******************************************************************************!*\
  !*** ./src/app/library-assets/admin-view-asset/admin-view-asset.component.ts ***!
  \*******************************************************************************/
/*! exports provided: AdminViewAssetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminViewAssetComponent", function() { return AdminViewAssetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _services_asset_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/asset.service */ "Cy3R");
/* harmony import */ var app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/shared/services/alert.service */ "Cmua");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/spin-icon/spin-icon.component */ "bAL6");
/* harmony import */ var _exercise_exercise_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../exercise/exercise.component */ "+MF4");
/* harmony import */ var _article_article_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../article/article.component */ "Z6BE");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */













function AdminViewAssetComponent_h1_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.asset.title);
} }
function AdminViewAssetComponent_h1_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h1", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.asset.title);
} }
function AdminViewAssetComponent_div_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "p", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "app-spin-icon");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " Loading... ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function AdminViewAssetComponent_p_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r3.asset.description);
} }
function AdminViewAssetComponent_p_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("Tags: ", ctx_r4.asset.tags.join(", "), "");
} }
function AdminViewAssetComponent_dac_exercise_13_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "dac-exercise", 18);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("exercise", ctx_r5.asset)("hideHeaders", ctx_r5.disableAsset)("disabled", ctx_r5.disableAsset);
} }
function AdminViewAssetComponent_dac_article_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "dac-article", 19);
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("article", ctx_r6.asset)("hideHeaders", ctx_r6.disableAsset)("disabled", ctx_r6.disableAsset);
} }
class AdminViewAssetComponent {
    constructor(route, assetService, alertService, location) {
        this.route = route;
        this.assetService = assetService;
        this.alertService = alertService;
        this.location = location;
        this.disableAsset = true;
    }
    ngOnInit() {
        this.route.params.subscribe((params) => {
            let assetId = params['assetId'];
            this.hasLoaded = false;
            this.assetService.getAsset(assetId).then((asset) => {
                this.hasLoaded = true;
                this.asset = asset;
            })
                .catch((error) => {
                console.error(error);
                if (error && error.status === 404 || error.status === 400) {
                    this.alertService.error("404 This item could not be found");
                }
                else {
                    this.alertService.error("There was a server error in loading this item.  Check your internet connection or contact support");
                }
            });
        });
    }
    goBack() {
        this.location.back();
    }
    shouldDisplayExercise() {
        return this.asset && this.asset.type == 'assignment';
    }
    shouldDisplayArticle() {
        return this.asset && this.asset.type == 'article';
    }
}
AdminViewAssetComponent.ɵfac = function AdminViewAssetComponent_Factory(t) { return new (t || AdminViewAssetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_services_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"])); };
AdminViewAssetComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AdminViewAssetComponent, selectors: [["dac-admin-view-asset"]], decls: 15, vars: 7, consts: [[1, "col", "itemsContainer", "d-print-block-visible"], [1, "row", "report-controls"], [1, "col-2"], ["type", "button", "value", "Back", 1, "btn", "btn-primary", 3, "click"], [1, "col-8", "text-center"], ["class", "h1-responsive report-name text-center", 4, "ngIf"], [1, "col-2", "ml-auto"], [1, "row", "d-none", "d-print-block-visible"], [1, "col-12", "text-center"], ["class", "row", 4, "ngIf"], ["class", "text-center offset-2 col-8", 4, "ngIf"], ["class", "card card-body", 3, "exercise", "hideHeaders", "disabled", 4, "ngIf"], ["class", "card card-body", 3, "article", "hideHeaders", "disabled", 4, "ngIf"], [1, "h1-responsive", "report-name", "text-center"], [1, "row"], [1, "col"], [1, "alert", "alert-warning"], [1, "text-center", "offset-2", "col-8"], [1, "card", "card-body", 3, "exercise", "hideHeaders", "disabled"], [1, "card", "card-body", 3, "article", "hideHeaders", "disabled"]], template: function AdminViewAssetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "input", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function AdminViewAssetComponent_Template_input_click_3_listener() { return ctx.goBack(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, AdminViewAssetComponent_h1_5_Template, 2, 1, "h1", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, AdminViewAssetComponent_h1_9_Template, 2, 1, "h1", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, AdminViewAssetComponent_div_10_Template, 5, 0, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, AdminViewAssetComponent_p_11_Template, 3, 1, "p", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, AdminViewAssetComponent_p_12_Template, 3, 1, "p", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, AdminViewAssetComponent_dac_exercise_13_Template, 1, 3, "dac-exercise", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, AdminViewAssetComponent_dac_article_14_Template, 1, 3, "dac-article", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasLoaded);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.asset && (ctx.asset.tags == null ? null : ctx.asset.tags.length) > 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.shouldDisplayExercise());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.shouldDisplayArticle());
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _shared_spin_icon_spin_icon_component__WEBPACK_IMPORTED_MODULE_5__["SpinIconComponent"], _exercise_exercise_component__WEBPACK_IMPORTED_MODULE_6__["ExerciseComponent"], _article_article_component__WEBPACK_IMPORTED_MODULE_7__["ArticleComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGlicmFyeS1hc3NldHMvYWRtaW4tdmlldy1hc3NldC9hZG1pbi12aWV3LWFzc2V0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9saWJyYXJ5LWFzc2V0cy9hZG1pbi12aWV3LWFzc2V0L2FkbWluLXZpZXctYXNzZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjIgRGlzY292ZXIgYW5kIENoYW5nZSBAYXV0aG9yIFN0ZXBoZW4gTmllbHNvbiA8c25pZWxzb25AZGlzY292ZXJhbmRjaGFuZ2UuY29tPlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBGb3IgTGljZW5zZSBpbmZvcm1hdGlvbiBzZWUgTElDRU5TRS5tZCBpbiB0aGUgcm9vdCBmb2xkZXIgb2YgdGhpcyBwcm9qZWN0LlxuICovXG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdminViewAssetComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-admin-view-asset',
                templateUrl: './admin-view-asset.component.html',
                styleUrls: ['./admin-view-asset.component.scss']
            }]
    }], function () { return [{ type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] }, { type: _services_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"] }, { type: app_shared_services_alert_service__WEBPACK_IMPORTED_MODULE_2__["AlertService"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_4__["Location"] }]; }, null); })();


/***/ }),

/***/ "z+Bw":
/*!*********************************************************!*\
  !*** ./src/app/shared/models/single-choice-question.ts ***!
  \*********************************************************/
/*! exports provided: SingleChoiceQuestion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SingleChoiceQuestion", function() { return SingleChoiceQuestion; });
/* harmony import */ var _question__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./question */ "wEdZ");
/* harmony import */ var app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! app/shared/models/question-type */ "F+TI");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */


class SingleChoiceQuestion extends _question__WEBPACK_IMPORTED_MODULE_0__["Question"] {
    constructor() {
        super();
        this.type = app_shared_models_question_type__WEBPACK_IMPORTED_MODULE_1__["QuestionType"].SingleChoice;
        this.isSelected = false;
    }
    get answerDisplayText() {
        if (this.isSelected == true) {
            return "Checked";
        }
        else {
            return "Not Checked";
        }
    }
    get answerForSave() {
        return { isSelected: this.isSelected };
    }
    setSavedAnswer(data, labels) {
        if (data && data.isSelected === true) {
            this.isSelected = true;
        }
        else {
            this.isSelected = false;
        }
    }
    hasAnswer(answer) {
        // it always has an answer if it's selected or not selected.
        return true;
    }
    get isFilledOut() {
        return true;
    }
}


/***/ }),

/***/ "z37e":
/*!***************************************************!*\
  !*** ./src/app/theme/services/nav-bar.service.ts ***!
  \***************************************************/
/*! exports provided: NavBarService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavBarService", function() { return NavBarService; });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _shared_models_role__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/models/role */ "Y5fV");
/* harmony import */ var _login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../login/services/auth.service */ "6Hrc");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "qCKp");
/* harmony import */ var _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/services/dac-config.service */ "OApS");
/* harmony import */ var app_shared_models_capability__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/shared/models/capability */ "Yc7l");











class NavBarService {
    constructor(authService, activatedRoute, router, dacConfig) {
        this.authService = authService;
        this.activatedRoute = activatedRoute;
        this.router = router;
        this.dacConfig = dacConfig;
        this._userSubscription = this.authService.getLoginState().subscribe((stateUpdate) => {
            this.user = stateUpdate.user;
            this._navItems = this.createNavItems(); // update our navigation items.
            this._topNavBarItems = this.createTopNavItems();
        });
        // this._navItems = this.createNavItems();
        this._displaySideBarEvent = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this._navBarAction = new rxjs__WEBPACK_IMPORTED_MODULE_4__["Subject"]();
        this._reportNavBarItems = [];
    }
    ngOnDestroy() {
        this._userSubscription.unsubscribe();
    }
    get displaySideBarEvent() {
        return this._displaySideBarEvent;
    }
    get navBarAction() {
        return this._navBarAction;
    }
    toggleSidebar() {
        // send off an event to show the sidebar.
        this.displaySideBarEvent.next();
    }
    setupReportSidebar(reportClientId) {
        let navItems = [];
        navItems.push(this.getHomeMenuItem());
        navItems.push({
            id: "clients",
            name: "Patients",
            routerLink: ['/', 'admin', 'clients'],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            hasChildren: false
        });
        navItems.push({
            id: "currentClient",
            name: 'Back to ' + reportClientId,
            routerLink: ['/', 'admin', 'client', reportClientId],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            hasChildren: false
        });
        this._reportNavBarItems = navItems;
    }
    clearReportSidebar() {
        this._reportNavBarItems = [];
    }
    addReportNavBarItem(id, name) {
        this._reportNavBarItems.push({
            id: id,
            name: name,
            routerLink: null,
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            hasChildren: false,
            type: 'report-item'
        });
    }
    handleMenuItemClick(navItem, event) {
        if (navItem.id == 'logout') {
            event.preventDefault();
            event.stopPropagation();
            let currentRole = this.user.role;
            this.authService.logout().then((resp) => {
                if (resp && resp.redirectUrl) {
                    window.location.href = resp.redirectUrl;
                }
                else {
                    this.router.navigate(['/login']);
                }
            })
                .catch((error) => {
                console.error(error);
                this.router.navigate(["/login"]);
            });
            return;
        }
        this._navBarAction.next(navItem);
        if (navItem.type && navItem.type == 'report-item') {
            event.preventDefault();
            event.stopPropagation();
        }
    }
    get topNavBarItemsForDisplay() {
        let items = this._topNavBarItems;
        // any item with children... filter out the children based upon the display
        items.filter(i => i.children)
            .forEach(i => {
            i.children = i.children.filter(ic => this.shouldDisplayItem(ic));
            i.hasChildren = i.children.length > 0;
        });
        // now filter out the parents.
        return items.filter(ni => this.shouldDisplayItem(ni));
    }
    createTopNavItems() {
        let navItems = [
            this.getClientLoginMenuItem(),
            this.getAdminLoginMenuItem(),
            this.getClientDashboardMenuItem()
        ];
        if (this.dacConfig.isFeatureEnabled("admin.myaccount")) {
            navItems.push(this.getMyAccountMenuItem());
        }
        if (this.dacConfig.isFeatureEnabled("menu.contact")) {
            navItems.push(this.getContactMenuItem());
        }
        navItems.push(this.getLogoutMenuItem());
        return navItems;
    }
    createNavItems() {
        let navItems = [];
        navItems.push(this.getHomeMenuItem());
        navItems.push(this.getClientLoginMenuItem());
        navItems.push(this.getAdminLoginMenuItem());
        navItems.push(this.getClientDashboardMenuItem());
        if (this.dacConfig.isFeatureEnabled("menu.system-overview")) {
            navItems.push({
                id: "systemOverview",
                name: "System Overview",
                routerLink: ['/', 'std', 'admin', 'system'],
                role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].SuperUser],
                roleExplicitMatch: true,
                hasChildren: false
            });
        }
        if (this.dacConfig.isFeatureEnabled("menu.companies")) {
            navItems.push({
                id: "companies",
                name: "Companies",
                routerLink: ['/', 'std', 'admin', 'companies'],
                role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].SuperUser],
                roleExplicitMatch: true,
                hasChildren: false
            });
        }
        if (this.dacConfig.isFeatureEnabled("menu.users")) {
            navItems.push({
                id: "users",
                name: "Users",
                routerLink: ['/', 'std', 'admin', 'users'],
                role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Admin],
                roleExplicitMatch: false,
                hasChildren: false
            });
        }
        navItems.push({
            id: "clients",
            name: "Patients",
            routerLink: ['/', 'std', 'admin', 'clients'],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            hasChildren: false
        });
        let assessments = {
            id: "adminAssessments",
            name: "Assessments",
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            children: [],
            hasChildren: true
        };
        assessments.children.push({
            id: "manageAssessments",
            name: "Assessments",
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            routerLink: ['/', 'std', 'admin', 'assessment', 'manage'],
            hasChildren: false
        });
        assessments.children.push({
            id: "manageBatteries",
            name: "Batteries",
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            routerLink: ['/', 'std', 'admin', 'assessment', 'batteries'],
            hasChildren: false
        });
        if (this.dacConfig.isFeatureEnabled('assessments.reports.manage')) {
            assessments.children.push({
                id: "manageAssessmentReports",
                name: "Reports",
                role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].SuperUser],
                roleExplicitMatch: false,
                routerLink: ['/', 'std', 'admin', 'assessment', 'custom-reports'],
                hasChildren: false
            });
        }
        if (this.dacConfig.isFeatureEnabled("debug")) {
            navItems.push({
                id: "debug",
                name: "Debug",
                routerLink: ['/', 'debug'],
                role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
                roleExplicitMatch: false,
                hasChildren: false
            });
        }
        navItems.push(assessments);
        let library = {
            id: "adminLibrary",
            name: "Homework Library",
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            children: [],
            hasChildren: true
        };
        library.children.push({
            id: "libraryArticles",
            name: "Articles",
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            children: [],
            hasChildren: false,
            routerLink: ['/', 'std', 'admin', 'library', 'articles']
        });
        library.children.push({
            id: "libraryExercises",
            name: "Exercises",
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            children: [],
            hasChildren: false,
            routerLink: ['/', 'std', 'admin', 'library', 'exercises']
        });
        navItems.push(library);
        if (this.dacConfig.isFeatureEnabled("admin.shop")) {
            navItems.push({
                id: "shop",
                name: "Shop",
                routerLink: ['/', 'std', 'admin', 'shop'],
                role: [],
                capability: [app_shared_models_capability__WEBPACK_IMPORTED_MODULE_6__["Capability"].CAN_SHOP],
                roleExplicitMatch: false,
                hasChildren: false
            });
        }
        if (this.dacConfig.isFeatureEnabled("admin.myaccount")) {
            navItems.push(this.getMyAccountMenuItem());
        }
        if (this.dacConfig.isFeatureEnabled("menu.contact")) {
            navItems.push(this.getContactMenuItem());
        }
        navItems.push(this.getLogoutMenuItem());
        return navItems;
    }
    getContactMenuItem() {
        return {
            id: "help",
            name: "Contact",
            routerLink: ['/help'],
            role: [],
            roleExplicitMatch: false,
            hasChildren: false
        };
    }
    getClientDashboardMenuItem() {
        return {
            id: "clientDashboard",
            name: "Dashboard",
            routerLink: ['/', 'std', 'assessments', 'dashboard'],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Client],
            roleExplicitMatch: true,
            hasChildren: false
        };
    }
    getHomeMenuItem() {
        return {
            id: "home",
            name: "Home",
            routerLink: ['/'],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].UnAuthenticated],
            roleExplicitMatch: false,
            hasChildren: false
        };
    }
    getClientLoginMenuItem() {
        return {
            id: "clientLogin",
            name: "Client Login",
            routerLink: ['/login'],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].UnAuthenticated],
            roleExplicitMatch: true,
            hasChildren: false
        };
    }
    getAdminLoginMenuItem() {
        return {
            id: "adminLogin",
            name: "Therapist Login",
            routerLink: ['/loginAdmin/'],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].UnAuthenticated],
            roleExplicitMatch: true,
            hasChildren: false
        };
    }
    getLogoutMenuItem() {
        return {
            id: "logout",
            name: "Logout",
            routerLink: null // no link as we don't want to go to a logout right now.
            ,
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Client],
            roleExplicitMatch: false,
            hasChildren: false
        };
    }
    getMyAccountMenuItem() {
        return {
            id: "adminMyAccount",
            name: "My Account",
            routerLink: ['/', 'std', 'admin', 'my-account'],
            role: [_shared_models_role__WEBPACK_IMPORTED_MODULE_1__["Role"].Registered],
            roleExplicitMatch: false,
            hasChildren: false
        };
    }
    shouldDisplayItem(navItem) {
        if (navItem.capability && navItem.capability.length) {
            return navItem.capability.some(c => this.user.hasCapability(c));
        }
        if (navItem.role.length) {
            if (navItem.roleExplicitMatch) {
                return navItem.role.some(r => this.user.role === r);
            }
            else {
                return navItem.role.some(r => this.user.role <= r);
            }
        }
        return true;
    }
    get navItemsForDisplay() {
        let items = this.navItems;
        if (this._reportNavBarItems.length) {
            items = this._reportNavBarItems;
        }
        // any item with children... filter out the children based upon the display
        items.filter(i => i.children)
            .forEach(i => {
            i.children = i.children.filter(ic => this.shouldDisplayItem(ic));
            i.hasChildren = i.children.length > 0;
        });
        // now filter out the parents.
        return items.filter(ni => this.shouldDisplayItem(ni));
    }
    get navItems() {
        return this._navItems;
    }
}
NavBarService.ɵfac = function NavBarService_Factory(t) { return new (t || NavBarService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_0__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_0__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__["DacConfig"])); };
NavBarService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({ token: NavBarService, factory: NavBarService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵsetClassMetadata"](NavBarService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _login_services_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_0__["ActivatedRoute"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_0__["Router"] }, { type: _shared_services_dac_config_service__WEBPACK_IMPORTED_MODULE_5__["DacConfig"] }]; }, null); })();


/***/ }),

/***/ "z7D9":
/*!***************************************!*\
  !*** ./src/app/debug/debug.module.ts ***!
  \***************************************/
/*! exports provided: DebugModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DebugModule", function() { return DebugModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "tyNb");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/shared.module */ "PCNd");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "3Pt+");
/* harmony import */ var _debug_routing_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./debug-routing.module */ "KcOL");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */







class DebugModule {
}
DebugModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: DebugModule });
DebugModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function DebugModule_Factory(t) { return new (t || DebugModule)(); }, providers: [], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
            _debug_routing_module__WEBPACK_IMPORTED_MODULE_5__["DebugRoutingModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](DebugModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
        _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
        _debug_routing_module__WEBPACK_IMPORTED_MODULE_5__["DebugRoutingModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DebugModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_3__["CommonModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
                    _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
                    _debug_routing_module__WEBPACK_IMPORTED_MODULE_5__["DebugRoutingModule"]
                ],
                entryComponents: [],
                declarations: [],
                providers: [],
                exports: []
            }]
    }], null, null); })();


/***/ }),

/***/ "z8B+":
/*!*************************************************!*\
  !*** ./src/app/shared/models/AssignmentItem.ts ***!
  \*************************************************/
/*! exports provided: AssignmentItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssignmentItem", function() { return AssignmentItem; });
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */
class AssignmentItem {
    constructor() {
        this.name = "";
        this.dateAssigned = null;
        this.type = "Assessment";
    }
    get Id() {
        return this.id;
    }
    set Id(v) {
        this.id = v;
    }
    get Name() {
        return this.name;
    }
    set Name(v) {
        this.name = v;
    }
    get DateAssigned() {
        return this.dateAssigned;
    }
    set DateAssigned(v) {
        this.dateAssigned = v;
    }
    get DateCompleted() {
        return this.dateCompleted;
    }
    set DateCompleted(v) {
        this.dateCompleted = v;
    }
    setDateAssigned(time) {
        this.DateAssigned = new Date(time);
        return this.DateAssigned;
    }
    get IsComplete() {
        return this.dateCompleted != null;
    }
    get Type() {
        return this.type;
    }
    set Type(v) {
        this.type = v;
    }
    get ResultId() {
        return this.resultId;
    }
    set ResultId(v) {
        this.resultId = v;
        if (v !== null) {
            this.DateCompleted = new Date();
        }
    }
}


/***/ }),

/***/ "zUnb":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environments/environment */ "AytR");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "ZAI4");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "jhN1");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */




if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
// we setup our initial AWS config here...
// configure the AWS library here.
//  let awsConfigData = {
//    Auth: {
//   // REQUIRED only for Federated Authentication - Amazon Cognito Identity Pool ID
//   // identityPoolId: dacConfig.awsCognitoConfig.userPool.userIdentityPoolId, // 'us-east-1:0c4629df-3bcc-49b5-be6e-5861d5283b56',
//   // REQUIRED - Amazon Cognito Region
//   region: environment.awsCognitoConfig.awsCognitoRegion, // 'us-east-1',
//   // OPTIONAL - Amazon Cognito Federated Identity Pool Region
//   // Required only if it's different from Amazon Cognito Region
//   // identityPoolRegion: 'XX-XXXX-X',
//   // OPTIONAL - Amazon Cognito User Pool ID
//   userPoolId: environment.awsCognitoConfig.userPool.userPoolsId, // 'us-east-1_s9iDqPquj',
//   // OPTIONAL - Amazon Cognito Web Client ID (26-char alphanumeric string)
//   userPoolWebClientId: environment.awsCognitoConfig.userPool.webClientId, //'1271f4r7a3f24kk53j6emll9nb',
//   // OPTIONAL - Enforce user authentication prior to accessing AWS resources or not
//   mandatorySignIn: false,
//   // OPTIONAL - Configuration for cookie storage
//   // cookieStorage: {
//   // // REQUIRED - Cookie domain (only required if cookieStorage is provided)
//   //     domain: '.yourdomain.com',
//   // // OPTIONAL - Cookie path
//   //     path: '/',
//   // // OPTIONAL - Cookie expiration in days
//   //     expires: 365,
//   // // OPTIONAL - Cookie secure flag
//   //     secure: true
//   // },
//   // OPTIONAL - customized storage object
//   // storage: new MyStorage(),
//   // OPTIONAL - Manually set the authentication flow type. Default is 'USER_SRP_AUTH'
//   // authenticationFlowType: 'USER_PASSWORD_AUTH'
//   authenticationFlowType: 'USER_SRP_AUTH'
// }
//  }
//  Amplify.configure(awsConfigData);
if (window['dacAppConfig']) {
    let dacAppConfig = window['dacAppConfig'] || {};
    if (dacAppConfig.clientId) {
        _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].smartConfig.client_id = dacAppConfig.clientId;
    }
    if (dacAppConfig['fhirUrl']) {
        _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].smartConfig.fhirUrl = dacAppConfig['fhirUrl'];
    }
    if (dacAppConfig['apiUrl']) {
        _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].apiURL = dacAppConfig['apiUrl'];
    }
    if (dacAppConfig['smartStyleUrl']) {
        _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].smartConfig.smartStyleUrl = dacAppConfig['smartStyleUrl'];
    }
    if (dacAppConfig['logoSrc']) {
        _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].applicationLogo = dacAppConfig['logoSrc'];
    }
}
// oauth2.ready()
// .then(client => {
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["platformBrowser"]([
    { provide: 'AuthToken', useValue: window['AuthToken'] || _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].token }
    // ,{provide: 'fhirClient', useValue: client}
    // ,{provide: 'idToken', useValue: client.getIdToken()}
    ,
    { provide: 'StripePublicKey', useValue: _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].stripePublicKey },
    { provide: 'StripeChargeName', useValue: _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].stripeChargeName },
    { provide: 'EnabledFeatures', useValue: _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].features },
    { provide: 'Environment', useValue: _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"] }
]).bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"]);
// })
// .catch(error => {
//   if (error && error.message && error.message.indexOf(":") !== -1) {
//     let errorParts = error.message.split(":");
//     let errorKey = errorParts[0] || "error";
//     // TODO: @adunsulag need to be able to display an error message page here
//     if (errorKey == 'invalid_scope') {
//       alert(error.message);
//       console.error(error);
//       return; // nothing we can do here as the setup is incorrect
//     } else {
//       // need to review the scopes authorized and require authorization again if the scopes were not granted....
//       console.error(error);
//     }
//   } else {
//     // if there is not a session authorized here... then we need to launch
//     oauth2.authorize({
//       "client_id": clientId,
//       "scope": scopes,
//       "iss": fhirUrl,
//       "redirect_uri": redirectUrl
//     }).then((r) => {
//       // shouldn't really get here since we do a browser redirect
//         console.log(r);
//     })
//     .catch(error => {
//         // need to display some kind of error or retry type of screen here.
//         console.log(error);
//     });
//   }
// });


/***/ }),

/***/ "zXXW":
/*!*************************************************************!*\
  !*** ./src/app/shared/back-button/back-button.component.ts ***!
  \*************************************************************/
/*! exports provided: BackButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BackButtonComponent", function() { return BackButtonComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "tyNb");
/*
 *   Copyright (c) 2022 Discover and Change @author Stephen Nielson <snielson@discoverandchange.com>
 *   All rights reserved.
 *   For License information see LICENSE.md in the root folder of this project.
 */






class BackButtonComponent {
    constructor(location, router, activeRoute) {
        this.location = location;
        this.router = router;
        this.activeRoute = activeRoute;
    }
    ngOnInit() {
    }
    goBack() {
        if (this.route && this.route.length) {
            this.router.navigate(this.route, { relativeTo: this.activeRoute });
        }
        else {
            this.location.back();
        }
    }
}
BackButtonComponent.ɵfac = function BackButtonComponent_Factory(t) { return new (t || BackButtonComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"])); };
BackButtonComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BackButtonComponent, selectors: [["app-back-button"]], inputs: { route: "route" }, decls: 2, vars: 0, consts: [[1, "btn", "btn-primary", "text-light", 3, "click"]], template: function BackButtonComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BackButtonComponent_Template_a_click_0_listener() { return ctx.goBack(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Back");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } }, styles: ["[_nghost-%COMP%] {\n    display: inline-block;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL2JhY2stYnV0dG9uL2JhY2stYnV0dG9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxxQkFBcUI7QUFDekIiLCJmaWxlIjoic3JjL2FwcC9zaGFyZWQvYmFjay1idXR0b24vYmFjay1idXR0b24uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BackButtonComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-back-button',
                templateUrl: './back-button.component.html',
                styleUrls: ['./back-button.component.css']
            }]
    }], function () { return [{ type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }]; }, { route: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "zn8P":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "zn8P";

/***/ }),

/***/ "zuXg":
/*!*******************************************************************************************************!*\
  !*** ./src/app/reports/report-items/assessment-questions-list/assessment-questions-list.component.ts ***!
  \*******************************************************************************************************/
/*! exports provided: AssessmentQuestionsListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssessmentQuestionsListComponent", function() { return AssessmentQuestionsListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "fXoL");
/* harmony import */ var _models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/base-report-item-component */ "D8FE");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "ofXK");
/* harmony import */ var _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../scale-questions-list/scale-questions-list.component */ "d8w3");





function AssessmentQuestionsListComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 7);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r0.description, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
class AssessmentQuestionsListComponent extends _models_base_report_item_component__WEBPACK_IMPORTED_MODULE_1__["BaseReportItemComponent"] {
    constructor() {
        super();
    }
    ngOnInit() {
    }
    get assessment() {
        return this._assessment;
    }
    setReportData(data, results, variables) {
        if (data.assessment && results) {
            let assessmentResult = results.find(r => r.assessment.uid == data.assessment);
            this._assessment = assessmentResult ? assessmentResult.assessment : null;
        }
        if (data.title) {
            this._title = data.title;
        }
        else {
            this._title = this._assessment.name;
        }
    }
    ngAfterViewInit() {
        super.ngAfterViewInit();
    }
    getTitle() {
        return this._title;
    }
    getQuestionsForAssessment() {
        if (!this._assessment) {
            return [];
        }
        let questions = this._assessment.question_sets
            .map(qs => qs.questions)
            .reduce((a, b) => a.concat(b), []);
        return questions;
    }
}
AssessmentQuestionsListComponent.ɵfac = function AssessmentQuestionsListComponent_Factory(t) { return new (t || AssessmentQuestionsListComponent)(); };
AssessmentQuestionsListComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AssessmentQuestionsListComponent, selectors: [["dac-assessment-questions-list"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 9, vars: 3, consts: [[1, "card", "card-wider", "card-cascade"], [1, "view", "gradient-card-header", "primary-gradient", "text-light"], [1, "h3-responsive", "text-center"], [1, "card-body"], [1, "row"], ["class", "col", 3, "innerHTML", 4, "ngIf"], [1, "col", 3, "Questions"], [1, "col", 3, "innerHTML"]], template: function AssessmentQuestionsListComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "h3", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, AssessmentQuestionsListComponent_div_6_Template, 1, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "app-scale-questions-list", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.getTitle());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.description);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("Questions", ctx.getQuestionsForAssessment());
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _scale_questions_list_scale_questions_list_component__WEBPACK_IMPORTED_MODULE_3__["ScaleQuestionsListComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtaXRlbXMvYXNzZXNzbWVudC1xdWVzdGlvbnMtbGlzdC9hc3Nlc3NtZW50LXF1ZXN0aW9ucy1saXN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUEiLCJmaWxlIjoic3JjL2FwcC9yZXBvcnRzL3JlcG9ydC1pdGVtcy9hc3Nlc3NtZW50LXF1ZXN0aW9ucy1saXN0L2Fzc2Vzc21lbnQtcXVlc3Rpb25zLWxpc3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjIgRGlzY292ZXIgYW5kIENoYW5nZSBAYXV0aG9yIFN0ZXBoZW4gTmllbHNvbiA8c25pZWxzb25AZGlzY292ZXJhbmRjaGFuZ2UuY29tPlxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBGb3IgTGljZW5zZSBpbmZvcm1hdGlvbiBzZWUgTElDRU5TRS5tZCBpbiB0aGUgcm9vdCBmb2xkZXIgb2YgdGhpcyBwcm9qZWN0LlxuICovXG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AssessmentQuestionsListComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'dac-assessment-questions-list',
                templateUrl: './assessment-questions-list.component.html',
                styleUrls: ['./assessment-questions-list.component.scss']
            }]
    }], function () { return []; }, null); })();


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map